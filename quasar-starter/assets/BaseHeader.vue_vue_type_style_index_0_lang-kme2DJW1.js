const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NotificationBarMenu-WJw5u53D.js","assets/index-DLAlP7tE.js","assets/index-Dx9QcfFl.css","assets/ClosePopup-0qiMoSOJ.js","assets/BaseAvatar-ByMUVXc6.js","assets/BaseImage-tpLvwKJ1.js","assets/FileManagerService-CKlyxv3G.js","assets/useAxios-DN4MWJg7.js","assets/_commonjsHelpers-D6-XlEtG.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/BaseImage-BAIhGAoy.css","assets/BaseAvatar-DtUimqr1.css","assets/useAuth-B21JybNJ.js","assets/BaseThemeSwitcher.vue_vue_type_script_setup_true_lang-DnRFSS49.js","assets/BaseButton-C-l2QF7T.js","assets/BaseButton-5r8o33g0.css","assets/SearchMenu-AGQ0nGKh.js","assets/BaseDialog.vue_vue_type_script_setup_true_lang-C0-5gNPB.js","assets/Ellipsis-643mrh6r.js","assets/Ellipsis-D-gyw0_d.css","assets/BaseCommandPalette.vue_vue_type_script_setup_true_lang-BeAa0g3t.js","assets/BaseCard-ClBFMLe-.js","assets/BaseCard-jdQL2hgZ.css","assets/BaseInput.vue_vue_type_script_setup_true_lang-JQKWZZ7I.js","assets/BaseSpinner-CQNyfW0y.js","assets/BaseScrollArea.vue_vue_type_script_setup_true_lang-CDNUrqg-.js","assets/BaseLabelValueItem.vue_vue_type_script_setup_true_lang-PHu09pBb.js","assets/BaseResult.vue_vue_type_script_setup_true_lang-BfUlOw5B.js"])))=>i.map(i=>d[i]);
import{d as V,bI as D,j as $,bn as G,bu as H,C as j,bw as K,c as s,o as n,a1 as w,L as W,w as a,e as t,M as p,a2 as r,T as e,a3 as C,a as I,X as b,W as g,a8 as y,bL as Y,bv as U,aV as X,bj as A,dM as Z,aU as M,by as J,bx as ee,dE as x,dI as te,cY as ae,cW as oe,dN as se,dO as ne,bo as z,k as q,dP as le,b5 as re,dQ as ie,cz as ue,u as de,dR as ce,$ as fe,S as v,aF as me,aZ as Q,c4 as pe,dS as be,V as T,dT as ge,dU as ye,dV as _e,cL as he,ak as R,d5 as ve,at as E}from"./index-DLAlP7tE.js";import{C as B}from"./ClosePopup-0qiMoSOJ.js";import{B as P}from"./BaseAvatar-ByMUVXc6.js";import{u as ke}from"./useAuth-B21JybNJ.js";import{a as we,_ as Ne}from"./BaseThemeSwitcher.vue_vue_type_script_setup_true_lang-DnRFSS49.js";import{u as Se}from"./useAxios-DN4MWJg7.js";const Ce={class:"cursor-pointer text-weight-bold"},Ae=V({__name:"UserNavSetting",setup(N){const{screen:u}=D(),{t:d}=$(),o=G(),i=H(),{signOut:h}=ke(),f=j(()=>K.find(c=>c.iso==i.locale));return(c,l)=>(n(),s(w,W(c.$attrs,{clickable:""}),{default:a(()=>[t(r,{avatar:"",top:""},{default:a(()=>[e(o).loginedAvatar?(n(),s(P,{key:0,class:"shadow-5",src:e(o).loginedAvatar,size:"36px"},null,8,["src"])):p("",!0)]),_:1}),e(u).gt.xs?(n(),s(r,{key:0},{default:a(()=>[t(C,{lines:"1"},{default:a(()=>[I("span",Ce,b(e(o).loginedDisplay),1)]),_:1}),t(C,{caption:"",lines:1},{default:a(()=>l[0]||(l[0]=[g(" Sofware Engineer ")])),_:1})]),_:1})):p("",!0),t(r,{side:""},{default:a(()=>[t(y,{name:e(Y),size:"16px"},null,8,["name"])]),_:1}),t(U,null,{default:a(()=>[t(X,{style:{"min-width":"260px"}},{default:a(()=>[A((n(),s(w,{clickable:"",to:`/user/${e(o).auth?.id}`},{default:a(()=>[t(r,{avatar:""},{default:a(()=>[e(o).loginedAvatar?(n(),s(P,{key:0,src:e(o).loginedAvatar,size:"36px",rounded:""},null,8,["src"])):(n(),s(y,{key:1,name:e(Z)},null,8,["name"]))]),_:1}),t(r,null,{default:a(()=>[g(b(e(d)("base.yourProfile")),1)]),_:1})]),_:1},8,["to"])),[[B]]),t(M),t(w,{clickable:""},{default:a(()=>[t(r,{avatar:""},{default:a(()=>[t(y,{name:e(i).theme=="dark"?e(J):e(ee)},null,8,["name"])]),_:1}),t(r,null,{default:a(()=>[t(C,{lines:"1"},{default:a(()=>[g(b(e(d)("base.appearance"))+" : "+b(e(d)(`theme.${e(i).theme}`)),1)]),_:1})]),_:1}),t(r,{side:""},{default:a(()=>[t(y,{name:e(x)},null,8,["name"])]),_:1}),t(we,{toggle:!1,anchor:e(u).gt.xs?"top end":"bottom left",self:"top start"},null,8,["anchor"])]),_:1}),t(w,{clickable:""},{default:a(()=>[t(r,{avatar:""},{default:a(()=>[t(y,{name:e(te)},null,8,["name"])]),_:1}),t(r,null,{default:a(()=>[t(C,{lines:"1"},{default:a(()=>[g(b(e(d)("base.language"))+" : "+b(f.value?f.value.name:""),1)]),_:1})]),_:1}),t(r,{side:""},{default:a(()=>[t(y,{name:e(x)},null,8,["name"])]),_:1}),t(Ne,{anchor:e(u).gt.xs?"top end":"bottom left",self:"top start"},null,8,["anchor"])]),_:1}),t(M),A((n(),s(w,{clickable:""},{default:a(()=>[t(r,{avatar:""},{default:a(()=>[t(y,{name:e(ae)},null,8,["name"])]),_:1}),t(r,null,{default:a(()=>[g(b(e(d)("base.help")),1)]),_:1})]),_:1})),[[B]]),A((n(),s(w,{clickable:"",to:"/settings"},{default:a(()=>[t(r,{avatar:""},{default:a(()=>[t(y,{name:e(oe)},null,8,["name"])]),_:1}),t(r,null,{default:a(()=>[g(b(e(d)("base.setting")),1)]),_:1})]),_:1})),[[B]]),A((n(),s(w,{clickable:"",onClick:e(h)},{default:a(()=>[t(r,{avatar:""},{default:a(()=>[t(y,{name:e(se)},null,8,["name"])]),_:1}),t(r,null,{default:a(()=>[g(b(e(d)("base.logout")),1)]),_:1})]),_:1},8,["onClick"])),[[B]])]),_:1})]),_:1})]),_:1},16))}}),Te=()=>(Se(),{updateFcmSetting:async f=>{},refreshFcmToken:async f=>{},findAllByUser:async(f,c)=>new Promise(l=>{setTimeout(()=>{l([])},1500)}),findCountAllNotRead:async f=>new Promise(c=>{setTimeout(()=>{c(null)},500)}),updateReadNotify:async f=>new Promise(c=>{setTimeout(()=>{c(null)},500)}),updateReadNotifyAll:async()=>new Promise(f=>{setTimeout(()=>{f(null)},500)})}),Be=ne("notificationStore",()=>{const{cacheNotifyCount:N}=z(),u=q({lastestId:0,totalNotify:0});return{notify:u,setNotify:i=>{u.value.totalNotify=i.totalNotify,u.value.lastestId=i.lastestId},setLastNotify:i=>{N.value.lastestId=i}}}),Ie=()=>{const{findCountAllNotRead:N}=Te(),{cacheNotifyCount:u}=z(),d=Be(),{notify:o}=le(d),{setNotify:i}=d;return re(()=>{o.value.totalNotify=999}),{notify:o,setNotify:i,resetBadgeCount:()=>{o.value.totalNotify=0},notificationLink:(l,k)=>{if(l&&k){if(l=="LIKE_POST"||l=="SHARE"||l=="COMMENT_POST")return`/post/view/${k}`;if(l=="LIKE_COMMENT")return`/comment/view/${k}`;if(l=="COMMENT_REPLY")return`/comment/view/${k}?isReply=1`}},fetchNotReadNotify:async()=>{const l=await N(u.value&&u.value.lastestId?u.value.lastestId:0);l&&l.lastestId&&l.totalNotify&&i(l)}}},xe=["src"],Le={class:"q-mr-sm text-muted"},Oe={class:"q-gutter-md row items-center no-wrap"},De=V({__name:"BaseHeader",props:{bordered:{type:Boolean,default:!1},reveal:{type:Boolean,default:!1},showTogleDrawer:{type:Boolean,default:!1},frontend:{type:Boolean},showLogo:{type:Boolean,default:!0},hambergerMenu:{type:Boolean},hambergerIcon:{default:()=>ie},hambergerIconOff:{default:()=>x},showUserSetting:{type:Boolean,default:!0}},setup(N){const u=R(()=>E(()=>import("./NotificationBarMenu-WJw5u53D.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))),d=R(()=>E(()=>import("./SearchMenu-AGQ0nGKh.js"),__vite__mapDeps([16,1,2,17,18,9,19,20,21,22,23,4,5,6,7,8,10,11,24,25,26,27,14,15]))),o=ue(),{dark:i,screen:h}=D(),{appGoto:f}=de(),{notify:c,resetBadgeCount:l}=Ie(),{t:k}=$(),S=q(!1),L=()=>{S.value=!0},F=m=>{S.value=!1,setTimeout(()=>{f(m)},500)};return(m,_)=>(n(),s(ce,{reveal:m.reveal,"height-hint":"58",bordered:m.bordered,class:fe({"app-second-bg-color-theme-dark text-white":e(i).isActive,"bg-white text-black":!e(i).isActive})},{default:a(()=>[t(ve,{class:"q-py-xs"},{default:a(()=>[m.showTogleDrawer?(n(),s(v,{key:0,dense:"",flat:"",round:"",icon:e(o).isMobileOrTablet?m.hambergerIconOff:e(o).expandDrawer?m.hambergerIcon:m.hambergerIconOff?m.hambergerIconOff:m.hambergerIcon,onClick:_[0]||(_[0]=O=>e(o).isMobileOrTablet?e(o).setDrawerOpen(!e(o).drawerOpen):e(o).setExpandDrawer(!e(o).expandDrawer))},null,8,["icon"])):p("",!0),m.showLogo?(n(),s(v,{key:1,flat:"","no-caps":"","no-wrap":"",class:"q-mr-xs btn--no-hover",ripple:!1,to:"/"},{default:a(()=>[t(me,{style:{height:"auto",width:"42px"},square:""},{default:a(()=>[I("img",{src:e(i).isActive?"/logo/logo-white.png":"/logo/logo-black.png"},null,8,xe)]),_:1})]),_:1})):p("",!0),e(h).gt.xs?(n(),s(v,{key:2,flat:"",onClick:L,class:"text-capitalize"},{default:a(()=>[I("span",Le,b(e(k)("base.search")+" Vue Quasar"),1),t(y,{name:e(Q)},null,8,["name"])]),_:1})):p("",!0),t(pe),I("div",Oe,[e(h).gt.sm?(n(),s(v,{key:0,round:"",dense:"",flat:"",icon:e(be)},{default:a(()=>[t(T,null,{default:a(()=>_[2]||(_[2]=[g("Create a video or post")])),_:1})]),_:1},8,["icon"])):p("",!0),e(h).gt.sm?(n(),s(v,{key:1,round:"",dense:"",flat:"",icon:e(ge)},{default:a(()=>[t(T,null,{default:a(()=>_[3]||(_[3]=[g("Apps")])),_:1})]),_:1},8,["icon"])):p("",!0),e(h).gt.sm?(n(),s(v,{key:2,round:"",dense:"",flat:"",icon:e(ye),to:"/example/chats"},{default:a(()=>[t(T,null,{default:a(()=>_[4]||(_[4]=[g("Messages")])),_:1})]),_:1},8,["icon"])):p("",!0),e(h).gt.xs?p("",!0):(n(),s(v,{key:3,round:"",dense:"",flat:"",onClick:L},{default:a(()=>[t(y,{name:e(Q)},null,8,["name"])]),_:1})),t(v,{round:"",dense:"",flat:"",onClick:e(l),icon:e(_e)},{default:a(()=>[e(c)&&e(c).totalNotify?(n(),s(he,{key:0,color:"negative",rounded:"","text-color":"white",floating:""},{default:a(()=>[g(b(e(c).totalNotify>99?"99+":e(c).totalNotify),1)]),_:1})):p("",!0),t(T,null,{default:a(()=>[g(b(e(k)("nav.notifications")),1)]),_:1}),t(U,{anchor:"bottom left",self:"top left",style:{width:"360px"}},{default:a(()=>[t(e(u))]),_:1})]),_:1},8,["onClick","icon"]),m.showUserSetting?(n(),s(Ae,{key:4,style:{"max-width":"225px"}})):p("",!0)])]),_:1}),S.value?(n(),s(e(d),{key:0,modelValue:S.value,"onUpdate:modelValue":_[1]||(_[1]=O=>S.value=O),onOnClick:F},null,8,["modelValue"])):p("",!0)]),_:1},8,["reveal","bordered","class"]))}});export{Te as U,De as _};
