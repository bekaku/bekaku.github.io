import{d as g,j as S,bh as y,k as m,a$ as V,s as d,aa as w,c as E,o as Q,w as n,a as u,e as t,O as x,K as e,al as k,ae as B,ak as C,J as q,a4 as U,cv as A,a6 as I}from"./index-DApiqAPi.js";import{U as K}from"./UserService-C-gRDK6S.js";import{u as L}from"./useValidation-B-hJKTQl.js";import"./useAxios-xrYQU4R3.js";const N={class:"text-h6"},O={class:"row"},j={class:"col-12 col-md-6 q-pa-md"},W=g({__name:"SettingEmail",setup(D){const{t:s}=S(),l=y(),{updateEmail:c}=K(),{required:p,requireEmail:v}=L(),a=m({email:""}),i=m(!1);V(()=>{l.auth&&l.auth.email&&(a.value.email=l.auth.email)});const b=d(()=>a.value.email&&f.value),f=d(()=>a.value.email?w(a.value.email):!1),h=async()=>{i.value=!0;const o=await c(a.value);i.value=!1,o&&o.status=="OK"&&l.auth&&(l.auth.email=a.value.email)};return(o,r)=>(Q(),E(I,null,{default:n(()=>[u("div",N,x(e(s)("base.emailEdit")),1),t(k,{onSubmit:h},{default:n(()=>[u("div",O,[u("div",j,[t(B,{outlined:"",modelValue:a.value.email,"onUpdate:modelValue":r[0]||(r[0]=_=>a.value.email=_),label:e(s)("base.emailEdit"),rules:[e(p),e(v)],type:"email"},null,8,["modelValue","label","rules"])])]),t(C,{align:"right"},{default:n(()=>[t(q,{disable:!b.value,unelevated:"",color:"primary",icon:e(U),label:e(s)("base.edit"),type:"submit"},null,8,["disable","icon","label"])]),_:1})]),_:1}),t(A,{showing:i.value,label:e(s)("base.pleaseWait"),"label-class":"text-primary"},null,8,["showing","label"])]),_:1}))}});export{W as default};
