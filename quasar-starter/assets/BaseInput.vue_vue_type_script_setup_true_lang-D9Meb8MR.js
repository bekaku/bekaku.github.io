import{d as C,k as R,C as j,E as Y,d1 as Z,bj as G,Y as x,o as h,ai as $,aj as T,c as b,O as K,w as d,e as _,bz as U,L as B,r as p,M as V,T as F,Z as ee,al as te,z as le,a8 as I,W as ae,X as H,bA as ne,a as ie,bH as se}from"./index-ByEwR4_6.js";import{B as q}from"./BaseAvatar-DQj9ZB8f.js";/**
 * Vue Number Format 3.34.1
 * (c) 2021-2025 Dipak Sarkar <hello@dipaksarkar.in> (https://dipaksarkar.in/)
 * @license MIT
 */var z={prefix:"",suffix:"",separator:",",decimal:".",inputmode:"numeric",precision:2,minimumFractionDigits:null,prefill:!0,reverseFill:!1,min:null,max:null,nullValue:""};function oe(t){return l=0,e=t,i=20,Math.max(l,Math.min(e,i));var l,e,i}class D{options;input;number;isClean;isCustomDecimal;noPreSuffix;hasPreOrSuffix;prefix;preSufRegExp;prefixRegExp;suffixRegExp;numberRegExp;cleanRegExp;negativeRegExp;constructor(l){this.options=Object.assign(P(z),l);const{prefix:e,suffix:i,decimal:s,reverseFill:o}=this.options;this.input="",this.number="",this.isClean=!o;const a=e,n=i,r=a.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),u=n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&");r&&(this.prefixRegExp=new RegExp(`^${r}`)),u&&(this.suffixRegExp=new RegExp(`${u}$`)),this.prefix=e,this.numberRegExp=new RegExp(`[^0-9\\${s||"."}]+`,"gi"),this.cleanRegExp=new RegExp("[^0-9]+","gi"),this.negativeRegExp=new RegExp("[^0-9\\-]+","gi"),this.isCustomDecimal=s!==".",this.noPreSuffix=!a&&!n,this.hasPreOrSuffix=!this.noPreSuffix}isNull(){return!this.numberOnly(this.isClean?this.cleanRegExp:this.negativeRegExp)}clean(l=!1){return this.isClean=l,this}sign(){if(this.input===null||this.input===void 0)return"";const l=this.input.toString().indexOf(y)>=0;return this.isClean?l&&this.realNumber()>0?y:"":l?y:""}toFixed(){const l=Math.pow(10,this.options.precision);return(parseFloat(this.numberOnly(/\D+/g))/l||0).toFixed(oe(this.options.precision))}toNumber(l){return Number(l)}numberOnly(l){let e=this.input?.toString();return this.prefixRegExp&&(e=e.replace(this.prefixRegExp,"")),this.suffixRegExp&&(e=e.replace(this.suffixRegExp,"")),e.replace(l||this.numberRegExp,"")}inputWithPreOrSuffix(){return this.input&&this.prefixRegExp?this.prefixRegExp.test(this.input.toString()):!this.input||!this.suffixRegExp||this.suffixRegExp.test(this.input.toString())}isNegative(){return this.sign()===y}isNumber(l){return!isNaN(this.toNumber(l||this.input))}numbers(){const{reverseFill:l,decimal:e,separator:i}=this.options;if(l)this.number=this.toFixed().replace(".",e);else{const s=this.input?.toString().replace(this.prefixRegExp??"","").replace(this.suffixRegExp??"","").replace(new RegExp(y,"g"),""),o=this.input.toString().indexOf(e)>=0&&this.isCustomDecimal;let a=s;i&&(a=a.replace(new RegExp(`\\${i}`,"g"),"")),a=a.replace(e,"."),typeof this.input=="number"||this.isNumber()&&!o&&!this.inputWithPreOrSuffix()&&this.hasPreOrSuffix?this.number=this.parts(s,".").join(e):this.isNumber(a)&&!o&&this.inputWithPreOrSuffix()&&this.hasPreOrSuffix?this.number=this.parts(a,".").join(e):this.number=this.parts(this.numberOnly()).join(e)}return this.number}unformatNumber(){return this.numbers().toString().replace(this.options.decimal,".")}realNumber(){return parseFloat(this.unformatNumber())}parts(l,e){const{precision:i,minimumFractionDigits:s,decimal:o}=this.options;let a=l.toString().split(e||o);if(a.length>1&&(a[0]=this.toNumber(a[0])||0,a[1]=a.slice(1,a.length).join(""),a=a.slice(0,2)),this.isClean){const n=this.toNumber(a.join(".")).toFixed(i),r=this.toNumber(n),u=r.toFixed(s);a=s>=0&&r.toString().length<u.length?u.toString().split("."):r.toString().split(".")}return a.slice(0,2)}addSeparator(){const{decimal:l,separator:e}=this.options,i=this.numbers().split(l);return i[0]=i[0].toString().replace(/(\d)(?=(?:\d{3})+\b)/gm,`$1${e}`),i.join(l)}format(l){this.input=l;const{reverseFill:e,nullValue:i,prefix:s,suffix:o}=this.options;return this.isNull()&&!e?i:this.sign()+s+this.addSeparator()+o}unformat(l){this.input=l;const{reverseFill:e,nullValue:i}=this.options,s=this.realNumber(),o=this.unformatNumber();return this.isNull()||e&&s===0?i:this.sign()+o}}const y="-";function P(t){return JSON.parse(JSON.stringify(t))}function O(t){return new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:{facade:!0}})}function N(t){const l=t instanceof HTMLInputElement?t:t.querySelector("input");if(!l)throw new Error("number directive requires an input element");return l}function Q(t,l){const e=()=>{t.setSelectionRange(l,l)};e(),setTimeout(e,1)}function E(t,l,{emit:e=!0,force:i=!1,clean:s=!1}={}){const{options:o,oldValue:a}=t,{reverseFill:n,max:r,min:u}=o,g=l?.props?.value||t.value;if(i||a!==g){const f=new D(o).clean(s&&!n);let v=f.format(g),c=f.clean(!n).unformat(g);s&&(Number(r)===r&&Number(c)>r?(v=f.format(r),c=r.toString()):Number(u)===u&&Number(c)<u&&(v=f.format(u),c=u.toString())),t.oldValue=v,t.unmasked=c,t.value!==v&&(t.value=v)}return e&&t.dispatchEvent(O("input"))}var re={beforeMount:(t,{value:l,modifiers:e},i)=>{t=N(t);const s=Object.assign(P(z),l,e),{reverseFill:o,precision:a,decimal:n,inputmode:r}=s;t.options=s,t.setAttribute("inputmode",r),o&&t.value?(t.value=parseFloat(new D({...s,reverseFill:!1}).unformat(t.value)).toFixed(a),i?.props?.value&&(i.props.value=t.value)):t.value&&!isNaN(Number(t.value))&&(t.value=t.value.replace(".",n)),E(t,i,{force:s.prefill,clean:!0,emit:!1})},mounted:t=>{const l=(t=N(t)).parentElement||t,e=o=>{o.target===t&&function(a){const{target:n,detail:r}=a;if(r?.facade)return!1;a.stopPropagation();let u=n.value.length;const{oldValue:g,options:f}=n;n.selectionEnd&&(u=n.value.length-n.selectionEnd),E(n,null,{clean:!f.precision,emit:!1}),f.suffix&&(u=Math.max(u,f.suffix.length)),u=n.value.length-u,f.prefix&&(u=Math.max(u,f.prefix.length)),Q(n,u),g!==n.value&&n.dispatchEvent(O("input"))}(o)},i=o=>{o.target===t&&function(a){const{target:n}=a,{oldValue:r}=n;E(n,null,{force:!0,clean:!0,emit:!1}),r!==n.value&&n.dispatchEvent(O("input"))}(o)},s=o=>{o.target===t&&function(a,n){const{options:r}=n,{prefix:u,suffix:g,decimal:f,min:v,separator:c}=r,{key:k}=a,W=new RegExp(`${u}|${g}`,"g"),A=n.value.replace(W,""),J=v===void 0||Number(v)<0||Number(v)!==v;if(k===f)A.includes(f)?a.preventDefault():A||(n.value="0",n.dispatchEvent(new Event("input")));else if(k!==y||J){if(k==="Backspace"){const S=n.selectionEnd||0,L=n.value.slice(S-1,S),X=n.value.slice(S-2,S);let w=n.value.length-S;[u,y,c].includes(L)&&(a.preventDefault(),n.value=L===c?n.value.replace(X,""):n.value.replace(new RegExp(`[${u}${y}]`,"g"),""),w=Math.max(w,g.length),w=n.value.length-w,w=Math.max(w,u.length),Q(n,w),n.dispatchEvent(new Event("input")))}}else a.preventDefault()}(o,t)};l.addEventListener("input",e,!0),l.addEventListener("blur",i,!0),l.addEventListener("keydown",s,!0),t.cleanup=()=>{l.removeEventListener("input",e,!0),l.removeEventListener("blur",i,!0),l.removeEventListener("keydown",s,!0)}},updated:(t,{value:l,oldValue:e,modifiers:i},s)=>{if(t=N(t),l!==e){const o=t.options;t.options=Object.assign(o,l,i),E(t,s,{force:!0,clean:!1,emit:!1})}else E(t,s,{emit:!1})},unmounted:t=>{N(t)?.cleanup()}};const m=P(z);var M=C({name:"VueNumber",directives:{number:re},props:{modelValue:{type:[String,Number],required:!0},nullValue:{type:[Number,String],default:m.nullValue},masked:Boolean,readonly:Boolean,disabled:Boolean,reverseFill:{type:Boolean,default:m.reverseFill},prefill:{type:Boolean,default:m.prefill},precision:{type:Number,default:()=>m.precision},minimumFractionDigits:{type:Number,default:()=>m.minimumFractionDigits},decimal:{type:String,default:()=>m.decimal},min:{type:Number,default:()=>m.min},max:{type:Number,default:()=>m.max},separator:{type:String,default:()=>m.separator},prefix:{type:String,default:()=>m.prefix},suffix:{type:String,default:()=>m.suffix},inputmode:{type:String,default:()=>m.inputmode}},emits:["update:model-value","input:model-value"],setup(t,{emit:l}){const e=R(t.modelValue),i=R(!1),s=R(""),o=j(()=>({...t})),a=new D(o.value),n=j(()=>t.masked?a.format(e.value):s.value),r=()=>{l("update:model-value",n.value)};return Y(()=>t.modelValue,u=>{n.value!=u&&(e.value=a.format(u))}),{config:o,maskedValue:e,unmaskedValue:s,input:u=>{const{target:g}=u;e.value=g.value,s.value=g.unmasked,i.value=!0,l("input:model-value",n.value)},blur:()=>{i.value&&n.value!==t.modelValue&&r()},change:r}}});const ue=["value","readonly","disabled"];M.render=function(t,l,e,i,s,o){const a=Z("number");return G((h(),x("input",{type:"text",autocomplete:"off",value:t.maskedValue,readonly:t.readonly,disabled:t.disabled,class:"v-number vue-number-format",onChange:l[0]||(l[0]=(...n)=>t.change&&t.change(...n)),onInput:l[1]||(l[1]=(...n)=>t.input&&t.input(...n)),onBlur:l[2]||(l[2]=(...n)=>t.blur&&t.blur(...n))},null,40,ue)),[[a,t.config]])},M.__file="src/component.vue";const de=C({__name:"BaseInputMoney",props:$({config:{default:()=>({decimal:".",separator:",",prefix:"",suffix:"",precision:2,nullValue:"",masked:!1,reverseFill:!1})},hint:{},label:{},dense:{type:Boolean,default:!1},textAlign:{default:"left"},readonly:{type:Boolean,default:!1},outlined:{type:Boolean,default:!0}},{modelValue:{default:0},modelModifiers:{}}),emits:$(["change","update"],["update:modelValue"]),setup(t,{emit:l}){const e=l,i=T(t,"modelValue"),s=a=>{i.value=a?.target?.unmasked,e("update",a?.target?.unmasked)},o=a=>{e("change",a?.target?.unmasked)};return(a,n)=>(h(),b(K,null,{default:d(()=>[_(U,B(a.$attrs,{modelValue:i.value,"onUpdate:modelValue":n[3]||(n[3]=r=>i.value=r),outlined:a.outlined,dense:a.dense,hint:a.hint,label:a.label}),{control:d(()=>[i.value!=null?(h(),b(F(M),B({key:0,modelValue:i.value,"onUpdate:modelValue":n[0]||(n[0]=r=>i.value=r),class:["q-field__input",{"text-right":a.textAlign=="right","text-left":a.textAlign=="left","text-center":a.textAlign=="center"}]},a.config,{disabled:a.readonly||!1,onInput:n[1]||(n[1]=r=>s(r)),onChange:n[2]||(n[2]=r=>o(r))}),null,16,["modelValue","class","disabled"])):V("",!0)]),append:d(()=>[p(a.$slots,"append")]),before:d(()=>[p(a.$slots,"before")]),prepend:d(()=>[p(a.$slots,"prepend")]),hint:d(()=>[p(a.$slots,"hint")]),after:d(()=>[p(a.$slots,"after")]),_:3},16,["modelValue","outlined","dense","hint","label"])]),_:3}))}}),pe={key:0,class:"text-negative"},fe={class:"self-center full-width no-outline app-auto-newline",tabindex:"0"},ge=C({__name:"BaseInput",props:$({avatar:{},avatarSize:{default:"30px"},bottomSlots:{type:Boolean,default:!1},borderless:{type:Boolean,default:!1},autogrow:{type:Boolean,default:!0},counter:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},dense:{type:Boolean,default:!0},debounce:{default:0},disable:{type:Boolean},fetchImage:{type:Boolean,default:!1},filled:{type:Boolean,default:!1},hint:{},icon:{},iconSize:{default:"24px"},label:{},maxlength:{},min:{},max:{},moneyConfig:{},outlined:{type:Boolean,default:!0},placeholder:{},readonly:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},rules:{},rows:{default:1},maxRows:{},required:{type:Boolean,default:!1},stackLabel:{type:Boolean,default:!1},textAlign:{},textareaHeight:{default:"105px"},type:{default:"text"},isMoney:{type:Boolean},editMode:{type:Boolean,default:!0},viewBorderless:{type:Boolean,default:!0},viewOutlined:{type:Boolean,default:!1},viewStackLabel:{type:Boolean,default:!0},viewShowAfter:{type:Boolean,default:!0},viewShowAppend:{type:Boolean,default:!0},viewShowBefore:{type:Boolean,default:!0},viewShowHint:{type:Boolean,default:!0},viewShowPrepend:{type:Boolean,default:!0}},{modelValue:{},modelModifiers:{}}),emits:$(["update:model-value","focus","blur","clear"],["update:modelValue"]),setup(t){const l=T(t,"modelValue");return(e,i)=>e.editMode?(h(),x(ee,{key:0},[e.isMoney?(h(),b(de,B({key:1},e.$attrs,{modelValue:l.value,"onUpdate:modelValue":i[1]||(i[1]=s=>l.value=s),outlined:e.outlined,dense:e.dense,readonly:e.readonly,config:e.moneyConfig,label:e.label,"text-align":e.textAlign}),{append:d(()=>[p(e.$slots,"append")]),before:d(()=>[p(e.$slots,"before")]),prepend:d(()=>[p(e.$slots,"prepend")]),hint:d(()=>[p(e.$slots,"hint")]),after:d(()=>[p(e.$slots,"after")]),_:3},16,["modelValue","outlined","dense","readonly","config","label","text-align"])):(h(),b(te,B({key:0},e.$attrs,{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=s=>l.value=s),debounce:e.debounce,outlined:e.outlined&&!e.borderless,filled:e.filled,"bottom-slots":e.bottomSlots,label:e.label,"stack-label":e.stackLabel,placeholder:e.placeholder,readonly:e.readonly,disable:e.disable,rules:e.rules,autogrow:e.type=="textarea"?e.autogrow:void 0,rows:e.type=="textarea"?e.rows:void 0,"max-rows":e.type=="textarea"?e.maxRows:void 0,min:e.min,max:e.max,type:e.type,counter:e.counter,maxlength:e.maxlength,dense:e.type=="textarea"?!1:e.dense,rounded:e.rounded,clearable:e.clearable,"clear-icon":e.clearable?F(le):void 0,hint:e.hint,borderless:e.borderless,"input-style":{minHeight:e.type=="textarea"&&e.autogrow?e.textareaHeight:""}}),{label:d(()=>[p(e.$slots,"label",{},()=>[ae(H(e.label)+" ",1),e.required?(h(),x("span",pe,"*")):V("",!0)])]),before:d(()=>[p(e.$slots,"before")]),prepend:d(()=>[p(e.$slots,"prepend",{},()=>[e.avatar?(h(),b(q,{key:0,"fetch-image":e.fetchImage,src:e.avatar,size:e.avatarSize},null,8,["fetch-image","src","size"])):e.icon?(h(),b(I,{key:1,name:e.icon,size:e.iconSize},null,8,["name","size"])):V("",!0)])]),append:d(()=>[p(e.$slots,"append")]),hint:d(()=>[p(e.$slots,"hint")]),after:d(()=>[p(e.$slots,"after")]),error:d(()=>[p(e.$slots,"error")]),loading:d(()=>[p(e.$slots,"loading")]),_:3},16,["modelValue","debounce","outlined","filled","bottom-slots","label","stack-label","placeholder","readonly","disable","rules","autogrow","rows","max-rows","min","max","type","counter","maxlength","dense","rounded","clearable","clear-icon","hint","borderless","input-style"]))],64)):(h(),b(U,B({key:1},e.$attrs,{"model-value":l.value,"bottom-slots":e.bottomSlots,label:e.label,outlined:e.viewOutlined,filled:e.filled,"stack-label":e.viewStackLabel,dense:e.dense,borderless:e.viewBorderless,hint:e.viewShowHint?e.hint:void 0}),ne({control:d(()=>[ie("div",fe,H(e.type=="number"||e.isMoney?F(se)(l.value):l.value),1)]),_:2},[e.viewShowBefore?{name:"before",fn:d(()=>[p(e.$slots,"before")]),key:"0"}:void 0,e.viewShowPrepend?{name:"prepend",fn:d(()=>[p(e.$slots,"prepend",{},()=>[e.avatar?(h(),b(q,{key:0,"fetch-image":e.fetchImage,src:e.avatar,size:e.avatarSize},null,8,["fetch-image","src","size"])):e.icon?(h(),b(I,{key:1,name:e.icon,size:e.iconSize},null,8,["name","size"])):V("",!0)])]),key:"1"}:void 0,e.viewShowAppend?{name:"append",fn:d(()=>[p(e.$slots,"append")]),key:"2"}:void 0,e.viewShowHint?{name:"hint",fn:d(()=>[p(e.$slots,"hint")]),key:"3"}:void 0,e.viewShowAfter?{name:"after",fn:d(()=>[p(e.$slots,"after")]),key:"4"}:void 0]),1040,["model-value","bottom-slots","label","outlined","filled","stack-label","dense","borderless","hint"]))}});export{ge as _};
