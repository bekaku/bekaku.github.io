const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BaseAlert-DKHU-LWX.js","assets/index-XkaHhxLP.js","assets/index-URpdf1ZP.css","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/BaseAlert-bwoYSZ53.css"])))=>i.map(i=>d[i]);
import{l as F,ad as k,u as I,r as A,ae as p,c as B,m as w,n as i,aq as U,w as s,x as l,a0 as v,aA as C,t as f,a5 as e,aB as T,z as _,V as z,aC as b,av as r,aD as G,aE as H,af as S,aF as L,aG as J,aH as O,aI as R,aJ as $}from"./index-XkaHhxLP.js";import{u as j}from"./useValidation-7fikltb2.js";import{B as K}from"./BaseButton-DDrDFqh4.js";const W={class:"row"},X={key:0,class:"col-12 col-md-12"},Y={class:"col-12 col-md-12 q-py-sm"},Z={class:"col-12 col-md-12"},oe=F({__name:"PasswordForm",props:k({submitLabel:{},actionAlign:{default:"center"},showCurrentPassword:{type:Boolean,default:!1},showLogout:{type:Boolean,default:!1}},{currentPassword:{},currentPasswordModifiers:{},newPassword:{},newPasswordModifiers:{},logoutAllDevice:{type:Boolean},logoutAllDeviceModifiers:{},loading:{type:Boolean},loadingModifiers:{}}),emits:k(["onSubmit"],["update:currentPassword","update:newPassword","update:logoutAllDevice","update:loading"]),setup(m,{emit:D}){const M=T(()=>$(()=>import("./BaseAlert-DKHU-LWX.js"),__vite__mapDeps([0,1,2,3,4]))),{t:o}=I(),{validatePasswordStrongV2:g,requireField:y}=j(),u=A(!1),V=p(m,"currentPassword"),n=p(m,"newPassword"),h=p(m,"logoutAllDevice"),P=p(m,"loading"),c=A(""),Q=D,E=d=>d===n.value,N=B(()=>n.value?g(n.value):!1),q=B(()=>c.value&&n.value&&n.value===c.value),x=()=>{n.value&&Q("onSubmit")};return(d,t)=>(i(),w(U,{flat:""},{default:s(()=>[l(R,{onSubmit:x},{default:s(()=>[l(C,null,{default:s(()=>[l(e(M),{dense:"",type:"is-warning",icon:e(_),message:e(o)("authen.helper2"),radius:"",class:"q-mb-md"},null,8,["icon","message"]),f("div",W,[d.showCurrentPassword?(i(),z("div",X,[l(b,{readonly:P.value,outlined:"",dense:"",autocomplete:"off",modelValue:V.value,"onUpdate:modelValue":t[1]||(t[1]=a=>V.value=a),type:u.value?"text":"password",label:e(o)("authen.currentPassword"),rules:[a=>e(y)(a,e(o)("authen.currentPassword"))]},{prepend:s(()=>[l(r,{name:e(_)},null,8,["name"])]),append:s(()=>[l(r,{name:u.value?e(G):e(H),onClick:t[0]||(t[0]=a=>u.value=!u.value)},null,8,["name"])]),_:1},8,["readonly","modelValue","type","label","rules"])])):v("",!0),f("div",Y,[l(b,{readonly:P.value,outlined:"",dense:"",autocomplete:"off",modelValue:n.value,"onUpdate:modelValue":t[2]||(t[2]=a=>n.value=a),type:u.value?"text":"password",label:e(o)("authen.newPassword"),rules:[a=>e(y)(a,e(o)("authen.newPassword")),a=>e(g)(a)||e(o)("authen.helper2")]},{prepend:s(()=>[l(r,{name:e(L),color:"grey-9"},null,8,["name"])]),append:s(()=>[N.value?(i(),w(r,{key:0,name:e(S),color:"positive"},null,8,["name"])):v("",!0)]),_:1},8,["readonly","modelValue","type","label","rules"])]),f("div",Z,[l(b,{readonly:P.value,outlined:"",dense:"",autocomplete:"off",modelValue:c.value,"onUpdate:modelValue":t[3]||(t[3]=a=>c.value=a),type:u.value?"text":"password",label:e(o)("authen.confirmPassword"),rules:[a=>e(y)(a,e(o)("authen.confirmPassword")),a=>E(a)||e(o)("error.passwordNotMatchNew")]},{prepend:s(()=>[l(r,{name:e(L),color:"grey-9"},null,8,["name"])]),append:s(()=>[q.value?(i(),w(r,{key:0,name:e(S),color:"positive"},null,8,["name"])):v("",!0)]),_:1},8,["readonly","modelValue","type","label","rules"])])])]),_:1}),d.showLogout?(i(),w(C,{key:0},{default:s(()=>[f("div",null,[l(J,{modelValue:h.value,"onUpdate:modelValue":t[4]||(t[4]=a=>h.value=a),label:e(o)("authen.logoutAll")},null,8,["modelValue","label"])])]),_:1})):v("",!0),l(O,{align:d.actionAlign},{default:s(()=>[l(K,{type:"submit",label:d.submitLabel||e(o)("base.okay")},null,8,["label"])]),_:1},8,["align"])]),_:1})]),_:1}))}});export{oe as _};
