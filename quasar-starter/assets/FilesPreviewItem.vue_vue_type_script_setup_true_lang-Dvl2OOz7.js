import{d as v,C as P,Y as g,o as s,Z as Q,e as n,c as l,M as t,L as h,w as a,r as m,S as N,T as r,z as B,a1 as C,a2 as p,a3 as y,$ as k,W as f,X as u,aG as I,a8 as c,V as D}from"./index-BGI1DWlv.js";import{B as V}from"./BaseImage-BFLMrB48.js";import{g as q}from"./FileManagerService-BpyyplC3.js";const F={key:1,class:"text-center"},E=v({__name:"FilesPreviewItem",props:{showDelete:{type:Boolean,default:!0},col:{default:"col-3 q-pa-md"},item:{},index:{},formatSize:{type:Boolean,default:!1},fetch:{type:Boolean,default:!1},useThumbnail:{type:Boolean,default:!1},showName:{type:Boolean,default:!0},showSize:{type:Boolean,default:!0},imageSize:{default:"125px"},imageHeight:{},iconSize:{default:"4em"},textColor:{},dense:{type:Boolean,default:!0},showTooltip:{type:Boolean,default:!1},ratio:{default:4/3},linesName:{default:1}},emits:["on-remove","on-click"],setup(T,{emit:$}){const d=T,z=$,b=P(()=>d.useThumbnail&&d.item.fileThumbnailPath?d.item.fileThumbnailPath:d.item.filePath),S=(e,o)=>{z("on-remove",o),e&&e.stopImmediatePropagation()},w=(e,o)=>{z("on-click",o),e&&e.stopImmediatePropagation()};return(e,o)=>e.item?.isImage||e.item?.image?(s(),g(Q,{key:0},[n(V,h(e.$attrs,{src:b.value,fetch:e.fetch||!1,ratio:e.ratio||1,class:"cursor-pointer",onClick:o[1]||(o[1]=i=>w(i,e.index))}),{default:a(()=>[e.showDelete?(s(),l(N,{key:0,onClick:o[0]||(o[0]=i=>S(i,e.index)),class:"absolute all-pointer-events",name:"info",style:{top:"8px",left:"8px"},round:"",flat:"",icon:r(B),color:"negative"},null,8,["icon"])):t("",!0),m(e.$slots,"default")]),_:3},16,["src","fetch","ratio"]),e.showName||e.showSize?(s(),l(C,h({key:0,dense:e.dense},e.$attrs,{class:"q-pa-none"}),{default:a(()=>[n(p,null,{default:a(()=>[e.showName?(s(),l(y,{key:0,lines:e.linesName,class:k(e.textColor)},{default:a(()=>[m(e.$slots,"fileName",{},()=>[f(u(e.item.fileName),1)])]),_:3},8,["lines","class"])):t("",!0)]),_:3}),n(p,{side:""},{default:a(()=>[e.showSize?(s(),l(y,{key:0,caption:""},{default:a(()=>[m(e.$slots,"size",{},()=>[f(u(e.formatSize?r(I)(e.item.fileSize):e.item.fileSize),1)])]),_:3})):t("",!0)]),_:3})]),_:3},16,["dense"])):t("",!0)],64)):(s(),g("div",F,[n(c,h(e.$attrs,{class:"cursor-pointer",onClick:o[3]||(o[3]=i=>w(i,e.index)),size:e.iconSize,name:r(q)(e.item.fileMime)}),{default:a(()=>[e.showDelete?(s(),l(N,{key:0,onClick:o[2]||(o[2]=i=>S(i,e.index)),class:"absolute all-pointer-events",name:"info",style:{top:"8px",left:"8px"},round:"",flat:"",icon:r(B),color:"negative"},null,8,["icon"])):t("",!0),e.showTooltip&&e.item.fileName?(s(),l(D,{key:1},{default:a(()=>[f(u(e.item.fileName),1)]),_:1})):t("",!0)]),_:1},16,["size","name"]),e.showName||e.showSize?(s(),l(C,{key:0,dense:e.dense,class:"q-pa-none"},{default:a(()=>[n(p,null,{default:a(()=>[e.showName?(s(),l(y,{key:0,lines:e.linesName,class:k(e.textColor)},{default:a(()=>[m(e.$slots,"fileName",{},()=>[f(u(e.item.fileName),1)])]),_:3},8,["lines","class"])):t("",!0)]),_:3}),n(p,{side:""},{default:a(()=>[e.showSize?(s(),l(y,{key:0,caption:"",class:k(e.textColor)},{default:a(()=>[m(e.$slots,"size",{},()=>[f(u(e.formatSize?r(I)(e.item.fileSize):e.item.fileSize),1)])]),_:3},8,["class"])):t("",!0)]),_:3})]),_:3},8,["dense"])):t("",!0)]))}});export{E as _};
