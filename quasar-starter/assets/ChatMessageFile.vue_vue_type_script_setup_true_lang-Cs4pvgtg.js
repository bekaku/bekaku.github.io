const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BaseFileViewDialog--mll0ABH.js","assets/FileManagerService-CXiPGXBm.js","assets/useAxios-BBYX69-N.js","assets/index--rRessbS.js","assets/index-gdJTHt4v.css","assets/BasePdfViewDialog.vue_vue_type_script_setup_true_lang-DyvAEAwZ.js","assets/image-view-B1AYEfDT.js","assets/BaseFilesPreviewItem.vue_vue_type_script_setup_true_lang-BUFnP1lA.js","assets/BaseAvatar-DBU721Eb.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/BaseAvatar-DIqnQNII.css","assets/BaseFilesPreviewItemAlt.vue_vue_type_script_setup_true_lang-GyMzjN0R.js","assets/BaseScrollArea.vue_vue_type_script_setup_true_lang-DygCZjl9.js","assets/useAppMeta-BgtF2_2c.js","assets/use-meta-CZkgALQz.js","assets/BasePage.vue_vue_type_script_setup_true_lang-CZYhbiCb.js","assets/BaseCard-B88I9Z5e.js","assets/BaseCard-BQ9eHCk3.css","assets/ClosePopup-CdkpPTzR.js","assets/BaseSwiperSlides.vue_vue_type_script_setup_true_lang-CovP4bx-.js","assets/index-Bj2KssbE.js","assets/SkeletonItem.vue_vue_type_script_setup_true_lang-Cpqn83wz.js","assets/image-view-CsOIvqrE.css","assets/BaseImageViewDialog-YJYF74Zp.js","assets/BaseImageViewDialog-1whlK3ju.css"])))=>i.map(i=>d[i]);
import{l as A,$ as L,u as O,r as d,c as u,R as r,n as t,t as M,m as p,T as m,W as h,X as I,I as D,x as q,w as k,az as E,J as y,L as R,M as W,bg as G,p as H,q as J,aG as Q,aO as U}from"./index--rRessbS.js";import{_ as X}from"./BaseFilesPreviewItem.vue_vue_type_script_setup_true_lang-BUFnP1lA.js";import{_ as j}from"./BaseFilesPreviewItemAlt.vue_vue_type_script_setup_true_lang-GyMzjN0R.js";const K={key:0,class:"row"},Y={key:1,class:"row"},Z={class:"col-12 q-py-sm",style:{"overflow-x":"auto"}},te=A({__name:"ChatMessageFile",props:{chatId:{},files:{},sent:{type:Boolean},showImageSlideAll:{type:Boolean,default:!0},miniChat:{type:Boolean},fileTextColor:{}},setup(g){const C=Q(()=>U(()=>import("./BaseFileViewDialog--mll0ABH.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]))),{isSmallScreen:z}=L(),{t:_}=O(),c=d(),w=d([]),x=d(0),n=d(!1),v=u(()=>g.files.filter(e=>e.fileManager)),o=u(()=>g.files.filter(e=>e.fileManager&&e.fileManager.image)),i=u(()=>g.files.filter(e=>e.fileManager&&!e.fileManager.image)),S=u(()=>{const e=o.value.length;return e==1?"col-12 col-md-12":e==2?"col-6 col-md-6":e==3?"col-4 col-md-4":"col-3 col-md-3"}),B=u(()=>v.value.length==1?"250px":v.value.length==2?"125px":"100px"),F=u(()=>i.value.length==1?"550px":i.value.length==2?"125px":"100px"),V=e=>{if(e!=null&&i.value&&v.value.length>0)return v.value[e]},$=e=>{if(e!=null&&i.value&&i.value.length>0)return i.value[e]},b=e=>new Promise(a=>{const l=o.value.findIndex(s=>s.id==e.id);if(l>=0){const s=o.value;for(const f of s)f&&f.fileManager&&w.value.push(f.fileManager);x.value=l}a(!0)}),P=async e=>{n.value=!1,x.value=0,w.value=[];const a=V(e);a&&a.fileManager&&(g.showImageSlideAll&&a.fileManager.image&&await b(a),c.value=a,n.value=!0)},N=async(e,a)=>{n.value=!1;const l=$(e);l&&l.fileManager&&(c.value=l,n.value=!0)};return(e,a)=>(t(),r(h,null,[M("div",H(J(e.$attrs)),[o.value&&o.value.length>0?(t(),r("div",K,[(t(!0),r(h,null,I(o.value,(l,s)=>(t(),r("div",{key:`chat-message-f-preview-${s}-${l.id}`,class:D(["q-pa-xs",S.value])},[l.fileManager?(t(),p(X,{key:0,class:"rounded",style:{"border-radius":"10px"},item:l.fileManager,index:s,"show-delete":!1,"show-tooltip":"","text-color":e.fileTextColor?e.fileTextColor:e.sent?"text-black":void 0,"use-thumbnail":o.value.length>1,"image-size":B.value,"image-height":F.value,"show-name":!l.fileManager?.image,"show-size":!1,onOnClick:P},null,8,["item","index","text-color","use-thumbnail","image-size","image-height","show-name"])):m("",!0)],2))),128))])):m("",!0),i.value&&i.value.length>0?(t(),r("div",Y,[M("div",Z,[q(G,null,{default:k(()=>[(t(!0),r(h,null,I(i.value,(l,s)=>(t(),r(h,{key:`chat-message-file-preview-${s}-${l.id}`},[l.fileManager?(t(),p(j,{key:0,style:E({maxWidth:y(z)?"230px":"100%"}),item:l.fileManager,index:s,onOnClick:a[0]||(a[0]=(f,T)=>N(f,T)),"show-delete":!1,"icon-size":"2em","image-size":"2em","text-color":e.sent?"text-black":"",clickable:""},{fileName:k(()=>[R(W(l.fileManager.fileName),1)]),_:2},1032,["style","item","index","text-color"])):m("",!0)],64))),128))]),_:1})])])):m("",!0)],16),n.value&&c.value&&c.value.fileManager?(t(),p(y(C),{key:0,item:c.value.fileManager,"image-list":w.value,"select-index":x.value,title:y(_)("chats.chats"),"show-arrow":e.showImageSlideAll,show:n.value,"onUpdate:show":a[1]||(a[1]=l=>n.value=l)},null,8,["item","image-list","select-index","title","show-arrow","show"])):m("",!0)],64))}});export{te as _};
