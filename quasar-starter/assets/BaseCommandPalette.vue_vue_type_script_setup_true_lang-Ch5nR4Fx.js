import{l as F,aa as C,u as N,ab as D,r as M,c as O,m as o,n as l,W as T,w as n,ac as f,X as p,x as d,v as H,au as v,a0 as i,bc as z,af as m,bd as P,aY as B,az as E,at as U,a3 as W,a4 as X,as as S,be as w,bf as V,bg as $,bh as Y}from"./index-D_to5wmt.js";import{B as j}from"./BaseCard-BeCehtGl.js";import{_ as G}from"./BaseInput.vue_vue_type_script_setup_true_lang-BARuhFT1.js";import L from"./BaseSpinner-BGg13a_n.js";import{_ as J}from"./BaseScrollArea.vue_vue_type_script_setup_true_lang-DrSZhysz.js";import{_ as I}from"./BaseLabelValueItem.vue_vue_type_script_setup_true_lang-BqRzcale.js";import{_ as K}from"./BaseResult.vue_vue_type_script_setup_true_lang-FrnM8Hl_.js";const oe=F({__name:"BaseCommandPalette",props:C({items:{},bordered:{type:Boolean,default:!0},flat:{type:Boolean,default:!0},label:{},readonly:{type:Boolean,default:!1},dense:{type:Boolean,default:!0},denseItem:{type:Boolean,default:!0},canFilter:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},icon:{default:()=>Y},loading:{type:Boolean,default:!1},inputDebounce:{default:100},lazy:{type:Boolean},noOptionsText:{},placeholder:{},color:{default:"primary"},iconSize:{},avatarSize:{},scrollHeight:{default:"420px"},useCheckbox:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:C(["on-click"],["update:modelValue"]),setup(c,{emit:Q}){const{t:y}=N(),r=D(c,"modelValue"),s=M(""),q=Q,b=O(()=>s.value===void 0||s.value.trim().length==0?c.items:c.items.map(e=>{if(e.children){const u=e.children.filter(a=>a.label&&a.label.toLowerCase().includes(s.value.toLowerCase())||a.description!=null&&a.description.toLowerCase().includes(s.value.toLowerCase()));return{...e,children:u}}else return e.label&&e.label.toLowerCase().includes(s.value.toLowerCase())||e.description!=null&&e.description.toLowerCase().includes(s.value.toLowerCase())?e:null}).filter(e=>e!==null&&(!e.children||e.children.length>0))),k=e=>{c.readonly||(q("on-click",e),e!=null&&(c.multiple||(r.value===e?r.value=void 0:r.value=e),r.value!=null&&Array.isArray(r.value)&&(t(e)?r.value=r.value.filter(a=>a!==e):r.value.push(e))))},t=e=>{if(e!=null){if(!c.multiple)return r.value===e;if(r.value!=null&&Array.isArray(r.value))return r.value.find(u=>u==e)}};return(e,u)=>(l(),o(j,T(e.$attrs,{bordered:e.bordered,flat:e.flat}),{default:n(()=>[e.canFilter&&!e.readonly?(l(),f(m,{key:0},[d(G,{modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=a=>s.value=a),class:"q-px-sm",borderless:"",dense:e.dense,debounce:e.inputDebounce,placeholder:e.placeholder||i(y)("base.typeForsearch")+"..."},{prepend:n(()=>[e.loading?(l(),o(L,{key:0,type:"defult",size:"24px",class:"q-mb-sm"})):(l(),o(v,{key:1,name:e.icon,class:"text-muted",size:"20px"},null,8,["name"]))]),append:n(()=>[H(e.$slots,"inputAppend")]),_:3},8,["modelValue","dense","debounce","placeholder"]),d(z)],64)):p("",!0),d(E,null,{default:n(()=>[e.loading?(l(),o(L,{key:0})):(l(),o(P,{key:1,dense:e.denseItem},{default:n(()=>[d(J,{height:e.scrollHeight},{default:n(()=>[(l(!0),f(m,null,B(b.value,(a,g)=>(l(),f(m,{key:`app-commandpalette-${g}`},[a&&a.children&&a.children.length>0?(l(),f(m,{key:0},[d(U,{header:""},{default:n(()=>[W(X(a.label),1)]),_:2},1024),a.border?(l(),o(z,{key:0,class:"q-mb-sm"})):p("",!0),(l(!0),f(m,null,B(a.children,(h,A)=>(l(),o(I,{key:`app-submenulevel2-${g}-${A}`,item:h,"avatar-size":e.iconSize,"icon-size":e.iconSize,"high-light-text":s.value,color:t(h.value)?e.color:void 0,dense:e.denseItem,clickable:e.readonly?!1:a.value!=null||a.children&&a.children.length>0,onOnClick:k},{default:n(()=>[d(S,{side:""},{default:n(()=>[e.useCheckbox?(l(),o(v,{key:0,name:t(h.value)?i(w):i(V),color:t(h.value)?e.color:void 0,size:"20px"},null,8,["name","color"])):t(h.value)?(l(),o(v,{key:1,name:i($),color:e.color,size:"20px"},null,8,["name","color"])):p("",!0)]),_:2},1024)]),_:2},1032,["item","avatar-size","icon-size","high-light-text","color","dense","clickable"]))),128))],64)):(l(),f(m,{key:1},[a?(l(),o(I,{key:0,item:a,dense:e.dense,"avatar-size":e.iconSize,"icon-size":e.iconSize,"high-light-text":s.value,clickable:a.value!=null||a.children&&a.children.length>0,color:t(a.value)?"primary":void 0,onOnClick:k},{default:n(()=>[d(S,{side:""},{default:n(()=>[e.useCheckbox?(l(),o(v,{key:0,name:t(a.value)?i(w):i(V),color:t(a.value)?e.color:void 0,size:"20px"},null,8,["name","color"])):t(a.value)?(l(),o(v,{key:1,name:i($),color:e.color,size:"20px"},null,8,["name","color"])):p("",!0)]),_:2},1024)]),_:2},1032,["item","dense","avatar-size","icon-size","high-light-text","clickable","color"])):p("",!0)],64))],64))),128)),b.value.length==0?(l(),o(K,{key:0,status:"empty",description:i(y)("error.dataNotfound")},null,8,["description"])):p("",!0)]),_:1},8,["height"])]),_:1},8,["dense"]))]),_:1})]),_:3},16,["bordered","flat"]))}});export{oe as _};
