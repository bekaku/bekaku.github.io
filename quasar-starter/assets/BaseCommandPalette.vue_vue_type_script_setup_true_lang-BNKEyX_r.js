import{d as A,ab as C,j as N,ac as O,k as T,s as D,c as o,o as l,E as M,w as n,R as f,F as p,e as d,r as P,a1 as v,K as i,aO as z,S as m,aP as E,T as B,Y as H,N as R,O as j,X as S,aQ as w,aR as V,aS as $,a6 as K,aT as U}from"./index-DApiqAPi.js";import{B as X}from"./BaseCard-NmWS53hk.js";import{_ as Y}from"./BaseInput.vue_vue_type_script_setup_true_lang-C_KIvvHf.js";import L from"./BaseSpinner-C5wBeV9a.js";import{_ as G}from"./BaseScrollArea.vue_vue_type_script_setup_true_lang-B8sr1guV.js";import{_ as I}from"./BaseLabelValueItem.vue_vue_type_script_setup_true_lang-BikHVIUa.js";import{_ as J}from"./BaseResult.vue_vue_type_script_setup_true_lang-Cc1G9IZx.js";const oe=A({__name:"BaseCommandPalette",props:C({items:{},bordered:{type:Boolean,default:!0},flat:{type:Boolean,default:!0},label:{},readonly:{type:Boolean,default:!1},dense:{type:Boolean,default:!0},denseItem:{type:Boolean,default:!0},canFilter:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},icon:{default:()=>U},loading:{type:Boolean,default:!1},inputDebounce:{default:100},lazy:{type:Boolean},noOptionsText:{},placeholder:{},color:{default:"primary"},iconSize:{},avatarSize:{},scrollHeight:{default:"420px"},useCheckbox:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:C(["on-click"],["update:modelValue"]),setup(c,{emit:Q}){const{t:y}=N(),r=O(c,"modelValue"),s=T(""),F=Q,k=D(()=>s.value===void 0||s.value.trim().length==0?c.items:c.items.map(e=>{if(e.children){const u=e.children.filter(a=>a.label&&a.label.toLowerCase().includes(s.value.toLowerCase())||a.description!=null&&a.description.toLowerCase().includes(s.value.toLowerCase()));return{...e,children:u}}else return e.label&&e.label.toLowerCase().includes(s.value.toLowerCase())||e.description!=null&&e.description.toLowerCase().includes(s.value.toLowerCase())?e:null}).filter(e=>e!==null&&(!e.children||e.children.length>0))),b=e=>{c.readonly||(F("on-click",e),e!=null&&(c.multiple||(r.value===e?r.value=void 0:r.value=e),r.value!=null&&Array.isArray(r.value)&&(t(e)?r.value=r.value.filter(a=>a!==e):r.value.push(e))))},t=e=>{if(e!=null){if(!c.multiple)return r.value===e;if(r.value!=null&&Array.isArray(r.value))return r.value.find(u=>u==e)}};return(e,u)=>(l(),o(X,M(e.$attrs,{bordered:e.bordered,flat:e.flat}),{default:n(()=>[e.canFilter&&!e.readonly?(l(),f(m,{key:0},[d(Y,{modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=a=>s.value=a),class:"q-px-sm",borderless:"",dense:e.dense,debounce:e.inputDebounce,placeholder:e.placeholder||i(y)("base.typeForsearch")+"..."},{prepend:n(()=>[e.loading?(l(),o(L,{key:0,type:"defult",size:"24px",class:"q-mb-sm"})):(l(),o(v,{key:1,name:e.icon,class:"text-muted",size:"20px"},null,8,["name"]))]),append:n(()=>[P(e.$slots,"inputAppend")]),_:3},8,["modelValue","dense","debounce","placeholder"]),d(z)],64)):p("",!0),d(K,null,{default:n(()=>[e.loading?(l(),o(L,{key:0})):(l(),o(E,{key:1,dense:e.denseItem},{default:n(()=>[d(G,{height:e.scrollHeight},{default:n(()=>[(l(!0),f(m,null,B(k.value,(a,g)=>(l(),f(m,{key:`app-commandpalette-${g}`},[a&&a.children&&a.children.length>0?(l(),f(m,{key:0},[d(H,{header:""},{default:n(()=>[R(j(a.label),1)]),_:2},1024),a.border?(l(),o(z,{key:0,class:"q-mb-sm"})):p("",!0),(l(!0),f(m,null,B(a.children,(h,q)=>(l(),o(I,{key:`app-submenulevel2-${g}-${q}`,item:h,"avatar-size":e.iconSize,"icon-size":e.iconSize,"high-light-text":s.value,color:t(h.value)?e.color:void 0,dense:e.denseItem,clickable:e.readonly?!1:a.value!=null||a.children&&a.children.length>0,onOnClick:b},{default:n(()=>[d(S,{side:""},{default:n(()=>[e.useCheckbox?(l(),o(v,{key:0,name:t(h.value)?i(w):i(V),color:t(h.value)?e.color:void 0,size:"20px"},null,8,["name","color"])):t(h.value)?(l(),o(v,{key:1,name:i($),color:e.color,size:"20px"},null,8,["name","color"])):p("",!0)]),_:2},1024)]),_:2},1032,["item","avatar-size","icon-size","high-light-text","color","dense","clickable"]))),128))],64)):(l(),f(m,{key:1},[a?(l(),o(I,{key:0,item:a,dense:e.dense,"avatar-size":e.iconSize,"icon-size":e.iconSize,"high-light-text":s.value,clickable:a.value!=null||a.children&&a.children.length>0,color:t(a.value)?"primary":void 0,onOnClick:b},{default:n(()=>[d(S,{side:""},{default:n(()=>[e.useCheckbox?(l(),o(v,{key:0,name:t(a.value)?i(w):i(V),color:t(a.value)?e.color:void 0,size:"20px"},null,8,["name","color"])):t(a.value)?(l(),o(v,{key:1,name:i($),color:e.color,size:"20px"},null,8,["name","color"])):p("",!0)]),_:2},1024)]),_:2},1032,["item","dense","avatar-size","icon-size","high-light-text","clickable","color"])):p("",!0)],64))],64))),128)),k.value.length==0?(l(),o(J,{key:0,status:"empty",description:i(y)("error.dataNotfound")},null,8,["description"])):p("",!0)]),_:1},8,["height"])]),_:1},8,["dense"]))]),_:1})]),_:3},16,["bordered","flat"]))}});export{oe as _};
