const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SearchMenu-D0IMuN5d.js","assets/index-XkaHhxLP.js","assets/index-URpdf1ZP.css","assets/BaseDialog.vue_vue_type_script_setup_true_lang-kuFD8fhe.js","assets/QBar-DuGDmsJL.js","assets/Ellipsis-BBzB3kcK.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/Ellipsis-D-gyw0_d.css","assets/BaseCommandPalette.vue_vue_type_script_setup_true_lang-LRbczDx0.js","assets/BaseCard-DrLvCx8j.js","assets/BaseCard-IC8sCSUl.css","assets/BaseInput.vue_vue_type_script_setup_true_lang-BwTPxX_d.js","assets/BaseAvatar-Dqw6W_ju.js","assets/FileManagerService-DId7GNxG.js","assets/useAxios-NyIByKkn.js","assets/BaseAvatar-BJnla1kf.css","assets/BaseSpinner-BZom3cqU.js","assets/BaseScrollArea.vue_vue_type_script_setup_true_lang-DgPJB-BX.js","assets/BaseLabelValueItem.vue_vue_type_script_setup_true_lang-B1iIdF7n.js","assets/BaseResult.vue_vue_type_script_setup_true_lang-DTjEwdLn.js","assets/BaseButton-DDrDFqh4.js","assets/BaseButton-DmMI56Mt.css"])))=>i.map(i=>d[i]);
import{l as R,c1 as L,u as M,cZ as q,bO as U,H as P,m as n,n as l,as as v,Y as z,w as t,x as a,a0 as b,at as r,a5 as e,au as S,t as T,X as _,W as y,av as p,c4 as F,cO as G,be as H,bJ as C,ea as J,bd as I,c$ as K,c_ as W,d$ as x,d0 as Y,d8 as Z,d6 as X,eb as j,ec as ee,bP as D,r as E,ed as ae,o as te,ee as se,br as oe,a as ne,ef as le,Z as re,a4 as N,aW as ie,bi as O,b9 as ue,eg as ce,dn as de,a7 as fe,bs as me,aB as pe,aJ as be}from"./index-XkaHhxLP.js";import{C as A}from"./ClosePopup-BaIzeh-o.js";import{B as Q}from"./BaseAvatar-Dqw6W_ju.js";import{u as he}from"./useAuth-oztovvzb.js";import{a as $,b as _e,_ as ge}from"./BaseLangugeSwitcherButton.vue_vue_type_script_setup_true_lang-D-1Q3Sw6.js";import{u as ye}from"./useAxios-NyIByKkn.js";const ve={class:"cursor-pointer text-weight-bold"},ke=R({__name:"UserNavSetting",setup(k){const{screen:u}=L(),{t:s,currenLocale:c}=M(),{isDark:i}=q(),g=U(),{signOut:f}=he(),{isSmallScreen:m}=P();return(o,h)=>(l(),n(v,z(o.$attrs,{dense:"",clickable:"",class:"rounded"}),{default:t(()=>[a(r,{avatar:"",top:""},{default:t(()=>[e(g).loginedAvatar?(l(),n(Q,{key:0,class:"shadow-5",src:e(g).loginedAvatar,size:"36px"},null,8,["src"])):b("",!0)]),_:1}),e(m)?b("",!0):(l(),n(r,{key:0},{default:t(()=>[a(S,{lines:"1"},{default:t(()=>[T("span",ve,_(e(g).loginedDisplay),1)]),_:1}),a(S,{caption:"",lines:1},{default:t(()=>h[0]||(h[0]=[y(" Sofware Engineer ")])),_:1})]),_:1})),e(m)?b("",!0):(l(),n(r,{key:1,side:""},{default:t(()=>[a(p,{name:e(F),size:"16px"},null,8,["name"])]),_:1})),a(G,null,{default:t(()=>[a(H,{style:{"min-width":"260px"}},{default:t(()=>[C((l(),n(v,{clickable:"",to:"/example/feed"},{default:t(()=>[a(r,{avatar:""},{default:t(()=>[e(g).loginedAvatar?(l(),n(Q,{key:0,src:e(g).loginedAvatar,size:"36px",rounded:""},null,8,["src"])):(l(),n(p,{key:1,name:e(J)},null,8,["name"]))]),_:1}),a(r,null,{default:t(()=>[y(_(e(s)("base.yourProfile")),1)]),_:1})]),_:1})),[[A]]),a(I),a(v,{clickable:""},{default:t(()=>[a(r,{avatar:""},{default:t(()=>[a(p,{name:e(i)?e(K):e(W)},null,8,["name"])]),_:1}),a(r,null,{default:t(()=>[a(S,{lines:"1"},{default:t(()=>[y(_(e(s)("base.appearance"))+" : "+_(e(i)?e(s)("theme.dark"):e(s)("theme.light")),1)]),_:1})]),_:1}),a(r,{side:""},{default:t(()=>[a(p,{name:e(x)},null,8,["name"])]),_:1}),a($,{toggle:!1,anchor:e(u).gt.xs?"top end":"bottom left",self:"top start"},null,8,["anchor"])]),_:1}),a(v,{clickable:""},{default:t(()=>[a(r,{avatar:""},{default:t(()=>[a(p,{name:e(Y)},null,8,["name"])]),_:1}),a(r,null,{default:t(()=>[a(S,{lines:"1"},{default:t(()=>[y(_(e(s)("base.language"))+" : "+_(e(c)?e(c).name:""),1)]),_:1})]),_:1}),a(r,{side:""},{default:t(()=>[a(p,{name:e(x)},null,8,["name"])]),_:1}),a(_e,{anchor:e(u).gt.xs?"top end":"bottom left",self:"top start"},null,8,["anchor"])]),_:1}),a(I),C((l(),n(v,{clickable:""},{default:t(()=>[a(r,{avatar:""},{default:t(()=>[a(p,{name:e(Z)},null,8,["name"])]),_:1}),a(r,null,{default:t(()=>[y(_(e(s)("base.help")),1)]),_:1})]),_:1})),[[A]]),C((l(),n(v,{clickable:"",to:"/settings"},{default:t(()=>[a(r,{avatar:""},{default:t(()=>[a(p,{name:e(X)},null,8,["name"])]),_:1}),a(r,null,{default:t(()=>[y(_(e(s)("base.setting")),1)]),_:1})]),_:1})),[[A]]),C((l(),n(v,{clickable:"",onClick:e(f)},{default:t(()=>[a(r,{avatar:""},{default:t(()=>[a(p,{name:e(j)},null,8,["name"])]),_:1}),a(r,null,{default:t(()=>[y(_(e(s)("base.logout")),1)]),_:1})]),_:1},8,["onClick"])),[[A]])]),_:1})]),_:1})]),_:1},16))}}),we=()=>(ye(),{updateFcmSetting:async f=>{},refreshFcmToken:async f=>{},findAllByUser:async(f,m)=>new Promise(o=>{setTimeout(()=>{o([])},1500)}),findCountAllNotRead:async f=>new Promise(m=>{setTimeout(()=>{m(null)},500)}),updateReadNotify:async f=>new Promise(m=>{setTimeout(()=>{m(null)},500)}),updateReadNotifyAll:async()=>new Promise(f=>{setTimeout(()=>{f(null)},500)})}),Ne=ee("notificationStore",()=>{const{cacheNotifyCount:k}=D(),u=E({lastestId:0,totalNotify:0});return{notify:u,setNotify:i=>{u.value.totalNotify=i.totalNotify,u.value.lastestId=i.lastestId},setLastNotify:i=>{k.value.lastestId=i}}}),Se=()=>{const{findCountAllNotRead:k}=we(),{cacheNotifyCount:u}=D(),s=Ne(),{notify:c}=ae(s),{setNotify:i}=s;return te(()=>{c.value.totalNotify=999}),{notify:c,setNotify:i,resetBadgeCount:()=>{c.value.totalNotify=0},notificationLink:(o,h)=>{if(o&&h){if(o=="LIKE_POST"||o=="SHARE"||o=="COMMENT_POST")return`/post/view/${h}`;if(o=="LIKE_COMMENT")return`/comment/view/${h}`;if(o=="COMMENT_REPLY")return`/comment/view/${h}?isReply=1`}},fetchNotReadNotify:async()=>{const o=await k(u.value&&u.value.lastestId?u.value.lastestId:0);o&&o.lastestId&&o.totalNotify&&i(o)}}},Ce=["src"],Ae={class:"q-mr-sm text-muted"},Te={class:"q-gutter-sm row items-center no-wrap"},Le=R({__name:"BaseHeader",props:{bordered:{type:Boolean,default:!1},reveal:{type:Boolean,default:!1},showTogleDrawer:{type:Boolean,default:!1},frontend:{type:Boolean},showLogo:{type:Boolean,default:!0},hambergerMenu:{type:Boolean},hambergerIcon:{default:()=>se},hambergerIconOff:{default:()=>x},showUserSetting:{type:Boolean,default:!0}},setup(k){const u=pe(()=>be(()=>import("./SearchMenu-D0IMuN5d.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]))),s=oe(),{dark:c,screen:i}=L(),{appGoto:g}=ne();Se();const{t:f}=M(),{isSmallScreen:m}=P(),o=E(!1),h=()=>{o.value=!0},V=d=>{o.value=!1,setTimeout(()=>{g(d)},500)};return(d,w)=>(l(),n(le,{reveal:d.reveal,"height-hint":"58",bordered:d.bordered,class:re({"app-second-bg-color-theme-dark text-white":e(c).isActive,"bg-white text-black":!e(c).isActive})},{default:t(()=>[a(me,{class:"q-py-xs"},{default:t(()=>[d.showTogleDrawer?(l(),n(N,{key:0,dense:"",flat:"",round:"",icon:e(s).isMobileOrTablet?d.hambergerIconOff:e(s).expandDrawer?d.hambergerIcon:d.hambergerIconOff?d.hambergerIconOff:d.hambergerIcon,onClick:w[0]||(w[0]=B=>e(s).isMobileOrTablet?e(s).setDrawerOpen(!e(s).drawerOpen):e(s).setExpandDrawer(!e(s).expandDrawer))},null,8,["icon"])):b("",!0),d.showLogo?(l(),n(N,{key:1,flat:"","no-caps":"","no-wrap":"",class:"q-mr-xs btn--no-hover",ripple:!1,to:"/"},{default:t(()=>[a(ie,{style:{height:"auto",width:"42px"},square:""},{default:t(()=>[T("img",{src:e(c).isActive?"/logo/logo-white.png":"/logo/logo-black.png"},null,8,Ce)]),_:1})]),_:1})):b("",!0),e(i).gt.xs?(l(),n(N,{key:2,flat:"",onClick:h,class:"text-capitalize"},{default:t(()=>[T("span",Ae,_(e(f)("base.search")+" Vue Quasar"),1),a(p,{name:e(O)},null,8,["name"])]),_:1})):b("",!0),a(ue),T("div",Te,[e(i).gt.xs?b("",!0):(l(),n(N,{key:0,round:"",dense:"",flat:"",onClick:h},{default:t(()=>[a(p,{name:e(O)},null,8,["name"])]),_:1})),a(N,{icon:e(ce),flat:"",round:"",dense:"",href:"https://github.com/bekaku/quasar-starter-template",target:"_blank"},null,8,["icon"]),a(N,{round:"",dense:"",flat:"",icon:e(de),to:"/example/chats"},{default:t(()=>[a(fe,null,{default:t(()=>w[2]||(w[2]=[y("Messages")])),_:1})]),_:1},8,["icon"]),e(m)?b("",!0):(l(),n(ge,{key:1})),e(m)?b("",!0):(l(),n($,{key:2,toggle:""})),d.showUserSetting?(l(),n(ke,{key:3,style:{"max-width":"225px"}})):b("",!0)])]),_:1}),o.value?(l(),n(e(u),{key:0,modelValue:o.value,"onUpdate:modelValue":w[1]||(w[1]=B=>o.value=B),onOnClick:V},null,8,["modelValue"])):b("",!0)]),_:1},8,["reveal","bordered","class"]))}});export{Le as _};
