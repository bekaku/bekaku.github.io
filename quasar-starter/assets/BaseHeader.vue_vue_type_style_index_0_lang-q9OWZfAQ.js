const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NotificationBarMenu-BBQ0aUP8.js","assets/index-BGAGrt6k.js","assets/index-Bb7z0Y_k.css","assets/ClosePopup-B9FW-W_Z.js","assets/BaseAvatar-BRZCl687.js","assets/FileManagerService-CDT2qW08.js","assets/useAxios-BZ55Spu7.js","assets/_commonjsHelpers-D6-XlEtG.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/BaseAvatar-DcMn6GyV.css","assets/useAuth-CA4OvXJq.js","assets/BaseThemeSwitcher.vue_vue_type_script_setup_true_lang-D-7FiR0q.js","assets/BaseButton-BwLqwEKS.js","assets/BaseButton-5r8o33g0.css","assets/SearchMenu-BGQCAKme.js","assets/BaseDialog.vue_vue_type_script_setup_true_lang-Bb8YvFP4.js","assets/QBar-BFeRJ3ed.js","assets/Ellipsis-wRwE5r-_.js","assets/Ellipsis-D-gyw0_d.css","assets/BaseCommandPalette.vue_vue_type_script_setup_true_lang-CJdYMt5k.js","assets/BaseCard-BWQ5CqGY.js","assets/BaseCard-jdQL2hgZ.css","assets/BaseInput.vue_vue_type_script_setup_true_lang-DFP_j7Q3.js","assets/BaseSpinner-KH8ujALv.js","assets/BaseScrollArea.vue_vue_type_script_setup_true_lang-DQEy7ZMm.js","assets/BaseLabelValueItem.vue_vue_type_script_setup_true_lang-CLXxDPsz.js","assets/BaseResult.vue_vue_type_script_setup_true_lang-Cm66HKp5.js"])))=>i.map(i=>d[i]);
import{l as D,bH as V,u as $,bX as H,bP as G,m as o,n as s,ar as w,W as K,w as a,x as t,X as p,as as l,a0 as e,at as S,t as x,a4 as b,a3 as _,au as g,c8 as W,bW as U,bd as X,bK as A,e7 as Y,bc as R,bZ as Z,bY as j,dZ as I,dh as J,d7 as ee,d5 as te,e8 as ae,e9 as oe,bQ as q,r as z,ea as se,o as ne,eb as le,br as re,a as ie,ec as ue,aq as de,$ as v,aV as fe,bh as L,b8 as ce,ed as me,a2 as T,ee as pe,ef as be,eg as _e,dn as ye,aA as M,bs as ge,aI as P}from"./index-BGAGrt6k.js";import{C as B}from"./ClosePopup-B9FW-W_Z.js";import{B as E}from"./BaseAvatar-BRZCl687.js";import{u as he}from"./useAuth-CA4OvXJq.js";import{a as ve,_ as ke}from"./BaseThemeSwitcher.vue_vue_type_script_setup_true_lang-D-7FiR0q.js";import{u as we}from"./useAxios-BZ55Spu7.js";const Ne={class:"cursor-pointer text-weight-bold"},Ce=D({__name:"UserNavSetting",setup(N){const{screen:d}=V(),{t:i,currenLocale:r}=$(),{isDark:u}=H(),f=G(),{signOut:y}=he();return(c,n)=>(s(),o(w,K(c.$attrs,{clickable:""}),{default:a(()=>[t(l,{avatar:"",top:""},{default:a(()=>[e(f).loginedAvatar?(s(),o(E,{key:0,class:"shadow-5",src:e(f).loginedAvatar,size:"36px"},null,8,["src"])):p("",!0)]),_:1}),e(d).gt.xs?(s(),o(l,{key:0},{default:a(()=>[t(S,{lines:"1"},{default:a(()=>[x("span",Ne,b(e(f).loginedDisplay),1)]),_:1}),t(S,{caption:"",lines:1},{default:a(()=>n[0]||(n[0]=[_(" Sofware Engineer ")])),_:1})]),_:1})):p("",!0),t(l,{side:""},{default:a(()=>[t(g,{name:e(W),size:"16px"},null,8,["name"])]),_:1}),t(U,null,{default:a(()=>[t(X,{style:{"min-width":"260px"}},{default:a(()=>[A((s(),o(w,{clickable:"",to:`/user/${e(f).auth?.id}`},{default:a(()=>[t(l,{avatar:""},{default:a(()=>[e(f).loginedAvatar?(s(),o(E,{key:0,src:e(f).loginedAvatar,size:"36px",rounded:""},null,8,["src"])):(s(),o(g,{key:1,name:e(Y)},null,8,["name"]))]),_:1}),t(l,null,{default:a(()=>[_(b(e(i)("base.yourProfile")),1)]),_:1})]),_:1},8,["to"])),[[B]]),t(R),t(w,{clickable:""},{default:a(()=>[t(l,{avatar:""},{default:a(()=>[t(g,{name:e(u)?e(Z):e(j)},null,8,["name"])]),_:1}),t(l,null,{default:a(()=>[t(S,{lines:"1"},{default:a(()=>[_(b(e(i)("base.appearance"))+" : "+b(e(u)?e(i)("theme.dark"):e(i)("theme.light")),1)]),_:1})]),_:1}),t(l,{side:""},{default:a(()=>[t(g,{name:e(I)},null,8,["name"])]),_:1}),t(ve,{toggle:!1,anchor:e(d).gt.xs?"top end":"bottom left",self:"top start"},null,8,["anchor"])]),_:1}),t(w,{clickable:""},{default:a(()=>[t(l,{avatar:""},{default:a(()=>[t(g,{name:e(J)},null,8,["name"])]),_:1}),t(l,null,{default:a(()=>[t(S,{lines:"1"},{default:a(()=>[_(b(e(i)("base.language"))+" : "+b(e(r)?e(r).name:""),1)]),_:1})]),_:1}),t(l,{side:""},{default:a(()=>[t(g,{name:e(I)},null,8,["name"])]),_:1}),t(ke,{anchor:e(d).gt.xs?"top end":"bottom left",self:"top start"},null,8,["anchor"])]),_:1}),t(R),A((s(),o(w,{clickable:""},{default:a(()=>[t(l,{avatar:""},{default:a(()=>[t(g,{name:e(ee)},null,8,["name"])]),_:1}),t(l,null,{default:a(()=>[_(b(e(i)("base.help")),1)]),_:1})]),_:1})),[[B]]),A((s(),o(w,{clickable:"",to:"/settings"},{default:a(()=>[t(l,{avatar:""},{default:a(()=>[t(g,{name:e(te)},null,8,["name"])]),_:1}),t(l,null,{default:a(()=>[_(b(e(i)("base.setting")),1)]),_:1})]),_:1})),[[B]]),A((s(),o(w,{clickable:"",onClick:e(y)},{default:a(()=>[t(l,{avatar:""},{default:a(()=>[t(g,{name:e(ae)},null,8,["name"])]),_:1}),t(l,null,{default:a(()=>[_(b(e(i)("base.logout")),1)]),_:1})]),_:1},8,["onClick"])),[[B]])]),_:1})]),_:1})]),_:1},16))}}),Se=()=>(we(),{updateFcmSetting:async y=>{},refreshFcmToken:async y=>{},findAllByUser:async(y,c)=>new Promise(n=>{setTimeout(()=>{n([])},1500)}),findCountAllNotRead:async y=>new Promise(c=>{setTimeout(()=>{c(null)},500)}),updateReadNotify:async y=>new Promise(c=>{setTimeout(()=>{c(null)},500)}),updateReadNotifyAll:async()=>new Promise(y=>{setTimeout(()=>{y(null)},500)})}),Ae=oe("notificationStore",()=>{const{cacheNotifyCount:N}=q(),d=z({lastestId:0,totalNotify:0});return{notify:d,setNotify:u=>{d.value.totalNotify=u.totalNotify,d.value.lastestId=u.lastestId},setLastNotify:u=>{N.value.lastestId=u}}}),Te=()=>{const{findCountAllNotRead:N}=Se(),{cacheNotifyCount:d}=q(),i=Ae(),{notify:r}=se(i),{setNotify:u}=i;return ne(()=>{r.value.totalNotify=999}),{notify:r,setNotify:u,resetBadgeCount:()=>{r.value.totalNotify=0},notificationLink:(n,k)=>{if(n&&k){if(n=="LIKE_POST"||n=="SHARE"||n=="COMMENT_POST")return`/post/view/${k}`;if(n=="LIKE_COMMENT")return`/comment/view/${k}`;if(n=="COMMENT_REPLY")return`/comment/view/${k}?isReply=1`}},fetchNotReadNotify:async()=>{const n=await N(d.value&&d.value.lastestId?d.value.lastestId:0);n&&n.lastestId&&n.totalNotify&&u(n)}}},Be=["src"],xe={class:"q-mr-sm text-muted"},Ie={class:"q-gutter-md row items-center no-wrap"},Ee=D({__name:"BaseHeader",props:{bordered:{type:Boolean,default:!1},reveal:{type:Boolean,default:!1},showTogleDrawer:{type:Boolean,default:!1},frontend:{type:Boolean},showLogo:{type:Boolean,default:!0},hambergerMenu:{type:Boolean},hambergerIcon:{default:()=>le},hambergerIconOff:{default:()=>I},showUserSetting:{type:Boolean,default:!0}},setup(N){const d=M(()=>P(()=>import("./NotificationBarMenu-BBQ0aUP8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),i=M(()=>P(()=>import("./SearchMenu-BGQCAKme.js"),__vite__mapDeps([14,1,2,15,16,17,8,18,19,20,21,22,4,5,6,7,9,23,24,25,26,12,13]))),r=re(),{dark:u,screen:f}=V(),{appGoto:y}=ie(),{notify:c,resetBadgeCount:n}=Te(),{t:k}=$(),C=z(!1),O=()=>{C.value=!0},F=m=>{C.value=!1,setTimeout(()=>{y(m)},500)};return(m,h)=>(s(),o(ue,{reveal:m.reveal,"height-hint":"58",bordered:m.bordered,class:de({"app-second-bg-color-theme-dark text-white":e(u).isActive,"bg-white text-black":!e(u).isActive})},{default:a(()=>[t(ge,{class:"q-py-xs"},{default:a(()=>[m.showTogleDrawer?(s(),o(v,{key:0,dense:"",flat:"",round:"",icon:e(r).isMobileOrTablet?m.hambergerIconOff:e(r).expandDrawer?m.hambergerIcon:m.hambergerIconOff?m.hambergerIconOff:m.hambergerIcon,onClick:h[0]||(h[0]=Q=>e(r).isMobileOrTablet?e(r).setDrawerOpen(!e(r).drawerOpen):e(r).setExpandDrawer(!e(r).expandDrawer))},null,8,["icon"])):p("",!0),m.showLogo?(s(),o(v,{key:1,flat:"","no-caps":"","no-wrap":"",class:"q-mr-xs btn--no-hover",ripple:!1,to:"/"},{default:a(()=>[t(fe,{style:{height:"auto",width:"42px"},square:""},{default:a(()=>[x("img",{src:e(u).isActive?"/logo/logo-white.png":"/logo/logo-black.png"},null,8,Be)]),_:1})]),_:1})):p("",!0),e(f).gt.xs?(s(),o(v,{key:2,flat:"",onClick:O,class:"text-capitalize"},{default:a(()=>[x("span",xe,b(e(k)("base.search")+" Vue Quasar"),1),t(g,{name:e(L)},null,8,["name"])]),_:1})):p("",!0),t(ce),x("div",Ie,[e(f).gt.sm?(s(),o(v,{key:0,round:"",dense:"",flat:"",icon:e(me)},{default:a(()=>[t(T,null,{default:a(()=>h[2]||(h[2]=[_("Create a video or post")])),_:1})]),_:1},8,["icon"])):p("",!0),e(f).gt.sm?(s(),o(v,{key:1,round:"",dense:"",flat:"",icon:e(pe)},{default:a(()=>[t(T,null,{default:a(()=>h[3]||(h[3]=[_("Apps")])),_:1})]),_:1},8,["icon"])):p("",!0),e(f).gt.sm?(s(),o(v,{key:2,round:"",dense:"",flat:"",icon:e(be),to:"/example/chats"},{default:a(()=>[t(T,null,{default:a(()=>h[4]||(h[4]=[_("Messages")])),_:1})]),_:1},8,["icon"])):p("",!0),e(f).gt.xs?p("",!0):(s(),o(v,{key:3,round:"",dense:"",flat:"",onClick:O},{default:a(()=>[t(g,{name:e(L)},null,8,["name"])]),_:1})),t(v,{round:"",dense:"",flat:"",onClick:e(n),icon:e(_e)},{default:a(()=>[e(c)&&e(c).totalNotify?(s(),o(ye,{key:0,color:"negative",rounded:"","text-color":"white",floating:""},{default:a(()=>[_(b(e(c).totalNotify>99?"99+":e(c).totalNotify),1)]),_:1})):p("",!0),t(T,null,{default:a(()=>[_(b(e(k)("nav.notifications")),1)]),_:1}),t(U,{anchor:"bottom left",self:"top left",style:{width:"360px"}},{default:a(()=>[t(e(d))]),_:1})]),_:1},8,["onClick","icon"]),m.showUserSetting?(s(),o(Ce,{key:4,style:{"max-width":"225px"}})):p("",!0)])]),_:1}),C.value?(s(),o(e(i),{key:0,modelValue:C.value,"onUpdate:modelValue":h[1]||(h[1]=Q=>C.value=Q),onOnClick:F},null,8,["modelValue"])):p("",!0)]),_:1},8,["reveal","bordered","class"]))}});export{Se as U,Ee as _};
