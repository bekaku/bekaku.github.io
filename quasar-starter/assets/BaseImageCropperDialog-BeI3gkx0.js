import{l as h,aa as r,ab as b,r as d,h as w,m as v,n as S,w as a,x as n,az as g,Z as C,v as V}from"./index-BGAGrt6k.js";import{_ as B}from"./BaseImageCropper.vue_vue_type_script_setup_true_lang-DZC4D7lG.js";import{_ as O}from"./BaseDialog.vue_vue_type_script_setup_true_lang-Bb8YvFP4.js";import"./FileManagerService-CDT2qW08.js";import"./useAxios-BZ55Spu7.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./BaseFilePicker-YCvTpys0.js";import"./BaseButton-BwLqwEKS.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./FilesPreviewItemAlt.vue_vue_type_script_setup_true_lang-Bsd1dxaS.js";import"./BaseAvatar-BRZCl687.js";import"./FilesPreviewItem.vue_vue_type_script_setup_true_lang-D6-xWUdZ.js";import"./BaseScrollArea.vue_vue_type_script_setup_true_lang-DQEy7ZMm.js";import"./QBar-BFeRJ3ed.js";import"./Ellipsis-wRwE5r-_.js";const A=h({__name:"BaseImageCropperDialog",props:r({ratio:{default:1},title:{},disabled:{type:Boolean,default:!1},initialSrc:{},width:{default:"100%"},height:{default:"550px"},clearOnSubmit:{type:Boolean,default:!1},cropWidth:{default:960}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:r(["on-close","on-submit","on-cropend"],["update:modelValue"]),setup(u,{emit:p}){const l=p,s=b(u,"modelValue"),f=d(!1),i=d(null),c=e=>{l("on-submit",e),i.value=setTimeout(()=>{l("on-close")},250)},m=()=>{l("on-close")};return w(()=>{i.value&&(clearTimeout(i.value),i.value=null)}),(e,o)=>(S(),v(O,{modelValue:s.value,"onUpdate:modelValue":o[2]||(o[2]=t=>s.value=t),title:e.title,maximized:f.value,"dialog-style":"min-width: 80%","auto-close":!1,"can-maximized":"",onOnClose:m},{default:a(()=>[n(g,{class:"q-pt-none"},{default:a(()=>[n(C,null,{default:a(()=>[n(B,{ratio:e.ratio||1,disabled:e.disabled,"crop-width":e.cropWidth,"initial-src":e.initialSrc,width:e.width,height:e.height,"clear-on-submit":e.clearOnSubmit,onOnClose:m,onOnSubmit:o[0]||(o[0]=t=>c(t)),onOnCropend:o[1]||(o[1]=t=>e.$emit("on-cropend",t))},{preview:a(()=>[V(e.$slots,"preview")]),_:3},8,["ratio","disabled","crop-width","initial-src","width","height","clear-on-submit"])]),_:3})]),_:3})]),_:3},8,["modelValue","title","maximized"]))}});export{A as default};
