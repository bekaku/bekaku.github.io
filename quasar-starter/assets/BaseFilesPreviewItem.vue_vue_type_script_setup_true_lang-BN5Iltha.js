import{l as b,c as P,V as g,n as o,x as n,m as s,a0 as t,w as a,v as m,a4 as N,a5 as r,J as B,Y as y,as as C,au as p,Z as k,W as f,X as u,at as h,aX as I,ah as $,a7 as Q,av as c}from"./index-BUKV_9O1.js";import{a as D}from"./BaseAvatar-YhefbKXS.js";import{g as V}from"./FileManagerService-DtMSDvzq.js";const q={key:1,class:"text-center"},H=b({__name:"BaseFilesPreviewItem",props:{showDelete:{type:Boolean,default:!0},col:{default:"col-3 q-pa-md"},item:{},index:{},formatSize:{type:Boolean,default:!1},fetch:{type:Boolean,default:!1},useThumbnail:{type:Boolean,default:!1},showName:{type:Boolean,default:!0},showSize:{type:Boolean,default:!0},imageSize:{default:"125px"},imageHeight:{},iconSize:{default:"4em"},textColor:{},dense:{type:Boolean,default:!0},showTooltip:{type:Boolean,default:!1},ratio:{default:()=>4/3},linesName:{default:1}},emits:["on-remove","on-click"],setup(d,{emit:v}){const z=v,T=P(()=>d.useThumbnail&&d.item.fileThumbnailPath?d.item.fileThumbnailPath:d.item.filePath),w=(e,l)=>{z("on-remove",l),e&&e.stopImmediatePropagation()},S=(e,l)=>{z("on-click",l),e&&e.stopImmediatePropagation()};return(e,l)=>e.item?.isImage||e.item?.image?(o(),g($,{key:0},[n(D,y(e.$attrs,{src:T.value,fetch:e.fetch||!1,ratio:e.ratio||1,class:"cursor-pointer",onClick:l[1]||(l[1]=i=>S(i,e.index))}),{default:a(()=>[e.showDelete?(o(),s(N,{key:0,onClick:l[0]||(l[0]=i=>w(i,e.index)),class:"absolute all-pointer-events",name:"info",style:{top:"8px",left:"8px"},round:"",flat:"",icon:r(B),color:"negative"},null,8,["icon"])):t("",!0),m(e.$slots,"default")]),_:3},16,["src","fetch","ratio"]),e.showName||e.showSize?(o(),s(C,y({key:0,dense:e.dense},e.$attrs,{class:"q-pa-none"}),{default:a(()=>[n(h,null,{default:a(()=>[e.showName?(o(),s(p,{key:0,lines:e.linesName,class:k(e.textColor)},{default:a(()=>[m(e.$slots,"fileName",{},()=>[f(u(e.item.fileName),1)])]),_:3},8,["lines","class"])):t("",!0)]),_:3}),n(h,{side:""},{default:a(()=>[e.showSize?(o(),s(p,{key:0,caption:""},{default:a(()=>[m(e.$slots,"size",{},()=>[f(u(e.formatSize?r(I)(e.item.fileSize):e.item.fileSize),1)])]),_:3})):t("",!0)]),_:3})]),_:3},16,["dense"])):t("",!0)],64)):(o(),g("div",q,[n(c,y(e.$attrs,{class:"cursor-pointer",onClick:l[3]||(l[3]=i=>S(i,e.index)),size:e.iconSize,name:r(V)(e.item.fileMime)}),{default:a(()=>[e.showDelete?(o(),s(N,{key:0,onClick:l[2]||(l[2]=i=>w(i,e.index)),class:"absolute all-pointer-events",name:"info",style:{top:"8px",left:"8px"},round:"",flat:"",icon:r(B),color:"negative"},null,8,["icon"])):t("",!0),e.showTooltip&&e.item.fileName?(o(),s(Q,{key:1},{default:a(()=>[f(u(e.item.fileName),1)]),_:1})):t("",!0)]),_:1},16,["size","name"]),e.showName||e.showSize?(o(),s(C,{key:0,dense:e.dense,class:"q-pa-none"},{default:a(()=>[n(h,null,{default:a(()=>[e.showName?(o(),s(p,{key:0,lines:e.linesName,class:k(e.textColor)},{default:a(()=>[m(e.$slots,"fileName",{},()=>[f(u(e.item.fileName),1)])]),_:3},8,["lines","class"])):t("",!0)]),_:3}),n(h,{side:""},{default:a(()=>[e.showSize?(o(),s(p,{key:0,caption:"",class:k(e.textColor)},{default:a(()=>[m(e.$slots,"size",{},()=>[f(u(e.formatSize?r(I)(e.item.fileSize):e.item.fileSize),1)])]),_:3},8,["class"])):t("",!0)]),_:3})]),_:3},8,["dense"])):t("",!0)]))}});export{H as _};
