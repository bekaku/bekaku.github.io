const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NotificationBarMenu-DYnYXr2h.js","assets/index-Dce6WYZc.js","assets/index-Dx9QcfFl.css","assets/ClosePopup-C1ZakuAd.js","assets/BaseAvatar-fsv0T6h6.js","assets/BaseImage-DVaE0Yxy.js","assets/FileManagerService-BFYoMsPO.js","assets/useAxios-GzNkkIuR.js","assets/_commonjsHelpers-D6-XlEtG.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/BaseImage-BAIhGAoy.css","assets/BaseAvatar-DtUimqr1.css","assets/useAuth-CtCNGcnS.js","assets/BaseThemeSwitcher.vue_vue_type_script_setup_true_lang-BOnWMzl2.js","assets/BaseButton-23JMbPU-.js","assets/BaseButton-5r8o33g0.css","assets/SearchMenu-DMOV1cLA.js","assets/BaseDialog.vue_vue_type_script_setup_true_lang-DLT9mTLF.js","assets/Ellipsis-B-5cwQGv.js","assets/Ellipsis-D-gyw0_d.css","assets/BaseCommandPalette.vue_vue_type_script_setup_true_lang-CoKIGWr6.js","assets/BaseCard-D-ucc8ak.js","assets/BaseCard-jdQL2hgZ.css","assets/BaseInput.vue_vue_type_script_setup_true_lang-B8UG6IAI.js","assets/BaseSpinner-DRBmy37i.js","assets/BaseScrollArea.vue_vue_type_script_setup_true_lang-Bz1OW65Q.js","assets/BaseLabelValueItem.vue_vue_type_script_setup_true_lang-vuyRjYlK.js","assets/BaseResult.vue_vue_type_script_setup_true_lang-CDwhlCJ5.js"])))=>i.map(i=>d[i]);
import{d as D,bG as V,j as U,bv as G,bn as H,c as o,o as s,a1 as w,L as j,w as a,e as t,M as p,a2 as l,T as e,a3 as C,a as B,X as _,W as y,a8 as g,bJ as J,bu as $,aV as K,bj as A,dL as W,aU as M,bx as X,bw as Y,dG as I,d6 as Z,cW as ee,cU as te,dM as ae,dN as oe,bo as q,k as z,dO as se,b5 as ne,dP as le,cx as re,u as ie,dQ as ue,$ as de,S as v,aF as fe,aZ as Q,c2 as ce,dR as me,V as T,dS as pe,dT as _e,dU as ye,cJ as be,ak as R,d7 as ge,at as P}from"./index-Dce6WYZc.js";import{C as x}from"./ClosePopup-C1ZakuAd.js";import{B as E}from"./BaseAvatar-fsv0T6h6.js";import{u as he}from"./useAuth-CtCNGcnS.js";import{a as ve,_ as ke}from"./BaseThemeSwitcher.vue_vue_type_script_setup_true_lang-BOnWMzl2.js";import{u as we}from"./useAxios-GzNkkIuR.js";const Ne={class:"cursor-pointer text-weight-bold"},Se=D({__name:"UserNavSetting",setup(N){const{screen:d}=V(),{t:i,currenLocale:r}=U(),{isDark:u}=G(),f=H(),{signOut:b}=he();return(c,n)=>(s(),o(w,j(c.$attrs,{clickable:""}),{default:a(()=>[t(l,{avatar:"",top:""},{default:a(()=>[e(f).loginedAvatar?(s(),o(E,{key:0,class:"shadow-5",src:e(f).loginedAvatar,size:"36px"},null,8,["src"])):p("",!0)]),_:1}),e(d).gt.xs?(s(),o(l,{key:0},{default:a(()=>[t(C,{lines:"1"},{default:a(()=>[B("span",Ne,_(e(f).loginedDisplay),1)]),_:1}),t(C,{caption:"",lines:1},{default:a(()=>n[0]||(n[0]=[y(" Sofware Engineer ")])),_:1})]),_:1})):p("",!0),t(l,{side:""},{default:a(()=>[t(g,{name:e(J),size:"16px"},null,8,["name"])]),_:1}),t($,null,{default:a(()=>[t(K,{style:{"min-width":"260px"}},{default:a(()=>[A((s(),o(w,{clickable:"",to:`/user/${e(f).auth?.id}`},{default:a(()=>[t(l,{avatar:""},{default:a(()=>[e(f).loginedAvatar?(s(),o(E,{key:0,src:e(f).loginedAvatar,size:"36px",rounded:""},null,8,["src"])):(s(),o(g,{key:1,name:e(W)},null,8,["name"]))]),_:1}),t(l,null,{default:a(()=>[y(_(e(i)("base.yourProfile")),1)]),_:1})]),_:1},8,["to"])),[[x]]),t(M),t(w,{clickable:""},{default:a(()=>[t(l,{avatar:""},{default:a(()=>[t(g,{name:e(u)?e(X):e(Y)},null,8,["name"])]),_:1}),t(l,null,{default:a(()=>[t(C,{lines:"1"},{default:a(()=>[y(_(e(i)("base.appearance"))+" : "+_(e(u)?e(i)("theme.dark"):e(i)("theme.light")),1)]),_:1})]),_:1}),t(l,{side:""},{default:a(()=>[t(g,{name:e(I)},null,8,["name"])]),_:1}),t(ve,{toggle:!1,anchor:e(d).gt.xs?"top end":"bottom left",self:"top start"},null,8,["anchor"])]),_:1}),t(w,{clickable:""},{default:a(()=>[t(l,{avatar:""},{default:a(()=>[t(g,{name:e(Z)},null,8,["name"])]),_:1}),t(l,null,{default:a(()=>[t(C,{lines:"1"},{default:a(()=>[y(_(e(i)("base.language"))+" : "+_(e(r)?e(r).name:""),1)]),_:1})]),_:1}),t(l,{side:""},{default:a(()=>[t(g,{name:e(I)},null,8,["name"])]),_:1}),t(ke,{anchor:e(d).gt.xs?"top end":"bottom left",self:"top start"},null,8,["anchor"])]),_:1}),t(M),A((s(),o(w,{clickable:""},{default:a(()=>[t(l,{avatar:""},{default:a(()=>[t(g,{name:e(ee)},null,8,["name"])]),_:1}),t(l,null,{default:a(()=>[y(_(e(i)("base.help")),1)]),_:1})]),_:1})),[[x]]),A((s(),o(w,{clickable:"",to:"/settings"},{default:a(()=>[t(l,{avatar:""},{default:a(()=>[t(g,{name:e(te)},null,8,["name"])]),_:1}),t(l,null,{default:a(()=>[y(_(e(i)("base.setting")),1)]),_:1})]),_:1})),[[x]]),A((s(),o(w,{clickable:"",onClick:e(b)},{default:a(()=>[t(l,{avatar:""},{default:a(()=>[t(g,{name:e(ae)},null,8,["name"])]),_:1}),t(l,null,{default:a(()=>[y(_(e(i)("base.logout")),1)]),_:1})]),_:1},8,["onClick"])),[[x]])]),_:1})]),_:1})]),_:1},16))}}),Ce=()=>(we(),{updateFcmSetting:async b=>{},refreshFcmToken:async b=>{},findAllByUser:async(b,c)=>new Promise(n=>{setTimeout(()=>{n([])},1500)}),findCountAllNotRead:async b=>new Promise(c=>{setTimeout(()=>{c(null)},500)}),updateReadNotify:async b=>new Promise(c=>{setTimeout(()=>{c(null)},500)}),updateReadNotifyAll:async()=>new Promise(b=>{setTimeout(()=>{b(null)},500)})}),Ae=oe("notificationStore",()=>{const{cacheNotifyCount:N}=q(),d=z({lastestId:0,totalNotify:0});return{notify:d,setNotify:u=>{d.value.totalNotify=u.totalNotify,d.value.lastestId=u.lastestId},setLastNotify:u=>{N.value.lastestId=u}}}),Te=()=>{const{findCountAllNotRead:N}=Ce(),{cacheNotifyCount:d}=q(),i=Ae(),{notify:r}=se(i),{setNotify:u}=i;return ne(()=>{r.value.totalNotify=999}),{notify:r,setNotify:u,resetBadgeCount:()=>{r.value.totalNotify=0},notificationLink:(n,k)=>{if(n&&k){if(n=="LIKE_POST"||n=="SHARE"||n=="COMMENT_POST")return`/post/view/${k}`;if(n=="LIKE_COMMENT")return`/comment/view/${k}`;if(n=="COMMENT_REPLY")return`/comment/view/${k}?isReply=1`}},fetchNotReadNotify:async()=>{const n=await N(d.value&&d.value.lastestId?d.value.lastestId:0);n&&n.lastestId&&n.totalNotify&&u(n)}}},xe=["src"],Be={class:"q-mr-sm text-muted"},Ie={class:"q-gutter-md row items-center no-wrap"},Ee=D({__name:"BaseHeader",props:{bordered:{type:Boolean,default:!1},reveal:{type:Boolean,default:!1},showTogleDrawer:{type:Boolean,default:!1},frontend:{type:Boolean},showLogo:{type:Boolean,default:!0},hambergerMenu:{type:Boolean},hambergerIcon:{default:()=>le},hambergerIconOff:{default:()=>I},showUserSetting:{type:Boolean,default:!0}},setup(N){const d=R(()=>P(()=>import("./NotificationBarMenu-DYnYXr2h.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))),i=R(()=>P(()=>import("./SearchMenu-DMOV1cLA.js"),__vite__mapDeps([16,1,2,17,18,9,19,20,21,22,23,4,5,6,7,8,10,11,24,25,26,27,14,15]))),r=re(),{dark:u,screen:f}=V(),{appGoto:b}=ie(),{notify:c,resetBadgeCount:n}=Te(),{t:k}=U(),S=z(!1),O=()=>{S.value=!0},F=m=>{S.value=!1,setTimeout(()=>{b(m)},500)};return(m,h)=>(s(),o(ue,{reveal:m.reveal,"height-hint":"58",bordered:m.bordered,class:de({"app-second-bg-color-theme-dark text-white":e(u).isActive,"bg-white text-black":!e(u).isActive})},{default:a(()=>[t(ge,{class:"q-py-xs"},{default:a(()=>[m.showTogleDrawer?(s(),o(v,{key:0,dense:"",flat:"",round:"",icon:e(r).isMobileOrTablet?m.hambergerIconOff:e(r).expandDrawer?m.hambergerIcon:m.hambergerIconOff?m.hambergerIconOff:m.hambergerIcon,onClick:h[0]||(h[0]=L=>e(r).isMobileOrTablet?e(r).setDrawerOpen(!e(r).drawerOpen):e(r).setExpandDrawer(!e(r).expandDrawer))},null,8,["icon"])):p("",!0),m.showLogo?(s(),o(v,{key:1,flat:"","no-caps":"","no-wrap":"",class:"q-mr-xs btn--no-hover",ripple:!1,to:"/"},{default:a(()=>[t(fe,{style:{height:"auto",width:"42px"},square:""},{default:a(()=>[B("img",{src:e(u).isActive?"/logo/logo-white.png":"/logo/logo-black.png"},null,8,xe)]),_:1})]),_:1})):p("",!0),e(f).gt.xs?(s(),o(v,{key:2,flat:"",onClick:O,class:"text-capitalize"},{default:a(()=>[B("span",Be,_(e(k)("base.search")+" Vue Quasar"),1),t(g,{name:e(Q)},null,8,["name"])]),_:1})):p("",!0),t(ce),B("div",Ie,[e(f).gt.sm?(s(),o(v,{key:0,round:"",dense:"",flat:"",icon:e(me)},{default:a(()=>[t(T,null,{default:a(()=>h[2]||(h[2]=[y("Create a video or post")])),_:1})]),_:1},8,["icon"])):p("",!0),e(f).gt.sm?(s(),o(v,{key:1,round:"",dense:"",flat:"",icon:e(pe)},{default:a(()=>[t(T,null,{default:a(()=>h[3]||(h[3]=[y("Apps")])),_:1})]),_:1},8,["icon"])):p("",!0),e(f).gt.sm?(s(),o(v,{key:2,round:"",dense:"",flat:"",icon:e(_e),to:"/example/chats"},{default:a(()=>[t(T,null,{default:a(()=>h[4]||(h[4]=[y("Messages")])),_:1})]),_:1},8,["icon"])):p("",!0),e(f).gt.xs?p("",!0):(s(),o(v,{key:3,round:"",dense:"",flat:"",onClick:O},{default:a(()=>[t(g,{name:e(Q)},null,8,["name"])]),_:1})),t(v,{round:"",dense:"",flat:"",onClick:e(n),icon:e(ye)},{default:a(()=>[e(c)&&e(c).totalNotify?(s(),o(be,{key:0,color:"negative",rounded:"","text-color":"white",floating:""},{default:a(()=>[y(_(e(c).totalNotify>99?"99+":e(c).totalNotify),1)]),_:1})):p("",!0),t(T,null,{default:a(()=>[y(_(e(k)("nav.notifications")),1)]),_:1}),t($,{anchor:"bottom left",self:"top left",style:{width:"360px"}},{default:a(()=>[t(e(d))]),_:1})]),_:1},8,["onClick","icon"]),m.showUserSetting?(s(),o(Se,{key:4,style:{"max-width":"225px"}})):p("",!0)])]),_:1}),S.value?(s(),o(e(i),{key:0,modelValue:S.value,"onUpdate:modelValue":h[1]||(h[1]=L=>S.value=L),onOnClick:F},null,8,["modelValue"])):p("",!0)]),_:1},8,["reveal","bordered","class"]))}});export{Ce as U,Ee as _};
