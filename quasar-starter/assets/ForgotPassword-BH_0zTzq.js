const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BaseDialog-DTljvf4G.js","assets/BaseDialog.vue_vue_type_script_setup_true_lang-CXJi5216.js","assets/index-D68YvXgu.js","assets/index-Bb7z0Y_k.css","assets/QBar-BjQusByF.js","assets/Ellipsis-C9TgK7Ct.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/Ellipsis-D-gyw0_d.css","assets/BaseInputOtp-B6np7nVd.js","assets/BaseInputOtp.vue_vue_type_script_setup_true_lang-cv6-NRAA.js","assets/PasswordForm-BMPE9Sra.js","assets/PasswordForm.vue_vue_type_script_setup_true_lang-Cci9q9gn.js","assets/useValidation-BLU7ykTP.js","assets/BaseButton-BrRy4iP_.js","assets/BaseButton-5r8o33g0.css"])))=>i.map(i=>d[i]);
import{ag as E,ai as N,r as V,c as v,ak as i,au as j,bJ as G,cY as J,er as X,es as Y,et as A,eu as z,ev as Z,ew as ee,ex as te,al as Q,ey as ae,ez as ne,ah as oe,aj as re,eA as se,eB as le,eC as ie,eD as ue,l as ce,a as de,u as ve,ab as pe,m as $,X as L,n as R,w as C,x as p,bc as fe,ao as me,az as _e,a0 as l,eE as ge,aH as be,t as x,a4 as k,aB as Se,B as we,aG as K,$ as O,eF as Pe,aA as B,cS as F,aI as D}from"./index-D68YvXgu.js";import{A as Ce}from"./useAuth-BIpM3BpW.js";import{u as qe}from"./useValidation-BLU7ykTP.js";import{_ as ye}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAxios-Dx6XxiQg.js";const H=E({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:d}){const{proxy:{$q:m}}=N(),P=V(null),n=v(()=>e.stepper.modelValue===e.step.name),_=v(()=>{const t=e.step.disable;return t===!0||t===""}),q=v(()=>{const t=e.step.error;return t===!0||t===""}),g=v(()=>{const t=e.step.done;return _.value===!1&&(t===!0||t==="")}),f=v(()=>{const t=e.step.headerNav,o=t===!0||t===""||t===void 0;return _.value===!1&&e.stepper.headerNav&&o}),b=v(()=>e.step.prefix&&(n.value===!1||e.stepper.activeIcon==="none")&&(q.value===!1||e.stepper.errorIcon==="none")&&(g.value===!1||e.stepper.doneIcon==="none")),s=v(()=>{const t=e.step.icon||e.stepper.inactiveIcon;if(n.value===!0){const o=e.step.activeIcon||e.stepper.activeIcon;return o==="none"?t:o||m.iconSet.stepper.active}if(q.value===!0){const o=e.step.errorIcon||e.stepper.errorIcon;return o==="none"?t:o||m.iconSet.stepper.error}if(_.value===!1&&g.value===!0){const o=e.step.doneIcon||e.stepper.doneIcon;return o==="none"?t:o||m.iconSet.stepper.done}return t}),c=v(()=>{const t=q.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(n.value===!0){const o=e.step.activeColor||e.stepper.activeColor||e.step.color;return o!==void 0?o:t}return t!==void 0?t:_.value===!1&&g.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),S=v(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(c.value!==void 0?` text-${c.value}`:"")+(q.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(b.value===!0?"prefix":"icon"):"")+(n.value===!0?" q-stepper__tab--active":"")+(g.value===!0?" q-stepper__tab--done":"")+(f.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(_.value===!0?" q-stepper__tab--disabled":"")),y=v(()=>e.stepper.headerNav!==!0?!1:f.value);function u(){P.value?.focus(),n.value===!1&&e.goToPanel(e.step.name)}function I(t){t.keyCode===13&&n.value===!1&&e.goToPanel(e.step.name)}return()=>{const t={class:S.value};f.value===!0&&(t.onClick=u,t.onKeyup=I,Object.assign(t,_.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:d.tabindex||0}));const o=[i("div",{class:"q-focus-helper",tabindex:-1,ref:P}),i("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[i("span",{class:"row flex-center"},[b.value===!0?e.step.prefix:i(j,{name:s.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const h=[i("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&h.push(i("div",{class:"q-stepper__caption"},e.step.caption)),o.push(i("div",{class:"q-stepper__label q-stepper__line relative-position"},h))}return G(i("div",t,o),[[J,y.value]])}}});function W(e){return i("div",{class:"q-stepper__step-content"},[i("div",{class:"q-stepper__step-inner"},Q(e.default))])}const U={setup(e,{slots:d}){return()=>W(d)}},T=E({name:"QStep",props:{...X,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:d,emit:m}){const{proxy:{$q:P}}=N(),n=Y(z,A);if(n===A)return console.error("QStep needs to be a child of QStepper"),A;const{getCache:_}=ee(),q=V(null),g=v(()=>n.value.modelValue===e.name),f=v(()=>P.platform.is.ios!==!0&&P.platform.is.chrome===!0||g.value!==!0||n.value.vertical!==!0?{}:{onScroll(c){const{target:S}=c;S.scrollTop>0&&(S.scrollTop=0),e.onScroll!==void 0&&m("scroll",c)}}),b=v(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function s(){const c=n.value.vertical;return c===!0&&n.value.keepAlive===!0?i(te,n.value.keepAliveProps.value,g.value===!0?[i(n.value.needsUniqueKeepAliveWrapper.value===!0?_(b.value,()=>({...U,name:b.value})):U,{key:b.value},d.default)]:void 0):c!==!0||g.value===!0?W(d):void 0}return()=>i("div",{ref:q,class:"q-stepper__step",role:"tabpanel",...f.value},n.value.vertical===!0?[i(H,{stepper:n.value,step:e,goToPanel:n.value.goToPanel}),n.value.animated===!0?i(Z,s):s()]:[s()])}}),he=/(-\w)/g;function xe(e){const d={};for(const m in e){const P=m.replace(he,n=>n[1].toUpperCase());d[P]=e[m]}return d}const Ie=E({name:"QStepper",props:{...oe,...ne,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:ae,setup(e,{slots:d}){const m=N(),P=re(e,m.proxy.$q),{updatePanelsList:n,isValidPanelName:_,updatePanelIndex:q,getPanelContent:g,getPanels:f,panelDirectives:b,goToPanel:s,keepAliveProps:c,needsUniqueKeepAliveWrapper:S}=se();le(z,v(()=>({goToPanel:s,keepAliveProps:c,needsUniqueKeepAliveWrapper:S,...e})));const y=v(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(P.value===!0?" q-stepper--dark q-dark":"")),u=v(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function I(){const t=Q(d.message,[]);if(e.vertical===!0){_(e.modelValue)&&q();const o=i("div",{class:"q-stepper__content"},Q(d.default));return t===void 0?[o]:t.concat(o)}return[i("div",{class:u.value},f().map(o=>{const h=xe(o.props);return i(H,{key:h.name,stepper:e,step:h,goToPanel:s})})),t,ue("div",{class:"q-stepper__content q-panel-parent"},g(),"cont",e.swipeable,()=>b.value)]}return()=>(n(d),i("div",{class:y.value},ie(d.navigation,I())))}}),Ve={class:"q-pa-md text-center"},ke={class:"text-body1"},Ae={class:"text-subtitle2 text-muted"},Be={class:"q-pa-md text-center"},De={class:"text-body1 text-center"},Te={class:"text-subtitle2 text-muted"},Qe={class:"text-subtitle2 text-warning"},Ee=ce({__name:"ForgotPassword",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(e){const d=B(()=>D(()=>import("./BaseDialog-DTljvf4G.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),m=B(()=>D(()=>import("./BaseInputOtp-B6np7nVd.js"),__vite__mapDeps([8,9,2,3]))),P=B(()=>D(()=>import("./PasswordForm-BMPE9Sra.js"),__vite__mapDeps([10,11,2,3,12,13,6,14]))),{requestVerifyCodeToResetPwd:n,sendVerifyCodeToResetPwd:_,resetPassword:q}=Ce(),{requireEmail:g}=qe(),{appLoading:f,appToast:b}=de(),{t:s}=ve(),c=pe(e,"modelValue"),S=V(),y=V(1),u=V({email:"",token:"",newPassword:"",confirmPassword:""}),I=V(!1),t=async()=>{if(!u.value.email)return;f();const r=await n(u.value);if(f(!1),r&&r.status&&r.status==200){const a=r.data;a.message&&b(a.message,{type:"positive",position:"bottom",multiLine:!1}),S.value&&S.value.next()}else r&&r.data&&h(r.data)},o=async r=>{if(!r||!u.value.email)return;u.value.token=r,f();const a=await _(u.value);f(!1),a&&a.status!=null&&a.status!=200?h(a.data):S.value&&S.value.next()},h=r=>{r.errors&&b(r.errors.toString(),{type:"negative",position:"bottom",multiLine:!1})},M=async()=>{if(!u.value.token||!u.value.email||!u.value.newPassword)return;f();const r=await q(u.value);if(f(!1),r&&r.status&&r.status==200){const a=r.data;a.message&&b(a.message,{type:"positive",position:"bottom",multiLine:!1}),c.value=!1}else r&&r.data&&h(r.data)};return(r,a)=>c.value!=null?(R(),$(l(d),{key:0,modelValue:c.value,"onUpdate:modelValue":a[5]||(a[5]=w=>c.value=w),"full-width":!1,title:l(s)("authen.forgetPassword"),onOnClose:a[6]||(a[6]=w=>c.value=!1),onOnHide:a[7]||(a[7]=w=>c.value=!1),persistent:!0,"transition-show":"fade","transition-hide":"fade",icon:l(F)},{default:C(()=>[p(fe),p(me,{flat:""},{default:C(()=>[p(_e,null,{default:C(()=>[p(Ie,{flat:"",bordered:"",modelValue:y.value,"onUpdate:modelValue":a[4]||(a[4]=w=>y.value=w),ref_key:"stepper",ref:S,color:"primary",animated:""},{default:C(()=>[p(T,{name:1,title:l(s)("authen.verification"),icon:l(ge),done:y.value>1},{default:C(()=>[p(be,{onSubmit:t,class:"q-px-sm"},{default:C(()=>[x("div",Ve,[x("div",ke,k(l(s)("authen.forgotPwdTitle")),1),x("div",Ae,k(l(s)("authen.forgotPwdSubtitle")),1)]),p(Se,{outlined:"",modelValue:u.value.email,"onUpdate:modelValue":a[0]||(a[0]=w=>u.value.email=w),label:l(s)("base.email"),rules:[l(g)]},{prepend:C(()=>[p(j,{name:l(we)},null,8,["name"])]),_:1},8,["modelValue","label","rules"]),p(K,{align:"center"},{default:C(()=>[p(O,{unelevated:"",type:"submit",color:"primary",label:l(s)("base.continue")},null,8,["label"])]),_:1})]),_:1})]),_:1},8,["title","icon","done"]),p(T,{name:2,title:l(s)("authen.verificationCode"),icon:l(Pe),done:y.value>2},{default:C(()=>[x("div",Be,[x("div",De,k(l(s)("authen.login_main_helper4")),1),x("div",Te,k(l(s)("authen.login_main_helper5")),1),x("div",Qe,k(l(s)("authen.login_main_helper6")),1)]),p(l(m),{"input-length":6,onOnSubmit:o}),p(K,{align:"center"},{default:C(()=>[p(O,{flat:"",color:"primary",onClick:a[1]||(a[1]=w=>y.value=1),label:l(s)("base.previous"),class:"q-ml-sm"},null,8,["label"])]),_:1})]),_:1},8,["title","icon","done"]),p(T,{name:3,title:l(s)("authen.setPassword"),icon:l(F),done:y.value>3},{default:C(()=>[u.value?(R(),$(l(P),{key:0,newPassword:u.value.newPassword,"onUpdate:newPassword":a[2]||(a[2]=w=>u.value.newPassword=w),loading:I.value,"onUpdate:loading":a[3]||(a[3]=w=>I.value=w),onOnSubmit:M},null,8,["newPassword","loading"])):L("",!0)]),_:1},8,["title","icon","done"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","title","icon"])):L("",!0)}}),Oe=ye(Ee,[["__scopeId","data-v-073244ed"]]);export{Oe as default};
