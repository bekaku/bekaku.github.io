const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ChatContent-CISjHP0G.js","assets/index-D2_s7zbP.js","assets/index-BgtrcqL_.css","assets/QChatMessage-BuxC6jz8.js","assets/vue-virtual-scroller-BCw0uU-l.css","assets/BaseAvatar-Dd0BukBT.js","assets/FileManagerService-CwRtvFJO.js","assets/useAxios-DC4_ZzHn.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/BaseAvatar-DIqnQNII.css","assets/BaseFilePicker-jGH7S3KI.js","assets/BaseButton-CvbVWVz2.js","assets/BaseButton-XQUT7Fs7.css","assets/BaseFilesPreviewItemAlt.vue_vue_type_script_setup_true_lang-DSeLhmFA.js","assets/BaseFilesPreviewItem.vue_vue_type_script_setup_true_lang-BFzXtabG.js","assets/BaseFilePicker-Dq96Uecd.css","assets/BaseTooltip.vue_vue_type_script_setup_true_lang-NBn_gdh-.js","assets/BaseRippleItem.vue_vue_type_script_setup_true_lang-DMJC8jxD.js","assets/BaseContentItem-CCrD9AHl.js","assets/BaseContentHtml.vue_vue_type_script_setup_true_lang-CVw-4U3f.js","assets/BaseContentItem-OTlBsnPl.css","assets/OpenGraphItemAlt.vue_vue_type_script_setup_true_lang-DW74EbBZ.js","assets/chatStore-B4BY8DG5.js","assets/BaseDropdownMenu-DhVTDjgl.js","assets/BaseLabelValueItem.vue_vue_type_script_setup_true_lang-C_X5PB88.js","assets/BaseDropdownMenu-BuF6TE5H.css","assets/BaseCard-DIxBFYod.js","assets/BaseCard-49o-4T3u.css","assets/BaseInfiniteScroll.vue_vue_type_script_setup_true_lang-CNCQvdzM.js","assets/ClosePopup-2-dEFwXe.js","assets/BaseLink.vue_vue_type_script_setup_true_lang-DCKXRiuR.js","assets/ChatContent-DGk0csh9.css","assets/BaseSpinner-B618QVO1.js","assets/BaseSpinner.vue_vue_type_script_setup_true_lang-drsxk-VD.js","assets/BaseResult-CuumZR92.js","assets/BaseResult.vue_vue_type_script_setup_true_lang-fjuZMLDc.js"])))=>i.map(i=>d[i]);
import{l as B,u as D,a as E,r as u,a5 as G,h as T,m as d,T as b,J as e,n as m,ae as A,w as s,x as i,aG as f,dn as S,I as P,af as C,aA as w,dp as O,L as R,M as q,da as N,dq as Q,a1 as U,dd as $,ay as F,aO as _,dc as H}from"./index-D2_s7zbP.js";import{u as J}from"./chatStore-B4BY8DG5.js";import{_ as X}from"./BaseTooltip.vue_vue_type_script_setup_true_lang-NBn_gdh-.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K=B({__name:"ChatMini",setup(W){const z=f(()=>_(()=>import("./ChatContent-CISjHP0G.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]))),v=f(()=>_(()=>import("./BaseSpinner-B618QVO1.js"),__vite__mapDeps([32,33,1,2]))),I=f(()=>_(()=>import("./BaseResult-CuumZR92.js"),__vite__mapDeps([34,35,1,2]))),a=J(),{t:g}=D(),{appNavigateTo:M}=E(),r=u(),o=u(),c=u(!1),p=u(!0),k=async()=>{c.value=!1,r.value&&r.value>0&&await L(),c.value=!0},x=async t=>{const n=H.dataList.find(l=>l.id==t);return new Promise(l=>l(n))},L=async()=>{if(p.value=!0,!r.value)return p.value=!1,new Promise(n=>n(!1));const t=await x(r.value);return t&&(o.value=t),p.value=!1,new Promise(n=>n(!0))},y=()=>{o.value=void 0,r.value=void 0},h=()=>{y(),a.onCloseMiniChatPage()},V=()=>{o.value&&(M(`/example/chats/g/${o.value.id}`),h())};return G(a,t=>{t.openMiniChatPage&&t.miniChatGroupId&&r.value!=t.miniChatGroupId&&(y(),r.value=t.miniChatGroupId,k())}),T(()=>{h()}),(t,n)=>e(a)&&e(a)?.openMiniChatPage&&e(a)?.miniChatGroupId?(m(),d(A,{key:0,position:"bottom-right",offset:[50,0],style:{"z-index":"999"}},{default:s(()=>[i(F,{class:P(["card-style shadow-8",{"card-minimize-togle":!e(a).miniChatMinimize}]),style:{"border-bottom-left-radius":"0","border-bottom-right-radius":"0"},square:""},{default:s(()=>[c.value?o.value?(m(),d(S,{key:1},{default:s(()=>[i(e(z),{modelValue:o.value,"onUpdate:modelValue":n[1]||(n[1]=l=>o.value=l),"show-header":!0,"input-dense":"",square:"","scroll-area-height":"48dvh","input-avata":!1,miniminze:e(a).miniChatMinimize,"mini-chat":"",class:P([{"q-pb-md":!e(a).miniChatMinimize},"content-limit"])},{headerRight:s(()=>[i(C,{flat:"",round:"",dense:"",onClick:V},{default:s(()=>[i(w,{size:"20px",name:e(O)},null,8,["name"]),i(X,null,{default:s(()=>[R(q(e(g)("chats.openChatPage")),1)]),_:1})]),_:1}),i(C,{flat:"",round:"",dense:"",icon:e(a).miniChatMinimize?e(Q):e(N),onClick:n[0]||(n[0]=l=>e(a).miniChatMinimize=!e(a).miniChatMinimize)},null,8,["icon"]),i(C,{flat:"",round:"",dense:"",onClick:h,icon:e(U)},null,8,["icon"])]),_:1},8,["modelValue","miniminze","class"])]),fallback:s(()=>[i(e(v))]),_:1})):o.value?b("",!0):(m(),d(e(I),{key:2,status:"empty",description:e(g)("chats.chatContentEmpty"),"show-icon":!1},{extra:s(()=>[i(w,{name:e($)},null,8,["name"])]),_:1},8,["description"])):(m(),d(e(v),{key:0}))]),_:1},8,["class"])]),_:1})):b("",!0)}}),te=j(K,[["__scopeId","data-v-12f19bee"]]);export{te as C};
