const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ChatContent-DwYYijWS.js","assets/index--rRessbS.js","assets/index-gdJTHt4v.css","assets/BaseVirtualScrollerDynamic.vue_vue_type_script_setup_true_lang-eibdG0MW.js","assets/BaseVirtualScrollerDynamic-BCw0uU-l.css","assets/BaseAvatar-DBU721Eb.js","assets/FileManagerService-CXiPGXBm.js","assets/useAxios-BBYX69-N.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/BaseAvatar-DIqnQNII.css","assets/BaseFilePicker-BXZrxDRb.js","assets/BaseButton-BdMngQoy.js","assets/BaseButton-DSUAVr6U.css","assets/BaseFilesPreviewItemAlt.vue_vue_type_script_setup_true_lang-GyMzjN0R.js","assets/BaseFilesPreviewItem.vue_vue_type_script_setup_true_lang-BUFnP1lA.js","assets/BaseFilePicker-Dq96Uecd.css","assets/BaseTooltip.vue_vue_type_script_setup_true_lang-DoqvQOHe.js","assets/BaseRippleItem.vue_vue_type_script_setup_true_lang-DqdtRDhz.js","assets/BaseContentItem-XcOgbosR.js","assets/BaseContentHtml.vue_vue_type_script_setup_true_lang-Cf3pwHsI.js","assets/BaseContentItem-OTlBsnPl.css","assets/OpenGraphItemAlt.vue_vue_type_script_setup_true_lang-Ca6Gi-r9.js","assets/chatStore-CQ2b_5mW.js","assets/BaseDropdownMenu-B57CWaAD.js","assets/BaseLabelValueItem.vue_vue_type_script_setup_true_lang-CwWrHeVE.js","assets/BaseDropdownMenu-BuF6TE5H.css","assets/BaseCard-B88I9Z5e.js","assets/BaseCard-BQ9eHCk3.css","assets/BaseInfiniteScroll.vue_vue_type_script_setup_true_lang-UoXsoPFo.js","assets/ClosePopup-CdkpPTzR.js","assets/BaseLink.vue_vue_type_script_setup_true_lang-UgTDPXO0.js","assets/ChatContent-B7DjgINu.css","assets/BaseSpinner-Dc0BxrC4.js","assets/BaseSpinner.vue_vue_type_script_setup_true_lang-CypVMFNX.js","assets/BaseResult-DMm4cVyb.js","assets/BaseResult.vue_vue_type_script_setup_true_lang-D7aZpwSp.js"])))=>i.map(i=>d[i]);
import{l as B,u as D,a as E,r as u,a5 as G,h as T,m as d,T as b,J as e,n as m,ae as A,w as s,x as i,aG as f,dm as S,I as P,af as C,aA as w,dn as O,L as R,M as N,d9 as Q,dp as q,a1 as U,dc as $,ay as F,aO as _,db as H}from"./index--rRessbS.js";import{u as J}from"./chatStore-CQ2b_5mW.js";import{_ as X}from"./BaseTooltip.vue_vue_type_script_setup_true_lang-DoqvQOHe.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K=B({__name:"ChatMini",setup(W){const z=f(()=>_(()=>import("./ChatContent-DwYYijWS.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]))),v=f(()=>_(()=>import("./BaseSpinner-Dc0BxrC4.js"),__vite__mapDeps([32,33,1,2]))),I=f(()=>_(()=>import("./BaseResult-DMm4cVyb.js"),__vite__mapDeps([34,35,1,2]))),a=J(),{t:g}=D(),{appNavigateTo:M}=E(),r=u(),o=u(),c=u(!1),p=u(!0),k=async()=>{c.value=!1,r.value&&r.value>0&&await L(),c.value=!0},x=async t=>{const n=H.dataList.find(l=>l.id==t);return new Promise(l=>l(n))},L=async()=>{if(p.value=!0,!r.value)return p.value=!1,new Promise(n=>n(!1));const t=await x(r.value);return t&&(o.value=t),p.value=!1,new Promise(n=>n(!0))},y=()=>{o.value=void 0,r.value=void 0},h=()=>{y(),a.onCloseMiniChatPage()},V=()=>{o.value&&(M(`/example/chats/g/${o.value.id}`),h())};return G(a,t=>{t.openMiniChatPage&&t.miniChatGroupId&&r.value!=t.miniChatGroupId&&(y(),r.value=t.miniChatGroupId,k())}),T(()=>{h()}),(t,n)=>e(a)&&e(a)?.openMiniChatPage&&e(a)?.miniChatGroupId?(m(),d(A,{key:0,position:"bottom-right",offset:[50,0],style:{"z-index":"999"}},{default:s(()=>[i(F,{class:P(["card-style shadow-8",{"card-minimize-togle":!e(a).miniChatMinimize}]),style:{"border-bottom-left-radius":"0","border-bottom-right-radius":"0"},square:""},{default:s(()=>[c.value?o.value?(m(),d(S,{key:1},{default:s(()=>[i(e(z),{modelValue:o.value,"onUpdate:modelValue":n[1]||(n[1]=l=>o.value=l),"show-header":!0,"input-dense":"",square:"","scroll-area-height":"48dvh","input-avata":!1,miniminze:e(a).miniChatMinimize,"mini-chat":"",class:P([{"q-pb-md":!e(a).miniChatMinimize},"content-limit"])},{headerRight:s(()=>[i(C,{flat:"",round:"",dense:"",onClick:V},{default:s(()=>[i(w,{size:"20px",name:e(O)},null,8,["name"]),i(X,null,{default:s(()=>[R(N(e(g)("chats.openChatPage")),1)]),_:1})]),_:1}),i(C,{flat:"",round:"",dense:"",icon:e(a).miniChatMinimize?e(q):e(Q),onClick:n[0]||(n[0]=l=>e(a).miniChatMinimize=!e(a).miniChatMinimize)},null,8,["icon"]),i(C,{flat:"",round:"",dense:"",onClick:h,icon:e(U)},null,8,["icon"])]),_:1},8,["modelValue","miniminze","class"])]),fallback:s(()=>[i(e(v))]),_:1})):o.value?b("",!0):(m(),d(e(I),{key:2,status:"empty",description:e(g)("chats.chatContentEmpty"),"show-icon":!1},{extra:s(()=>[i(w,{name:e($)},null,8,["name"])]),_:1},8,["description"])):(m(),d(e(v),{key:0}))]),_:1},8,["class"])]),_:1})):b("",!0)}}),te=j(K,[["__scopeId","data-v-12f19bee"]]);export{te as C};
