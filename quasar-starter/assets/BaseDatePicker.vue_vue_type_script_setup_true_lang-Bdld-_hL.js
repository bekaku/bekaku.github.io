import{l as W,am as w,an as c,r as y,u as j,c as E,m as f,n as s,c6 as Y,J as r,w as u,t as P,b8 as U,x as p,af as A,a as I,c7 as J,O as X,bO as z,M,R as v,T as B,c8 as O,W as C,v as Q,c9 as G,ca as H,aA as K,L,cb as T,cc as Z}from"./index-5wxfv7l2.js";import{C as q}from"./ClosePopup-BorJVduS.js";const x={class:"row items-center justify-end"},_={class:"row items-center justify-end"},N=W({__name:"BaseDate",props:w({autoClose:{type:Boolean,default:!0},label:{},minDate:{},maxDate:{},dateList:{default:()=>[]},color:{},range:{type:Boolean,default:!1},title:{},subtitle:{}},{modelValue:{default:null},modelModifiers:{},start:{default:null},startModifiers:{},end:{default:null},endModifiers:{}}),emits:w(["on-update","on-update-range","on-close"],["update:modelValue","update:start","update:end"]),setup(t,{emit:R}){const n=c(t,"modelValue"),l=c(t,"start"),o=c(t,"end"),D=y({from:l.value,to:o.value}),g=y(null),m=R,k=t.dateList?.map(a=>a.replaceAll("-","/")),{t:i,locale:S}=j(),V=E(()=>S.value?{days:i("date.days").split("_"),daysShort:i("date.dayShorts").split("_"),months:i("date.months").split("_"),monthsShort:i("date.monthShorts").split("_"),firstDayOfWeek:1}:void 0),h=a=>t.minDate&&t.maxDate?a>=t.minDate.replaceAll("-","/")&&a<=t.maxDate.replaceAll("-","/"):t.minDate?a>=t.minDate.replaceAll("-","/"):t.maxDate?a<=t.maxDate.replaceAll("-","/"):!0,$=a=>{g.value&&t.autoClose&&g.value.hide(),m("on-update",a)},b=a=>{a&&(l.value=a?.from?a.from:null,o.value=a?.to?a.to:null),m("on-update-range",a)},e=()=>{m("on-close")};return(a,d)=>a.range?(s(),f(Y,{key:1,modelValue:D.value,"onUpdate:modelValue":[d[1]||(d[1]=F=>D.value=F),b],range:"",title:a.title,subtitle:a.subtitle,mask:"YYYY-MM-DD",color:a.color,"today-btn":"","first-day-of-week":0,locale:V.value,options:a.dateList.length>0?r(k):h},{default:u(()=>[P("div",_,[U(p(A,{label:r(i)("base.close"),color:a.color,flat:"",onClick:e},null,8,["label","color"]),[[q]])])]),_:1},8,["modelValue","title","subtitle","color","locale","options"])):(s(),f(Y,{key:0,modelValue:n.value,"onUpdate:modelValue":[d[0]||(d[0]=F=>n.value=F),$],title:a.title,subtitle:a.subtitle,mask:"YYYY-MM-DD",color:a.color,"today-btn":"","first-day-of-week":0,locale:V.value,options:a.dateList.length>0?r(k):h},{default:u(()=>[P("div",x,[U(p(A,{label:r(i)("base.close"),color:a.color,flat:"",onClick:e},null,8,["label","color"]),[[q]])])]),_:1},8,["modelValue","title","subtitle","color","locale","options"]))}}),ee={key:0,class:"text-negative"},ae={class:"self-center full-width no-outline",tabindex:"0"},te={class:"text-negative"},se=W({__name:"BaseDatePicker",props:w({autoClose:{type:Boolean,default:!0},label:{},minDate:{},maxDate:{},dateList:{default:()=>[]},dense:{type:Boolean,default:!0},disable:{type:Boolean,default:!1},required:{type:Boolean,default:!1},color:{},editMode:{type:Boolean,default:!0},range:{type:Boolean,default:!1},showFormatDate:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},formatDateText:{default:()=>Z},title:{},subtitle:{}},{modelValue:{default:null},modelModifiers:{},start:{default:null},startModifiers:{},end:{default:null},endModifiers:{}}),emits:w(["on-update","on-update-range"],["update:modelValue","update:start","update:end"]),setup(t,{emit:R}){const n=c(t,"modelValue"),l=c(t,"start"),o=c(t,"end"),D=y({from:l.value,to:o.value}),{appFormatDate:g}=I(),m=y(null),k=y(null),i=R,{t:S}=j(),V=()=>{n.value="",l.value="",o.value="",D.value=null},h=e=>{m.value&&t.autoClose&&m.value.hide(),i("on-update",e)},$=e=>{i("on-update-range",e)},b=e=>{if(e)return g(e,t.formatDateText)};return(e,a)=>(s(),f(J,X(e.$attrs,{outlined:e.editMode,borderless:!e.editMode,"bottom-slots":"",label:e.label,"stack-label":"",dense:e.dense,disable:e.disable,class:"cursor-pointer"}),z({label:u(()=>[Q(e.$slots,"label",{},()=>[L(M(e.label)+" ",1),e.required?(s(),v("span",ee,"*")):B("",!0)])]),control:u(()=>[P("div",ae,[e.showFormatDate?(s(),v(C,{key:1},[L(M(e.range?`${l.value?b(l.value):""} - ${o.value?b(o.value):""}`:b(n.value)),1)],64)):(s(),v(C,{key:0},[L(M(e.range?`${l.value?r(T)(l.value):""}-${o.value?r(T)(o.value):""}`:r(T)(n.value)),1)],64))])]),prepend:u(()=>[p(K,{name:r(H),color:e.color},null,8,["name","color"])]),after:u(()=>[Q(e.$slots,"after",{},()=>[e.clearable&&(n.value||l.value&&o.value)&&e.editMode?(s(),f(A,{key:0,flat:"",round:"",icon:r(G),onClick:V},null,8,["icon"])):B("",!0)])]),default:u(()=>[e.range?(s(),v(C,{key:1},[e.editMode?(s(),f(O,{key:0,ref_key:"dateRangeProxy",ref:k,"transition-show":"scale","transition-hide":"scale"},{default:u(()=>[p(N,{start:l.value,"onUpdate:start":a[1]||(a[1]=d=>l.value=d),end:o.value,"onUpdate:end":a[2]||(a[2]=d=>o.value=d),title:e.title,subtitle:e.subtitle,range:"",color:e.color,onOnUpdateRange:$},null,8,["start","end","title","subtitle","color"])]),_:1},512)):B("",!0)],64)):(s(),v(C,{key:0},[e.editMode?(s(),f(O,{key:0,ref_key:"dateProxy",ref:m,"transition-show":"scale","transition-hide":"scale"},{default:u(()=>[p(N,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=d=>n.value=d),title:e.title,subtitle:e.subtitle,"min-date":e.minDate,"max-date":e.maxDate,"date-list":e.dateList,color:e.color,onOnUpdate:h},null,8,["modelValue","title","subtitle","min-date","max-date","date-list","color"])]),_:1},512)):B("",!0)],64))]),_:2},[e.required&&!n.value&&e.editMode&&!e.disable?{name:"hint",fn:u(()=>[P("span",te,M(r(S)("error.validateRequireChoose")),1)]),key:"0"}:void 0]),1040,["outlined","borderless","label","dense","disable"]))}});export{se as _,N as a};
