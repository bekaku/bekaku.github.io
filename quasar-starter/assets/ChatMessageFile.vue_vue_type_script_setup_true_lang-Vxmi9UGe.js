const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BaseFileViewDialog-p6hIsee0.js","assets/FileManagerService-DtMSDvzq.js","assets/useAxios-578BH76m.js","assets/index-BUKV_9O1.js","assets/index-Fr33gqm_.css","assets/BasePdfViewDialog.vue_vue_type_script_setup_true_lang-D5e756Kx.js","assets/image-view-BjwuobEO.js","assets/BaseFilesPreviewItem.vue_vue_type_script_setup_true_lang-BN5Iltha.js","assets/BaseAvatar-YhefbKXS.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/BaseAvatar-BJnla1kf.css","assets/BaseFilesPreviewItemAlt.vue_vue_type_script_setup_true_lang-BTzkGJSH.js","assets/BaseScrollArea.vue_vue_type_script_setup_true_lang-CGGch_uA.js","assets/useAppMeta-eA7SJycm.js","assets/use-meta-BfsM_rxZ.js","assets/BasePage.vue_vue_type_script_setup_true_lang-C9gXlWUq.js","assets/BaseCard-CVr34Mor.js","assets/BaseCard-IC8sCSUl.css","assets/ClosePopup-DPKYBDjj.js","assets/BaseSwiperSlides.vue_vue_type_script_setup_true_lang-D6XU-qn_.js","assets/index-DLxukzHp.js","assets/SkeletonItem.vue_vue_type_script_setup_true_lang-C9i1fiUb.js","assets/image-view-HuTgdbxB.css","assets/BaseImageViewDialog-Dut3KLut.js","assets/BaseImageViewDialog-CWA4uJwq.css"])))=>i.map(i=>d[i]);
import{l as T,bq as A,u as q,r as d,c as u,V as r,n as t,ah as h,t as y,m as x,a0 as c,p as L,q as O,aZ as M,Z as D,x as E,w as I,W as R,X as Z,bg as H,a5 as k,aB as J,aJ as Q}from"./index-BUKV_9O1.js";import{_ as U}from"./BaseFilesPreviewItem.vue_vue_type_script_setup_true_lang-BN5Iltha.js";import{_ as W}from"./BaseFilesPreviewItemAlt.vue_vue_type_script_setup_true_lang-BTzkGJSH.js";const X={key:0,class:"row"},j={key:1,class:"row"},G={class:"col q-py-sm"},ae=T({__name:"ChatMessageFile",props:{chatId:{},files:{},sent:{type:Boolean},showImageSlideAll:{type:Boolean,default:!0},miniChat:{type:Boolean},fileTextColor:{}},setup(g){const C=J(()=>Q(()=>import("./BaseFileViewDialog-p6hIsee0.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24])));A();const{t:_}=q(),f=d(),w=d([]),p=d(0),n=d(!1),v=u(()=>g.files.filter(e=>e.fileManager)),o=u(()=>g.files.filter(e=>e.fileManager&&e.fileManager.image)),i=u(()=>g.files.filter(e=>e.fileManager&&!e.fileManager.image)),B=u(()=>{const e=o.value.length;return e==1?"col-12 col-md-12":e==2?"col-6 col-md-6":e==3?"col-4 col-md-4":"col-3 col-md-3"}),V=u(()=>v.value.length==1?"250px":v.value.length==2?"125px":"100px"),z=u(()=>i.value.length==1?"550px":i.value.length==2?"125px":"100px"),F=e=>{if(e!=null&&i.value&&v.value.length>0)return v.value[e]},b=e=>{if(e!=null&&i.value&&i.value.length>0)return i.value[e]},S=e=>new Promise(l=>{const a=o.value.findIndex(s=>s.id==e.id);if(a>=0){const s=o.value;for(const m of s)m&&m.fileManager&&w.value.push(m.fileManager);p.value=a}l(!0)}),P=async e=>{n.value=!1,p.value=0,w.value=[];const l=F(e);l&&l.fileManager&&(g.showImageSlideAll&&l.fileManager.image&&await S(l),f.value=l,n.value=!0)},$=async(e,l)=>{n.value=!1;const a=b(e);a&&a.fileManager&&(f.value=a,n.value=!0)};return(e,l)=>(t(),r(h,null,[y("div",L(O(e.$attrs)),[o.value&&o.value.length>0?(t(),r("div",X,[(t(!0),r(h,null,M(o.value,(a,s)=>(t(),r("div",{key:`chat-message-f-preview-${s}-${a.id}`,class:D(["q-pa-xs",B.value])},[a.fileManager?(t(),x(U,{key:0,class:"app-border",style:{"border-radius":"10px"},item:a.fileManager,index:s,"show-delete":!1,"show-tooltip":"","text-color":e.fileTextColor?e.fileTextColor:e.sent?"text-black":void 0,"use-thumbnail":o.value.length>1,"image-size":V.value,"image-height":z.value,"show-name":!a.fileManager?.image,"show-size":!1,onOnClick:P},null,8,["item","index","text-color","use-thumbnail","image-size","image-height","show-name"])):c("",!0)],2))),128))])):c("",!0),i.value&&i.value.length>0?(t(),r("div",j,[y("div",G,[E(H,null,{default:I(()=>[(t(!0),r(h,null,M(i.value,(a,s)=>(t(),r(h,{key:`chat-message-file-preview-${s}-${a.id}`},[a.fileManager?(t(),x(W,{key:0,item:a.fileManager,index:s,onOnClick:l[0]||(l[0]=(m,N)=>$(m,N)),"show-delete":!1,"icon-size":"2em","image-size":"2em","text-color":e.sent?"text-black":"",clickable:""},{fileName:I(()=>[R(Z(a.fileManager.fileName),1)]),_:2},1032,["item","index","text-color"])):c("",!0)],64))),128))]),_:1})])])):c("",!0)],16),n.value&&f.value&&f.value.fileManager?(t(),x(k(C),{key:0,item:f.value.fileManager,"image-list":w.value,"select-index":p.value,title:k(_)("chats.chats"),"show-arrow":e.showImageSlideAll,show:n.value,"onUpdate:show":l[1]||(l[1]=a=>n.value=a)},null,8,["item","image-list","select-index","title","show-arrow","show"])):c("",!0)],64))}});export{ae as _};
