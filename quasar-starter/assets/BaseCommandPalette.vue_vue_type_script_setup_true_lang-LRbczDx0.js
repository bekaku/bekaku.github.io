import{l as F,ad as C,u as N,ae as D,r as M,c as O,m as o,n as a,Y as T,w as n,V as f,a0 as p,x as d,v as H,av as v,a5 as i,bd as z,ah as m,be as P,aZ as B,aA as E,au as U,W,X,at as S,bf as V,bg as w,bh as $,bi as Y}from"./index-XkaHhxLP.js";import{B as Z}from"./BaseCard-DrLvCx8j.js";import{_ as j}from"./BaseInput.vue_vue_type_script_setup_true_lang-BwTPxX_d.js";import L from"./BaseSpinner-BZom3cqU.js";import{_ as G}from"./BaseScrollArea.vue_vue_type_script_setup_true_lang-DgPJB-BX.js";import{_ as I}from"./BaseLabelValueItem.vue_vue_type_script_setup_true_lang-B1iIdF7n.js";import{_ as J}from"./BaseResult.vue_vue_type_script_setup_true_lang-DTjEwdLn.js";const oe=F({__name:"BaseCommandPalette",props:C({items:{},bordered:{type:Boolean,default:!0},flat:{type:Boolean,default:!0},label:{},readonly:{type:Boolean,default:!1},dense:{type:Boolean,default:!0},denseItem:{type:Boolean,default:!0},canFilter:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},icon:{default:()=>Y},loading:{type:Boolean,default:!1},inputDebounce:{default:100},lazy:{type:Boolean},noOptionsText:{},placeholder:{},color:{default:"primary"},iconSize:{},avatarSize:{},scrollHeight:{default:"420px"},useCheckbox:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:C(["on-click"],["update:modelValue"]),setup(c,{emit:A}){const{t:y}=N(),r=D(c,"modelValue"),s=M(""),Q=A,b=O(()=>s.value===void 0||s.value.trim().length==0?c.items:c.items.map(e=>{if(e.children){const u=e.children.filter(l=>l.label&&l.label.toLowerCase().includes(s.value.toLowerCase())||l.description!=null&&l.description.toLowerCase().includes(s.value.toLowerCase()));return{...e,children:u}}else return e.label&&e.label.toLowerCase().includes(s.value.toLowerCase())||e.description!=null&&e.description.toLowerCase().includes(s.value.toLowerCase())?e:null}).filter(e=>e!==null&&(!e.children||e.children.length>0))),k=e=>{c.readonly||(Q("on-click",e),e!=null&&(c.multiple||(r.value===e?r.value=void 0:r.value=e),r.value!=null&&Array.isArray(r.value)&&(t(e)?r.value=r.value.filter(l=>l!==e):r.value.push(e))))},t=e=>{if(e!=null){if(!c.multiple)return r.value===e;if(r.value!=null&&Array.isArray(r.value))return r.value.find(u=>u==e)}};return(e,u)=>(a(),o(Z,T(e.$attrs,{bordered:e.bordered,flat:e.flat}),{default:n(()=>[e.canFilter&&!e.readonly?(a(),f(m,{key:0},[d(j,{modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=l=>s.value=l),class:"q-px-sm",borderless:"",dense:e.dense,debounce:e.inputDebounce,placeholder:e.placeholder||i(y)("base.typeForsearch")+"..."},{prepend:n(()=>[e.loading?(a(),o(L,{key:0,type:"defult",size:"24px",class:"q-mb-sm"})):(a(),o(v,{key:1,name:e.icon,class:"text-muted",size:"20px"},null,8,["name"]))]),append:n(()=>[H(e.$slots,"inputAppend")]),_:3},8,["modelValue","dense","debounce","placeholder"]),d(z)],64)):p("",!0),d(E,null,{default:n(()=>[e.loading?(a(),o(L,{key:0})):(a(),o(P,{key:1,dense:e.denseItem},{default:n(()=>[d(G,{height:e.scrollHeight},{default:n(()=>[(a(!0),f(m,null,B(b.value,(l,g)=>(a(),f(m,{key:`app-commandpalette-${g}`},[l&&l.children&&l.children.length>0?(a(),f(m,{key:0},[d(U,{header:""},{default:n(()=>[W(X(l.label),1)]),_:2},1024),l.border?(a(),o(z,{key:0,class:"q-mb-sm"})):p("",!0),(a(!0),f(m,null,B(l.children,(h,q)=>(a(),o(I,{key:`app-submenulevel2-${g}-${q}`,item:h,"avatar-size":e.iconSize,"icon-size":e.iconSize,"high-light-text":s.value,color:t(h.value)?e.color:void 0,dense:e.denseItem,clickable:e.readonly?!1:l.value!=null||l.children&&l.children.length>0,onOnClick:k},{default:n(()=>[d(S,{side:""},{default:n(()=>[e.useCheckbox?(a(),o(v,{key:0,name:t(h.value)?i(V):i(w),color:t(h.value)?e.color:void 0,size:"20px"},null,8,["name","color"])):t(h.value)?(a(),o(v,{key:1,name:i($),color:e.color,size:"20px"},null,8,["name","color"])):p("",!0)]),_:2},1024)]),_:2},1032,["item","avatar-size","icon-size","high-light-text","color","dense","clickable"]))),128))],64)):(a(),f(m,{key:1},[l?(a(),o(I,{key:0,item:l,dense:e.dense,"avatar-size":e.iconSize,"icon-size":e.iconSize,"high-light-text":s.value,clickable:l.value!=null||l.children&&l.children.length>0,color:t(l.value)?"primary":void 0,onOnClick:k},{default:n(()=>[d(S,{side:""},{default:n(()=>[e.useCheckbox?(a(),o(v,{key:0,name:t(l.value)?i(V):i(w),color:t(l.value)?e.color:void 0,size:"20px"},null,8,["name","color"])):t(l.value)?(a(),o(v,{key:1,name:i($),color:e.color,size:"20px"},null,8,["name","color"])):p("",!0)]),_:2},1024)]),_:2},1032,["item","dense","avatar-size","icon-size","high-light-text","clickable","color"])):p("",!0)],64))],64))),128)),b.value.length==0?(a(),o(J,{key:0,status:"empty",description:i(y)("error.dataNotfound")},null,8,["description"])):p("",!0)]),_:1},8,["height"])]),_:1},8,["dense"]))]),_:1})]),_:3},16,["bordered","flat"]))}});export{oe as _};
