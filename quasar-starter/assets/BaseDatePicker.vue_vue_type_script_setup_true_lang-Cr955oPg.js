import{d as O,ai as w,aj as c,k as y,j as E,C as W,c as f,o as s,by as A,T as r,w as u,a as P,bj as U,e as p,S as Y,u as X,bz as z,L as I,bA as Z,X as M,Y as v,M as B,bB as j,Z as C,r as Q,bC as G,bD as H,a8 as J,W as R,bE as T,bF as K}from"./index-kOwwKpmx.js";import{C as q}from"./ClosePopup-DaXQ1Tz_.js";const x={class:"row items-center justify-end"},_={class:"row items-center justify-end"},N=O({__name:"BaseDate",props:w({autoClose:{type:Boolean,default:!0},label:{},minDate:{},maxDate:{},dateList:{default:()=>[]},color:{},range:{type:Boolean,default:!1},title:{},subtitle:{}},{modelValue:{default:null},modelModifiers:{},start:{default:null},startModifiers:{},end:{default:null},endModifiers:{}}),emits:w(["on-update","on-update-range","on-close"],["update:modelValue","update:start","update:end"]),setup(t,{emit:S}){const n=c(t,"modelValue"),l=c(t,"start"),o=c(t,"end"),D=y({from:l.value,to:o.value}),k=y(null),m=S,g=t.dateList?.map(a=>a.replaceAll("-","/")),{t:i,locale:F}=E(),V=W(()=>F.value?{days:i("date.days").split("_"),daysShort:i("date.dayShorts").split("_"),months:i("date.months").split("_"),monthsShort:i("date.monthShorts").split("_"),firstDayOfWeek:1}:void 0),h=a=>t.minDate&&t.maxDate?a>=t.minDate.replaceAll("-","/")&&a<=t.maxDate.replaceAll("-","/"):t.minDate?a>=t.minDate.replaceAll("-","/"):t.maxDate?a<=t.maxDate.replaceAll("-","/"):!0,$=a=>{k.value&&t.autoClose&&k.value.hide(),m("on-update",a)},b=a=>{a&&(l.value=a?.from?a.from:null,o.value=a?.to?a.to:null),m("on-update-range",a)},e=()=>{m("on-close")};return(a,d)=>a.range?(s(),f(A,{key:1,modelValue:D.value,"onUpdate:modelValue":[d[1]||(d[1]=L=>D.value=L),b],range:"",title:a.title,subtitle:a.subtitle,mask:"YYYY-MM-DD",color:a.color,"today-btn":"","first-day-of-week":0,locale:V.value,options:a.dateList.length>0?r(g):h},{default:u(()=>[P("div",_,[U(p(Y,{label:r(i)("base.close"),color:a.color,flat:"",onClick:e},null,8,["label","color"]),[[q]])])]),_:1},8,["modelValue","title","subtitle","color","locale","options"])):(s(),f(A,{key:0,modelValue:n.value,"onUpdate:modelValue":[d[0]||(d[0]=L=>n.value=L),$],title:a.title,subtitle:a.subtitle,mask:"YYYY-MM-DD",color:a.color,"today-btn":"","first-day-of-week":0,locale:V.value,options:a.dateList.length>0?r(g):h},{default:u(()=>[P("div",x,[U(p(Y,{label:r(i)("base.close"),color:a.color,flat:"",onClick:e},null,8,["label","color"]),[[q]])])]),_:1},8,["modelValue","title","subtitle","color","locale","options"]))}}),ee={key:0,class:"text-negative"},ae={class:"self-center full-width no-outline",tabindex:"0"},te={class:"text-negative"},se=O({__name:"BaseDatePicker",props:w({autoClose:{type:Boolean,default:!0},label:{},minDate:{},maxDate:{},dateList:{default:()=>[]},dense:{type:Boolean,default:!0},disable:{type:Boolean,default:!1},required:{type:Boolean,default:!1},color:{},editMode:{type:Boolean,default:!0},range:{type:Boolean,default:!1},showFormatDate:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},formatDateText:{default:()=>K},title:{},subtitle:{}},{modelValue:{default:null},modelModifiers:{},start:{default:null},startModifiers:{},end:{default:null},endModifiers:{}}),emits:w(["on-update","on-update-range"],["update:modelValue","update:start","update:end"]),setup(t,{emit:S}){const n=c(t,"modelValue"),l=c(t,"start"),o=c(t,"end"),D=y({from:l.value,to:o.value}),{appFormatDate:k}=X(),m=y(null),g=y(null),i=S,{t:F}=E(),V=()=>{n.value="",l.value="",o.value="",D.value=null},h=e=>{m.value&&t.autoClose&&m.value.hide(),i("on-update",e)},$=e=>{i("on-update-range",e)},b=e=>{if(e)return k(e,t.formatDateText)};return(e,a)=>(s(),f(z,I(e.$attrs,{outlined:e.editMode,borderless:!e.editMode,"bottom-slots":"",label:e.label,"stack-label":"",dense:e.dense,disable:e.disable,class:"cursor-pointer"}),Z({label:u(()=>[Q(e.$slots,"label",{},()=>[R(M(e.label)+" ",1),e.required?(s(),v("span",ee,"*")):B("",!0)])]),control:u(()=>[P("div",ae,[e.showFormatDate?(s(),v(C,{key:1},[R(M(e.range?`${l.value?b(l.value):""} - ${o.value?b(o.value):""}`:b(n.value)),1)],64)):(s(),v(C,{key:0},[R(M(e.range?`${l.value?r(T)(l.value):""}-${o.value?r(T)(o.value):""}`:r(T)(n.value)),1)],64))])]),prepend:u(()=>[p(J,{name:r(H),color:e.color},null,8,["name","color"])]),after:u(()=>[Q(e.$slots,"after",{},()=>[e.clearable&&(n.value||l.value&&o.value)&&e.editMode?(s(),f(Y,{key:0,flat:"",round:"",icon:r(G),onClick:V},null,8,["icon"])):B("",!0)])]),default:u(()=>[e.range?(s(),v(C,{key:1},[e.editMode?(s(),f(j,{key:0,ref_key:"dateRangeProxy",ref:g,"transition-show":"scale","transition-hide":"scale"},{default:u(()=>[p(N,{start:l.value,"onUpdate:start":a[1]||(a[1]=d=>l.value=d),end:o.value,"onUpdate:end":a[2]||(a[2]=d=>o.value=d),title:e.title,subtitle:e.subtitle,range:"",color:e.color,onOnUpdateRange:$},null,8,["start","end","title","subtitle","color"])]),_:1},512)):B("",!0)],64)):(s(),v(C,{key:0},[e.editMode?(s(),f(j,{key:0,ref_key:"dateProxy",ref:m,"transition-show":"scale","transition-hide":"scale"},{default:u(()=>[p(N,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=d=>n.value=d),title:e.title,subtitle:e.subtitle,"min-date":e.minDate,"max-date":e.maxDate,"date-list":e.dateList,color:e.color,onOnUpdate:h},null,8,["modelValue","title","subtitle","min-date","max-date","date-list","color"])]),_:1},512)):B("",!0)],64))]),_:2},[e.required&&!n.value&&e.editMode&&!e.disable?{name:"hint",fn:u(()=>[P("span",te,M(r(F)("error.validateRequireChoose")),1)]),key:"0"}:void 0]),1040,["outlined","borderless","label","dense","disable"]))}});export{se as _,N as a};
