import{l as I,a as M,u as N,b8 as w,T as l,m as i,n as a,Z as B,O as C,w as t,x as o,Y as u,U as n,L as m,aA as c,J as s,du as T,M as r,ch as S,t as A,R as d,dv as $,dw as f,W as g,v as Q,c7 as U}from"./index-D2_s7zbP.js";import{C as V}from"./ClosePopup-2-dEFwXe.js";import{_ as F}from"./BaseContentHtml.vue_vue_type_script_setup_true_lang-CVw-4U3f.js";import{_ as L}from"./chatStore-B4BY8DG5.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"row"},z=I({__name:"ChatHistoryItem",props:{item:{},avatarSize:{},isActive:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},closePopup:{type:Boolean},showSettingIcon:{type:Boolean,default:!0},clickable:{type:Boolean,default:!0}},emits:["on-item-click"],setup(y,{emit:k}){const h=k,{appFormatDateAuto:b}=M(),{t:p}=N(),v=()=>{h("on-item-click",y.item)};return(e,D)=>e.item?w((a(),i(B,C({key:0},e.$attrs,{dense:e.dense,clickable:e.clickable,onClick:v,class:{"active-chat":e.isActive}}),{default:t(()=>[o(u,{avatar:""},{default:t(()=>[o(L,{item:e.item},null,8,["item"])]),_:1}),o(u,null,{default:t(()=>[o(n,{lines:"1"},{default:t(()=>[e.item.favorite&&e.showSettingIcon?(a(),i(c,{key:0,color:"amber-5",size:"11px",class:"q-mb-xs",name:s(T)},null,8,["name"])):l("",!0),m(" "+r(`${e.item.chatType=="GROUP"?"("+s(S)(e.item.totalMembers)+") ":""}${e.item.groupName?e.item.groupName:s(p)("chats.groupUntitledName")}`),1)]),_:1}),o(n,{caption:"",lines:"1"},{default:t(()=>[A("div",P,[e.item.muteNotify&&e.showSettingIcon?(a(),i(c,{key:0,size:"15px",class:"text-muted",name:s($)},null,8,["name"])):l("",!0),e.item.latestMessageType!="LOCATION"&&e.item.latestMessage?(a(),i(F,{key:1,content:e.item.latestMessage,"is-escape-html":""},null,8,["content"])):s(f)(e.item.latestMessageType)!=""?(a(),d(g,{key:2},[m(r(s(p)(s(f)(e.item.latestMessageType))),1)],64)):(a(),d(g,{key:3},[m(" Â  ")],64))])]),_:1})]),_:1}),o(u,{side:""},{default:t(()=>[Q(e.$slots,"side",{},()=>[e.item.latestUpdate?(a(),i(n,{key:0,caption:"",lines:"1"},{default:t(()=>[m(r(s(b)(e.item.latestUpdate)),1)]),_:1})):l("",!0),!e.isActive&&e.item.totalNewMessage>0?(a(),i(n,{key:1,caption:""},{default:t(()=>[o(U,{color:"negative"},{default:t(()=>[m(r(e.item.totalNewMessage>=100?"99+":e.item.totalNewMessage),1)]),_:1})]),_:1})):l("",!0)],!0)]),_:3})]),_:3},16,["dense","clickable","class"])),[[V]]):l("",!0)}}),G=O(z,[["__scopeId","data-v-bf26fad5"]]);export{G as C};
