import{d as g,j as S,bn as y,k as m,b5 as V,C as d,ah as w,c as C,o as E,w as n,a as u,e as t,X as Q,T as e,as as x,al as B,ar as k,S as q,ab as U,cC as A,ad as I}from"./index-DLAlP7tE.js";import{U as L}from"./UserService-B_hYByeM.js";import{u as N}from"./useValidation-C9N7U-EW.js";import"./useAxios-DN4MWJg7.js";const j={class:"text-h6"},D={class:"row"},F={class:"col-12 col-md-6 q-pa-md"},W=g({__name:"SettingEmail",setup(K){const{t:s}=S(),l=y(),{updateEmail:c}=L(),{required:p,requireEmail:b}=N(),a=m({email:""}),i=m(!1);V(()=>{l.auth&&l.auth.email&&(a.value.email=l.auth.email)});const v=d(()=>a.value.email&&f.value),f=d(()=>a.value.email?w(a.value.email):!1),h=async()=>{i.value=!0;const o=await c(a.value);i.value=!1,o&&o.status=="OK"&&l.auth&&(l.auth.email=a.value.email)};return(o,r)=>(E(),C(I,null,{default:n(()=>[u("div",j,Q(e(s)("base.emailEdit")),1),t(x,{onSubmit:h},{default:n(()=>[u("div",D,[u("div",F,[t(B,{outlined:"",modelValue:a.value.email,"onUpdate:modelValue":r[0]||(r[0]=_=>a.value.email=_),label:e(s)("base.emailEdit"),rules:[e(p),e(b)],type:"email"},null,8,["modelValue","label","rules"])])]),t(k,{align:"right"},{default:n(()=>[t(q,{disable:!v.value,unelevated:"",color:"primary",icon:e(U),label:e(s)("base.edit"),type:"submit"},null,8,["disable","icon","label"])]),_:1})]),_:1}),t(A,{showing:i.value,label:e(s)("base.pleaseWait"),"label-class":"text-primary"},null,8,["showing","label"])]),_:1}))}});export{W as default};
