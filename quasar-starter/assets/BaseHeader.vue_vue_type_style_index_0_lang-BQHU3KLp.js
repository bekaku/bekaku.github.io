const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NotificationBarMenu-C4Ozl33U.js","assets/index-UTJsbmGU.js","assets/index-Dx9QcfFl.css","assets/ClosePopup-CwsVPSEh.js","assets/BaseAvatar-DYsAAppw.js","assets/BaseImage-C5pcvk_j.js","assets/FileManagerService-oa2a8H9O.js","assets/useAxios-D87ZUWP6.js","assets/_commonjsHelpers-BosuxZz1.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/BaseImage-NGkdU4dI.css","assets/BaseAvatar-I8ZpSLiZ.css","assets/useAuth-BTdA4huR.js","assets/BaseThemeSwitcher.vue_vue_type_script_setup_true_lang-BiQsZuc7.js","assets/BaseButton-BUn1xyHV.js","assets/BaseButton-CM0Q31Ev.css","assets/SearchMenu-D32sImi4.js","assets/BaseDialog.vue_vue_type_script_setup_true_lang-CbJfi44e.js","assets/BaseCommandPalette.vue_vue_type_script_setup_true_lang-BE0uQvE8.js","assets/BaseCard-DoN1hG9u.js","assets/BaseCard-CCIGK2BW.css","assets/BaseInput.vue_vue_type_script_setup_true_lang-CVDxnSgW.js","assets/BaseSpinner-hdbtQd30.js","assets/BaseScrollArea.vue_vue_type_script_setup_true_lang-CpNKkevY.js","assets/BaseLabelValueItem.vue_vue_type_script_setup_true_lang-CY7wWuLD.js","assets/BaseResult.vue_vue_type_script_setup_true_lang-DkfpcqgX.js"])))=>i.map(i=>d[i]);
import{d as V,bB as U,j as q,bh as Y,bn as j,s as J,bp as W,c as o,o as s,W as N,E as X,w as a,e as t,F as p,X as r,K as e,Y as C,a as x,O as b,N as _,a1 as y,bE as Z,bo as z,aP as ee,bd as T,dL as te,aO as Q,br as ae,bq as oe,dv as O,dF as se,cT as le,cR as ne,dM as re,dN as ie,k as I,dO as ue,a$ as F,dP as de,cs as ce,u as fe,dQ as me,U as pe,J as v,ay as be,aT as E,bZ as _e,dR as ye,M as A,dS as ge,c$ as he,dT as ve,cE as ke,ad as P,d4 as Ne,am as D}from"./index-UTJsbmGU.js";import{C as B}from"./ClosePopup-CwsVPSEh.js";import{B as $}from"./BaseAvatar-DYsAAppw.js";import{u as we}from"./useAuth-BTdA4huR.js";import{a as Se,_ as Ce}from"./BaseThemeSwitcher.vue_vue_type_script_setup_true_lang-BiQsZuc7.js";import{u as Te,a as G,b as Ae}from"./useAxios-D87ZUWP6.js";const Be={class:"cursor-pointer text-weight-bold"},xe=V({__name:"UserNavSetting",setup(w){const{screen:u}=U(),{t:d}=q(),l=Y(),c=j(),{signOut:k}=we(),i=J(()=>W.find(m=>m.iso==c.locale));return(m,n)=>(s(),o(N,X(m.$attrs,{clickable:""}),{default:a(()=>[t(r,{avatar:"",top:""},{default:a(()=>[e(l).loginedAvatar?(s(),o($,{key:0,class:"shadow-5",src:e(l).loginedAvatar,size:"36px"},null,8,["src"])):p("",!0)]),_:1}),e(u).gt.xs?(s(),o(r,{key:0},{default:a(()=>[t(C,{lines:"1"},{default:a(()=>[x("span",Be,b(e(l).loginedDisplay),1)]),_:1}),t(C,{caption:"",lines:1},{default:a(()=>n[0]||(n[0]=[_(" Sofware Engineer ")])),_:1})]),_:1})):p("",!0),t(r,{side:""},{default:a(()=>[t(y,{name:e(Z),size:"16px"},null,8,["name"])]),_:1}),t(z,null,{default:a(()=>[t(ee,{style:{"min-width":"260px"}},{default:a(()=>[T((s(),o(N,{clickable:"",to:`/user/${e(l).auth?.id}`},{default:a(()=>[t(r,{avatar:""},{default:a(()=>[e(l).loginedAvatar?(s(),o($,{key:0,src:e(l).loginedAvatar,size:"36px",rounded:""},null,8,["src"])):(s(),o(y,{key:1,name:e(te)},null,8,["name"]))]),_:1}),t(r,null,{default:a(()=>[_(b(e(d)("base.yourProfile")),1)]),_:1})]),_:1},8,["to"])),[[B]]),t(Q),t(N,{clickable:""},{default:a(()=>[t(r,{avatar:""},{default:a(()=>[t(y,{name:e(c).theme=="dark"?e(ae):e(oe)},null,8,["name"])]),_:1}),t(r,null,{default:a(()=>[t(C,{lines:"1"},{default:a(()=>[_(b(e(d)("base.appearance"))+" : "+b(e(d)(`theme.${e(c).theme}`)),1)]),_:1})]),_:1}),t(r,{side:""},{default:a(()=>[t(y,{name:e(O)},null,8,["name"])]),_:1}),t(Se,{toggle:!1,anchor:e(u).gt.xs?"top end":"bottom left",self:"top start"},null,8,["anchor"])]),_:1}),t(N,{clickable:""},{default:a(()=>[t(r,{avatar:""},{default:a(()=>[t(y,{name:e(se)},null,8,["name"])]),_:1}),t(r,null,{default:a(()=>[t(C,{lines:"1"},{default:a(()=>[_(b(e(d)("base.language"))+" : "+b(i.value?i.value.name:""),1)]),_:1})]),_:1}),t(r,{side:""},{default:a(()=>[t(y,{name:e(O)},null,8,["name"])]),_:1}),t(Ce,{anchor:e(u).gt.xs?"top end":"bottom left",self:"top start"},null,8,["anchor"])]),_:1}),t(Q),T((s(),o(N,{clickable:""},{default:a(()=>[t(r,{avatar:""},{default:a(()=>[t(y,{name:e(le)},null,8,["name"])]),_:1}),t(r,null,{default:a(()=>[_(b(e(d)("base.help")),1)]),_:1})]),_:1})),[[B]]),T((s(),o(N,{clickable:"",to:"/settings"},{default:a(()=>[t(r,{avatar:""},{default:a(()=>[t(y,{name:e(ne)},null,8,["name"])]),_:1}),t(r,null,{default:a(()=>[_(b(e(d)("base.setting")),1)]),_:1})]),_:1})),[[B]]),T((s(),o(N,{clickable:"",onClick:e(k)},{default:a(()=>[t(r,{avatar:""},{default:a(()=>[t(y,{name:e(re)},null,8,["name"])]),_:1}),t(r,null,{default:a(()=>[_(b(e(d)("base.logout")),1)]),_:1})]),_:1},8,["onClick"])),[[B]])]),_:1})]),_:1})]),_:1},16))}}),Oe=()=>(Te(),{updateFcmSetting:async i=>{},refreshFcmToken:async i=>{},findAllByUser:async(i,m)=>new Promise(n=>{setTimeout(()=>{n([])},1500)}),findCountAllNotRead:async i=>new Promise(m=>{setTimeout(()=>{m(null)},500)}),updateReadNotify:async i=>new Promise(m=>{setTimeout(()=>{m(null)},500)}),updateReadNotifyAll:async()=>new Promise(i=>{setTimeout(()=>{i(null)},500)})}),Ie=ie("notificationStore",()=>{const{cacheNotifyCount:w}=G(),u=I({lastestId:0,totalNotify:0});return{notify:u,setNotify:c=>{u.value.totalNotify=c.totalNotify,u.value.lastestId=c.lastestId},setLastNotify:c=>{w.value.lastestId=c}}}),Le=()=>{const{findCountAllNotRead:w}=Oe(),{cacheNotifyCount:u}=G(),d=Ie(),{notify:l}=ue(d),{setNotify:c}=d;return F(()=>{l.value.totalNotify=999}),{notify:l,setNotify:c,resetBadgeCount:()=>{l.value.totalNotify=0},notificationLink:(n,h)=>{if(n&&h){if(n=="LIKE_POST"||n=="SHARE"||n=="COMMENT_POST")return`/post/view/${h}`;if(n=="LIKE_COMMENT")return`/comment/view/${h}`;if(n=="COMMENT_REPLY")return`/comment/view/${h}?isReply=1`}},fetchNotReadNotify:async()=>{const n=await w(u.value&&u.value.lastestId?u.value.lastestId:0);n&&n.lastestId&&n.totalNotify&&c(n)}}},Me=["src"],Re={class:"q-mr-sm text-muted"},Qe={class:"q-gutter-md row items-center no-wrap"},qe=V({__name:"BaseHeader",props:{bordered:{type:Boolean,default:!1},reveal:{type:Boolean,default:!1},showTogleDrawer:{type:Boolean,default:!1},frontend:{type:Boolean},showLogo:{type:Boolean,default:!0},hambergerMenu:{type:Boolean},hambergerIcon:{default:()=>de},hambergerIconOff:{default:()=>O},showUserSetting:{type:Boolean,default:!0}},setup(w){const u=P(()=>D(()=>import("./NotificationBarMenu-C4Ozl33U.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))),d=P(()=>D(()=>import("./SearchMenu-D32sImi4.js"),__vite__mapDeps([16,1,2,17,18,19,9,20,21,4,5,6,7,8,10,11,22,23,24,25,14,15]))),l=ce(),{isMobileOrTablet:c}=Ae(),{dark:k,screen:i}=U(),m=I(!1),{appGoto:n}=fe(),{notify:h,resetBadgeCount:H}=Le(),{t:L}=q(),S=I(!1);F(()=>{c().then(f=>{m.value=f})});const M=()=>{S.value=!0},K=f=>{S.value=!1,setTimeout(()=>{n(f)},500)};return(f,g)=>(s(),o(me,{reveal:f.reveal,"height-hint":"58",bordered:f.bordered,class:pe({"app-second-bg-color-theme-dark text-white":e(k).isActive,"bg-white text-black":!e(k).isActive})},{default:a(()=>[t(Ne,{class:"q-py-xs"},{default:a(()=>[f.showTogleDrawer?(s(),o(v,{key:0,dense:"",flat:"",round:"",icon:e(l).expandDrawer?f.hambergerIcon:f.hambergerIconOff?f.hambergerIconOff:f.hambergerIcon,onClick:g[0]||(g[0]=R=>m.value?e(l).setDrawerOpen(!e(l).drawerOpen):e(l).setExpandDrawer(!e(l).expandDrawer))},null,8,["icon"])):p("",!0),f.showLogo?(s(),o(v,{key:1,flat:"","no-caps":"","no-wrap":"",class:"q-mr-xs btn--no-hover",ripple:!1,to:"/"},{default:a(()=>[t(be,{style:{height:"auto",width:"42px"},square:""},{default:a(()=>[x("img",{src:e(k).isActive?"/logo/logo-white.png":"/logo/logo-black.png"},null,8,Me)]),_:1})]),_:1})):p("",!0),e(i).gt.xs?(s(),o(v,{key:2,flat:"",onClick:M,class:"text-capitalize"},{default:a(()=>[x("span",Re,b(e(L)("base.search")+" Vue Quasar"),1),t(y,{name:e(E)},null,8,["name"])]),_:1})):p("",!0),t(_e),x("div",Qe,[e(i).gt.sm?(s(),o(v,{key:0,round:"",dense:"",flat:"",icon:e(ye)},{default:a(()=>[t(A,null,{default:a(()=>g[2]||(g[2]=[_("Create a video or post")])),_:1})]),_:1},8,["icon"])):p("",!0),e(i).gt.sm?(s(),o(v,{key:1,round:"",dense:"",flat:"",icon:e(ge)},{default:a(()=>[t(A,null,{default:a(()=>g[3]||(g[3]=[_("Apps")])),_:1})]),_:1},8,["icon"])):p("",!0),e(i).gt.sm?(s(),o(v,{key:2,round:"",dense:"",flat:"",icon:e(he),to:"/example/chats"},{default:a(()=>[t(A,null,{default:a(()=>g[4]||(g[4]=[_("Messages")])),_:1})]),_:1},8,["icon"])):p("",!0),e(i).gt.xs?p("",!0):(s(),o(v,{key:3,round:"",dense:"",flat:"",onClick:M},{default:a(()=>[t(y,{name:e(E)},null,8,["name"])]),_:1})),t(v,{round:"",dense:"",flat:"",onClick:e(H),icon:e(ve)},{default:a(()=>[e(h)&&e(h).totalNotify?(s(),o(ke,{key:0,color:"negative",rounded:"","text-color":"white",floating:""},{default:a(()=>[_(b(e(h).totalNotify>99?"99+":e(h).totalNotify),1)]),_:1})):p("",!0),t(A,null,{default:a(()=>[_(b(e(L)("nav.notifications")),1)]),_:1}),t(z,{anchor:"bottom left",self:"top left",style:{width:"360px"}},{default:a(()=>[t(e(u))]),_:1})]),_:1},8,["onClick","icon"]),f.showUserSetting?(s(),o(xe,{key:4,style:{"max-width":"225px"}})):p("",!0)])]),_:1}),S.value?(s(),o(e(d),{key:0,modelValue:S.value,"onUpdate:modelValue":g[1]||(g[1]=R=>S.value=R),onOnClick:K},null,8,["modelValue"])):p("",!0)]),_:1},8,["reveal","bordered","class"]))}});export{Oe as U,qe as _};
