const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BaseFileViewDialog-BdChJtSS.js","assets/FileManagerService-D4R4hsPI.js","assets/useAxios-B0sgnEOm.js","assets/index-IHG1WLnI.js","assets/index-Fr33gqm_.css","assets/BasePdfViewDialog.vue_vue_type_script_setup_true_lang-CinNduGI.js","assets/image-view-BEYsKDHn.js","assets/BaseFilesPreviewItem.vue_vue_type_script_setup_true_lang-CQ_7fmXi.js","assets/BaseAvatar-jvzbH_Mz.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/BaseAvatar-BJnla1kf.css","assets/BaseFilesPreviewItemAlt.vue_vue_type_script_setup_true_lang-Dy_6buEh.js","assets/BaseScrollArea.vue_vue_type_script_setup_true_lang-B8aEh4VE.js","assets/useAppMeta-Bs-aXH5k.js","assets/use-meta-CeSu1axa.js","assets/BasePage.vue_vue_type_script_setup_true_lang-Db2YBBsv.js","assets/BaseCard-C9ZBRIyy.js","assets/BaseCard-IC8sCSUl.css","assets/ClosePopup-DyOSBGnb.js","assets/BaseSwiperSlides.vue_vue_type_script_setup_true_lang-DVsOnwvY.js","assets/index-Beq9jWws.js","assets/SkeletonItem.vue_vue_type_script_setup_true_lang-0IBgYadc.js","assets/image-view-HuTgdbxB.css","assets/BaseImageViewDialog-D17Gb4P9.js","assets/BaseImageViewDialog-CWA4uJwq.css"])))=>i.map(i=>d[i]);
import{l as L,N as T,u as D,r as d,c as u,$ as r,n as t,t as M,m as p,a3 as m,ai as h,a_ as I,I as O,x as q,w as k,as as E,J as y,L as R,M as H,bg as J,p as K,q as Q,aC as U,aK as W}from"./index-IHG1WLnI.js";import{_ as j}from"./BaseFilesPreviewItem.vue_vue_type_script_setup_true_lang-CQ_7fmXi.js";import{_ as G}from"./BaseFilesPreviewItemAlt.vue_vue_type_script_setup_true_lang-Dy_6buEh.js";const X={key:0,class:"row"},Y={key:1,class:"row"},Z={class:"col-12 q-py-sm",style:{"overflow-x":"auto"}},te=L({__name:"ChatMessageFile",props:{chatId:{},files:{},sent:{type:Boolean},showImageSlideAll:{type:Boolean,default:!0},miniChat:{type:Boolean},fileTextColor:{}},setup(g){const C=U(()=>W(()=>import("./BaseFileViewDialog-BdChJtSS.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]))),{isSmallScreen:_}=T(),{t:z}=D(),c=d(),w=d([]),x=d(0),n=d(!1),v=u(()=>g.files.filter(e=>e.fileManager)),o=u(()=>g.files.filter(e=>e.fileManager&&e.fileManager.image)),i=u(()=>g.files.filter(e=>e.fileManager&&!e.fileManager.image)),S=u(()=>{const e=o.value.length;return e==1?"col-12 col-md-12":e==2?"col-6 col-md-6":e==3?"col-4 col-md-4":"col-3 col-md-3"}),B=u(()=>v.value.length==1?"250px":v.value.length==2?"125px":"100px"),F=u(()=>i.value.length==1?"550px":i.value.length==2?"125px":"100px"),V=e=>{if(e!=null&&i.value&&v.value.length>0)return v.value[e]},$=e=>{if(e!=null&&i.value&&i.value.length>0)return i.value[e]},b=e=>new Promise(l=>{const a=o.value.findIndex(s=>s.id==e.id);if(a>=0){const s=o.value;for(const f of s)f&&f.fileManager&&w.value.push(f.fileManager);x.value=a}l(!0)}),N=async e=>{n.value=!1,x.value=0,w.value=[];const l=V(e);l&&l.fileManager&&(g.showImageSlideAll&&l.fileManager.image&&await b(l),c.value=l,n.value=!0)},P=async(e,l)=>{n.value=!1;const a=$(e);a&&a.fileManager&&(c.value=a,n.value=!0)};return(e,l)=>(t(),r(h,null,[M("div",K(Q(e.$attrs)),[o.value&&o.value.length>0?(t(),r("div",X,[(t(!0),r(h,null,I(o.value,(a,s)=>(t(),r("div",{key:`chat-message-f-preview-${s}-${a.id}`,class:O(["q-pa-xs",S.value])},[a.fileManager?(t(),p(j,{key:0,class:"rounded",style:{"border-radius":"10px"},item:a.fileManager,index:s,"show-delete":!1,"show-tooltip":"","text-color":e.fileTextColor?e.fileTextColor:e.sent?"text-black":void 0,"use-thumbnail":o.value.length>1,"image-size":B.value,"image-height":F.value,"show-name":!a.fileManager?.image,"show-size":!1,onOnClick:N},null,8,["item","index","text-color","use-thumbnail","image-size","image-height","show-name"])):m("",!0)],2))),128))])):m("",!0),i.value&&i.value.length>0?(t(),r("div",Y,[M("div",Z,[q(J,null,{default:k(()=>[(t(!0),r(h,null,I(i.value,(a,s)=>(t(),r(h,{key:`chat-message-file-preview-${s}-${a.id}`},[a.fileManager?(t(),p(G,{key:0,style:E({maxWidth:y(_)?"230px":"100%"}),item:a.fileManager,index:s,onOnClick:l[0]||(l[0]=(f,A)=>P(f,A)),"show-delete":!1,"icon-size":"2em","image-size":"2em","text-color":e.sent?"text-black":"",clickable:""},{fileName:k(()=>[R(H(a.fileManager.fileName),1)]),_:2},1032,["style","item","index","text-color"])):m("",!0)],64))),128))]),_:1})])])):m("",!0)],16),n.value&&c.value&&c.value.fileManager?(t(),p(y(C),{key:0,item:c.value.fileManager,"image-list":w.value,"select-index":x.value,title:y(z)("chats.chats"),"show-arrow":e.showImageSlideAll,show:n.value,"onUpdate:show":l[1]||(l[1]=a=>n.value=a)},null,8,["item","image-list","select-index","title","show-arrow","show"])):m("",!0)],64))}});export{te as _};
