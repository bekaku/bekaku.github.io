const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NotificationBarMenu-D36g7u8f.js","assets/index-D_to5wmt.js","assets/index-DurpC8Fs.css","assets/ClosePopup-B74q-YkR.js","assets/BaseAvatar-D6UCgu2h.js","assets/FileManagerService-CYEX_33d.js","assets/useAxios-BVW2bjHp.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/BaseAvatar-BJnla1kf.css","assets/useAuth-DS6lQClk.js","assets/BaseLangugeSwitcherButton.vue_vue_type_script_setup_true_lang-BFAV-xk8.js","assets/BaseButton-RINx7LWR.js","assets/BaseButton-CM0Q31Ev.css","assets/SearchMenu-DmmLcnOK.js","assets/BaseDialog.vue_vue_type_script_setup_true_lang-B-1gXN7U.js","assets/QBar-PMjTcIWy.js","assets/Ellipsis-CbAUlcmJ.js","assets/Ellipsis-D-gyw0_d.css","assets/BaseCommandPalette.vue_vue_type_script_setup_true_lang-Ch5nR4Fx.js","assets/BaseCard-BeCehtGl.js","assets/BaseCard-CCIGK2BW.css","assets/BaseInput.vue_vue_type_script_setup_true_lang-BARuhFT1.js","assets/BaseSpinner-BGg13a_n.js","assets/BaseScrollArea.vue_vue_type_script_setup_true_lang-DrSZhysz.js","assets/BaseLabelValueItem.vue_vue_type_script_setup_true_lang-BqRzcale.js","assets/BaseResult.vue_vue_type_script_setup_true_lang-FrnM8Hl_.js"])))=>i.map(i=>d[i]);
import{l as $,c1 as V,u as q,cZ as J,bO as W,H as U,m as s,n as o,ar as v,W as X,w as a,x as t,X as m,as as l,a0 as e,at as C,t as B,a4 as p,a3 as g,au as h,c4 as Y,cO as z,bd as Z,bJ as A,ea as j,bc as R,c$ as ee,c_ as te,d$ as x,d0 as ae,d8 as se,d6 as oe,eb as ne,ec as le,bP as F,r as H,ed as re,o as ie,ee as ue,br as ce,a as de,ef as fe,aq as me,$ as N,aV as pe,bh as L,b8 as _e,eg as he,dq as ye,a2 as M,aA as P,dn as be,bs as ge,aI as D}from"./index-D_to5wmt.js";import{C as T}from"./ClosePopup-B74q-YkR.js";import{B as E}from"./BaseAvatar-D6UCgu2h.js";import{u as ve}from"./useAuth-DS6lQClk.js";import{a as G,b as ke,_ as we}from"./BaseLangugeSwitcherButton.vue_vue_type_script_setup_true_lang-BFAV-xk8.js";import{u as Ne}from"./useAxios-BVW2bjHp.js";const Se={class:"cursor-pointer text-weight-bold"},Ce=$({__name:"UserNavSetting",setup(k){const{screen:c}=V(),{t:i,currenLocale:r}=q(),{isDark:u}=J(),y=W(),{signOut:_}=ve(),{isSmallScreen:d}=U();return(n,b)=>(o(),s(v,X(n.$attrs,{dense:"",clickable:"",class:"rounded"}),{default:a(()=>[t(l,{avatar:"",top:""},{default:a(()=>[e(y).loginedAvatar?(o(),s(E,{key:0,class:"shadow-5",src:e(y).loginedAvatar,size:"36px"},null,8,["src"])):m("",!0)]),_:1}),e(d)?m("",!0):(o(),s(l,{key:0},{default:a(()=>[t(C,{lines:"1"},{default:a(()=>[B("span",Se,p(e(y).loginedDisplay),1)]),_:1}),t(C,{caption:"",lines:1},{default:a(()=>b[0]||(b[0]=[g(" Sofware Engineer ")])),_:1})]),_:1})),e(d)?m("",!0):(o(),s(l,{key:1,side:""},{default:a(()=>[t(h,{name:e(Y),size:"16px"},null,8,["name"])]),_:1})),t(z,null,{default:a(()=>[t(Z,{style:{"min-width":"260px"}},{default:a(()=>[A((o(),s(v,{clickable:"",to:"/example/feed"},{default:a(()=>[t(l,{avatar:""},{default:a(()=>[e(y).loginedAvatar?(o(),s(E,{key:0,src:e(y).loginedAvatar,size:"36px",rounded:""},null,8,["src"])):(o(),s(h,{key:1,name:e(j)},null,8,["name"]))]),_:1}),t(l,null,{default:a(()=>[g(p(e(i)("base.yourProfile")),1)]),_:1})]),_:1})),[[T]]),t(R),t(v,{clickable:""},{default:a(()=>[t(l,{avatar:""},{default:a(()=>[t(h,{name:e(u)?e(ee):e(te)},null,8,["name"])]),_:1}),t(l,null,{default:a(()=>[t(C,{lines:"1"},{default:a(()=>[g(p(e(i)("base.appearance"))+" : "+p(e(u)?e(i)("theme.dark"):e(i)("theme.light")),1)]),_:1})]),_:1}),t(l,{side:""},{default:a(()=>[t(h,{name:e(x)},null,8,["name"])]),_:1}),t(G,{toggle:!1,anchor:e(c).gt.xs?"top end":"bottom left",self:"top start"},null,8,["anchor"])]),_:1}),t(v,{clickable:""},{default:a(()=>[t(l,{avatar:""},{default:a(()=>[t(h,{name:e(ae)},null,8,["name"])]),_:1}),t(l,null,{default:a(()=>[t(C,{lines:"1"},{default:a(()=>[g(p(e(i)("base.language"))+" : "+p(e(r)?e(r).name:""),1)]),_:1})]),_:1}),t(l,{side:""},{default:a(()=>[t(h,{name:e(x)},null,8,["name"])]),_:1}),t(ke,{anchor:e(c).gt.xs?"top end":"bottom left",self:"top start"},null,8,["anchor"])]),_:1}),t(R),A((o(),s(v,{clickable:""},{default:a(()=>[t(l,{avatar:""},{default:a(()=>[t(h,{name:e(se)},null,8,["name"])]),_:1}),t(l,null,{default:a(()=>[g(p(e(i)("base.help")),1)]),_:1})]),_:1})),[[T]]),A((o(),s(v,{clickable:"",to:"/settings"},{default:a(()=>[t(l,{avatar:""},{default:a(()=>[t(h,{name:e(oe)},null,8,["name"])]),_:1}),t(l,null,{default:a(()=>[g(p(e(i)("base.setting")),1)]),_:1})]),_:1})),[[T]]),A((o(),s(v,{clickable:"",onClick:e(_)},{default:a(()=>[t(l,{avatar:""},{default:a(()=>[t(h,{name:e(ne)},null,8,["name"])]),_:1}),t(l,null,{default:a(()=>[g(p(e(i)("base.logout")),1)]),_:1})]),_:1},8,["onClick"])),[[T]])]),_:1})]),_:1})]),_:1},16))}}),Ae=()=>(Ne(),{updateFcmSetting:async _=>{},refreshFcmToken:async _=>{},findAllByUser:async(_,d)=>new Promise(n=>{setTimeout(()=>{n([])},1500)}),findCountAllNotRead:async _=>new Promise(d=>{setTimeout(()=>{d(null)},500)}),updateReadNotify:async _=>new Promise(d=>{setTimeout(()=>{d(null)},500)}),updateReadNotifyAll:async()=>new Promise(_=>{setTimeout(()=>{_(null)},500)})}),Te=le("notificationStore",()=>{const{cacheNotifyCount:k}=F(),c=H({lastestId:0,totalNotify:0});return{notify:c,setNotify:u=>{c.value.totalNotify=u.totalNotify,c.value.lastestId=u.lastestId},setLastNotify:u=>{k.value.lastestId=u}}}),Be=()=>{const{findCountAllNotRead:k}=Ae(),{cacheNotifyCount:c}=F(),i=Te(),{notify:r}=re(i),{setNotify:u}=i;return ie(()=>{r.value.totalNotify=999}),{notify:r,setNotify:u,resetBadgeCount:()=>{r.value.totalNotify=0},notificationLink:(n,b)=>{if(n&&b){if(n=="LIKE_POST"||n=="SHARE"||n=="COMMENT_POST")return`/post/view/${b}`;if(n=="LIKE_COMMENT")return`/comment/view/${b}`;if(n=="COMMENT_REPLY")return`/comment/view/${b}?isReply=1`}},fetchNotReadNotify:async()=>{const n=await k(c.value&&c.value.lastestId?c.value.lastestId:0);n&&n.lastestId&&n.totalNotify&&u(n)}}},xe=["src"],Ie={class:"q-mr-sm text-muted"},Oe={class:"q-gutter-sm row items-center no-wrap"},Ee=$({__name:"BaseHeader",props:{bordered:{type:Boolean,default:!1},reveal:{type:Boolean,default:!1},showTogleDrawer:{type:Boolean,default:!1},frontend:{type:Boolean},showLogo:{type:Boolean,default:!0},hambergerMenu:{type:Boolean},hambergerIcon:{default:()=>ue},hambergerIconOff:{default:()=>x},showUserSetting:{type:Boolean,default:!0}},setup(k){const c=P(()=>D(()=>import("./NotificationBarMenu-D36g7u8f.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]))),i=P(()=>D(()=>import("./SearchMenu-DmmLcnOK.js"),__vite__mapDeps([13,1,2,14,15,16,7,17,18,19,20,21,4,5,6,8,22,23,24,25,11,12]))),r=ce(),{dark:u,screen:y}=V(),{appGoto:_}=de(),{notify:d,resetBadgeCount:n}=Be(),{t:b}=q(),{isSmallScreen:I}=U(),S=H(!1),O=()=>{S.value=!0},K=f=>{S.value=!1,setTimeout(()=>{_(f)},500)};return(f,w)=>(o(),s(fe,{reveal:f.reveal,"height-hint":"58",bordered:f.bordered,class:me({"app-second-bg-color-theme-dark text-white":e(u).isActive,"bg-white text-black":!e(u).isActive})},{default:a(()=>[t(ge,{class:"q-py-xs"},{default:a(()=>[f.showTogleDrawer?(o(),s(N,{key:0,dense:"",flat:"",round:"",icon:e(r).isMobileOrTablet?f.hambergerIconOff:e(r).expandDrawer?f.hambergerIcon:f.hambergerIconOff?f.hambergerIconOff:f.hambergerIcon,onClick:w[0]||(w[0]=Q=>e(r).isMobileOrTablet?e(r).setDrawerOpen(!e(r).drawerOpen):e(r).setExpandDrawer(!e(r).expandDrawer))},null,8,["icon"])):m("",!0),f.showLogo?(o(),s(N,{key:1,flat:"","no-caps":"","no-wrap":"",class:"q-mr-xs btn--no-hover",ripple:!1,to:"/"},{default:a(()=>[t(pe,{style:{height:"auto",width:"42px"},square:""},{default:a(()=>[B("img",{src:e(u).isActive?"/logo/logo-white.png":"/logo/logo-black.png"},null,8,xe)]),_:1})]),_:1})):m("",!0),e(y).gt.xs?(o(),s(N,{key:2,flat:"",onClick:O,class:"text-capitalize"},{default:a(()=>[B("span",Ie,p(e(b)("base.search")+" Vue Quasar"),1),t(h,{name:e(L)},null,8,["name"])]),_:1})):m("",!0),t(_e),B("div",Oe,[e(y).gt.xs?m("",!0):(o(),s(N,{key:0,round:"",dense:"",flat:"",onClick:O},{default:a(()=>[t(h,{name:e(L)},null,8,["name"])]),_:1})),t(N,{round:"",dense:"",flat:"",onClick:e(n),icon:e(he)},{default:a(()=>[e(d)&&e(d).totalNotify?(o(),s(ye,{key:0,color:"negative",rounded:"","text-color":"white",floating:""},{default:a(()=>[g(p(e(d).totalNotify>99?"99+":e(d).totalNotify),1)]),_:1})):m("",!0),t(M,null,{default:a(()=>[g(p(e(b)("nav.notifications")),1)]),_:1}),t(z,{anchor:"bottom left",self:"top left",style:{width:"360px"}},{default:a(()=>[t(e(c))]),_:1})]),_:1},8,["onClick","icon"]),t(N,{round:"",dense:"",flat:"",icon:e(be),to:"/example/chats"},{default:a(()=>[t(M,null,{default:a(()=>w[2]||(w[2]=[g("Messages")])),_:1})]),_:1},8,["icon"]),e(I)?m("",!0):(o(),s(we,{key:1})),e(I)?m("",!0):(o(),s(G,{key:2,toggle:""})),f.showUserSetting?(o(),s(Ce,{key:3,style:{"max-width":"225px"}})):m("",!0)])]),_:1}),S.value?(o(),s(e(i),{key:0,modelValue:S.value,"onUpdate:modelValue":w[1]||(w[1]=Q=>S.value=Q),onOnClick:K},null,8,["modelValue"])):m("",!0)]),_:1},8,["reveal","bordered","class"]))}});export{Ae as U,Ee as _};
