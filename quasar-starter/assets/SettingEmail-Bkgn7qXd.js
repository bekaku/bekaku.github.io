import{l as g,u as y,bO as S,r as m,o as V,c,ac as w,m as x,n as E,w as n,t as u,x as t,X as Q,a5 as e,aI as C,aC as B,aH as q,a4 as A,ay as I,cR as U,aA as k}from"./index-B0AWSN6j.js";import{U as L}from"./UserService-C6AK22NG.js";import{u as N}from"./useValidation-DWfX4M5f.js";import"./useAxios-QaQiPCgS.js";const O={class:"text-h6"},D={class:"row"},F={class:"col-12 col-md-6 q-pa-md"},W=g({__name:"SettingEmail",setup(H){const{t:s}=y(),l=S(),{updateEmail:d}=L(),{required:p,requireEmail:v}=N(),a=m({email:""}),i=m(!1);V(()=>{l.auth&&l.auth.email&&(a.value.email=l.auth.email)});const b=c(()=>a.value.email&&f.value),f=c(()=>a.value.email?w(a.value.email):!1),_=async()=>{i.value=!0;const o=await d(a.value);i.value=!1,o&&o.status=="OK"&&l.auth&&(l.auth.email=a.value.email)};return(o,r)=>(E(),x(k,null,{default:n(()=>[u("div",O,Q(e(s)("base.emailEdit")),1),t(C,{onSubmit:_},{default:n(()=>[u("div",D,[u("div",F,[t(B,{outlined:"",modelValue:a.value.email,"onUpdate:modelValue":r[0]||(r[0]=h=>a.value.email=h),label:e(s)("base.emailEdit"),rules:[e(p),e(v)],type:"email"},null,8,["modelValue","label","rules"])])]),t(q,{align:"right"},{default:n(()=>[t(A,{disable:!b.value,unelevated:"",color:"primary",icon:e(I),label:e(s)("base.edit"),type:"submit"},null,8,["disable","icon","label"])]),_:1})]),_:1}),t(U,{showing:i.value,label:e(s)("base.pleaseWait"),"label-class":"text-primary"},null,8,["showing","label"])]),_:1}))}});export{W as default};
