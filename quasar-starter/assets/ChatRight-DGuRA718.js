const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ChatGroupFiles-Dj-CUapo.js","assets/BaseScrollArea.vue_vue_type_script_setup_true_lang-DBePkZCY.js","assets/index-5wxfv7l2.js","assets/index-DIecWLXX.css","assets/BaseButton-DzqSnquD.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/BaseButton-Bu_msi5i.css","assets/BaseResult.vue_vue_type_script_setup_true_lang-UrqPJtcm.js","assets/BaseSpinner.vue_vue_type_script_setup_true_lang-DPN5ro-a.js","assets/ChatMessageFile.vue_vue_type_script_setup_true_lang-Bv0cGrN_.js","assets/BaseFilesPreviewItem.vue_vue_type_script_setup_true_lang-BWZeBsZ8.js","assets/BaseAvatar-DmaVsg_V.js","assets/FileManagerService-DYF_leBx.js","assets/useAxios-BgEH28Tb.js","assets/BaseAvatar-Cm73YMod.css","assets/BaseFilesPreviewItemAlt.vue_vue_type_script_setup_true_lang-B6MgKsRE.js"])))=>i.map(i=>d[i]);
import{l as T,u as S,H as P,r as g,m as c,n as u,w as l,x as a,J as t,aG as Q,aO as G,am as V,bN as z,an as R,c as U,T as w,a1 as W,az as q,aF as x,t as I,L as n,M as i,af as f,dP as j,dQ as X,Q as y,dR as H,dp as J,dS as Y,dq as Z,dz as K,bg as ee,R as ae,Z as A,Y as p,U as O,dT as F,W as le,X as te,cI as oe,O as se}from"./index-5wxfv7l2.js";import{B as ie}from"./BaseAvatar-DmaVsg_V.js";import{B as L}from"./BaseButton-DzqSnquD.js";import{B as ne}from"./BaseCard-C4QYBecT.js";import{_ as ue}from"./BaseLink.vue_vue_type_script_setup_true_lang-BE2TiBm3.js";import{_ as re}from"./BaseScrollArea.vue_vue_type_script_setup_true_lang-DBePkZCY.js";import{_ as de}from"./chatStore-Der-3A6y.js";import{B as me}from"./BaseTabs-DidWpM-L.js";import"./FileManagerService-DYF_leBx.js";import"./useAxios-BgEH28Tb.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ce=T({__name:"ChatGroupFilesTabs",props:{groupChat:{},canOpenDialog:{type:Boolean,default:!0},showLoadmore:{type:Boolean,default:!1},height:{default:"350px"},showImageSlideAll:{type:Boolean,default:!0}},emits:["on-open-dialog"],setup(h,{emit:C}){const s=Q(()=>G(()=>import("./ChatGroupFiles-Dj-CUapo.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))),D=C,{t:r}=S();P();const e=g("MEDIA"),B=g([{label:r("chats.media"),value:"MEDIA"},{label:r("chats.files"),value:"FILE"}]),v=o=>{D("on-open-dialog",o)};return(o,_)=>(u(),c(me,{modelValue:e.value,"onUpdate:modelValue":_[0]||(_[0]=k=>e.value=k),items:B.value,"use-tab-panels":"",animated:!1,class:"q-ml-xs"},{MEDIA:l(()=>[a(t(s),{"file-type":"IMAGE",onOnOpenDialog:v,"can-open-dialog":o.canOpenDialog,"show-loadmore":o.showLoadmore,height:o.height,"show-image-slide-all":o.showImageSlideAll,"group-chat":o.groupChat},null,8,["can-open-dialog","show-loadmore","height","show-image-slide-all","group-chat"])]),FILE:l(()=>[a(t(s),{"file-type":"FILE",onOnOpenDialog:v,"can-open-dialog":o.canOpenDialog,"show-loadmore":o.showLoadmore,height:o.height,"show-image-slide-all":o.showImageSlideAll,"group-chat":o.groupChat},null,8,["can-open-dialog","show-loadmore","height","show-image-slide-all","group-chat"])]),_:1},8,["modelValue","items"]))}}),fe={class:"text-subtitle1 text-weight-bold q-pt-sm long-text-break"},pe={class:"text-caption text-muted"},ge={class:"row justify-center"},De=T({__name:"ChatRight",props:V({showClose:{type:Boolean,default:!1},chatWith:{}},{modelValue:{},modelModifiers:{}}),emits:V(["toggle-mute","toggle-pin","toggle-fav","on-close"],["update:modelValue"]),setup(h,{emit:C}){const{t:s}=S(),{dark:D}=z(),r=C,e=R(h,"modelValue"),B=g(!1),v=g(!1),o=g("IMAGE"),_=U(()=>h.chatWith?`/user/${h.chatWith.id}`:"#"),k=()=>{!e.value||!e.value.id||r("toggle-mute",e.value.id)},$=()=>{!e.value||!e.value.id||r("toggle-pin",e.value.id)},E=()=>{!e.value||!e.value.id||r("toggle-fav",e.value.id)},M=d=>{o.value=d,v.value=!0};return(d,b)=>e.value?(u(),c(ne,se({key:0},d.$attrs,{flat:"",bordered:!1}),{default:l(()=>[d.showClose?(u(),c(L,{key:0,flat:"",round:"",icon:t(W),onClick:b[0]||(b[0]=m=>d.$emit("on-close"))},null,8,["icon"])):w("",!0),a(re,{height:"85vh",style:q(d.showClose?"width: 350px":"")},{default:l(()=>[a(x,{class:"text-center"},{default:l(()=>[a(de,{item:e.value,rounded:"","avatar-size":"75px","show-pin":!1},null,8,["item"]),I("div",fe,[a(ue,{to:_.value},{default:l(()=>[n(i(e.value.groupName),1)]),_:1},8,["to"])]),I("div",pe,i(e.value.chatType=="PERSONAL"?"Software engineer":"Group"),1),I("div",ge,[a(f,{flat:"",round:"",icon:e.value.pin?t(X):t(j),size:"sm",onClick:$,color:e.value.pin?"primary":void 0},{default:l(()=>[a(y,null,{default:l(()=>[n(i(e.value.pin?t(s)("chats.unpin"):t(s)("chats.pin")),1)]),_:1})]),_:1},8,["icon","color"]),a(f,{flat:"",round:"",icon:e.value.favorite?t(J):t(H),size:"sm",onClick:E,color:e.value.favorite?"amber-5":void 0},{default:l(()=>[a(y,null,{default:l(()=>[n(i(e.value.favorite?t(s)("chats.unfavorite"):t(s)("chats.favorite")),1)]),_:1})]),_:1},8,["icon","color"]),a(f,{flat:"",round:"",icon:e.value.muteNotify?t(Z):t(Y),size:"sm",onClick:k,color:e.value.muteNotify?"negative":void 0},{default:l(()=>[a(y,null,{default:l(()=>[n(i(e.value.muteNotify?t(s)("chats.unmuteNotify"):t(s)("chats.muteNotify")),1)]),_:1})]),_:1},8,["icon","color"]),e.value.chatType=="GROUP"?(u(),c(f,{key:0,flat:"",round:"",icon:t(K),size:"sm",onClick:b[1]||(b[1]=m=>B.value=!0)},{default:l(()=>[a(y,null,{default:l(()=>[n(i(t(s)("chats.groupSettings")),1)]),_:1})]),_:1},8,["icon"])):w("",!0)])]),_:1}),e.value.chatType=="GROUP"?(u(),c(ee,{key:0,dense:""},{default:l(()=>[a(A,null,{default:l(()=>[a(p,null,{default:l(()=>[a(O,null,{default:l(()=>[n(i(`${t(s)("chats.members")}(${t(F).length})`),1)]),_:1})]),_:1}),a(p,{side:""},{default:l(()=>[a(L,{flat:"",label:t(s)("base.viewAll")},null,8,["label"])]),_:1})]),_:1}),(u(!0),ae(le,null,te(t(F).slice(0,5),(m,N)=>(u(),c(A,{key:`index-${N}-${m.id}`,clickable:""},{default:l(()=>[a(p,{avatar:""},{default:l(()=>[a(ie,{src:m.avatar?.thumbnail||"/images/ninja.png"},null,8,["src"])]),_:2},1024),a(p,null,{default:l(()=>[a(O,null,{default:l(()=>[n(i(m.username),1)]),_:2},1024),a(O,{caption:""},{default:l(()=>[n(i(m.email),1)]),_:2},1024)]),_:2},1024),a(p,{side:""},{default:l(()=>[a(f,{flat:"",round:"",icon:t(oe)},null,8,["icon"])]),_:1})]),_:2},1024))),128))]),_:1})):w("",!0),a(ce,{"group-chat":e.value,onOnOpenDialog:M},null,8,["group-chat"])]),_:1},8,["style"])]),_:1},16)):w("",!0)}});export{De as default};
