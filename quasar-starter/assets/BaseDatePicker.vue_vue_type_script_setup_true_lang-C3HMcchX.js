import{l as W,ad as w,ae as c,r as y,u as j,c as E,m as f,n as s,b_ as A,a5 as r,w as u,t as P,b7 as U,x as p,a4 as T,a as X,b$ as I,Y as z,c0 as G,X as M,V as b,a0 as B,c1 as Q,ah as C,v as q,c2 as H,c3 as J,av as K,W as Y,c4 as L,c5 as Z}from"./index-BUKV_9O1.js";import{C as N}from"./ClosePopup-DPKYBDjj.js";const x={class:"row items-center justify-end"},_={class:"row items-center justify-end"},O=W({__name:"BaseDate",props:w({autoClose:{type:Boolean,default:!0},label:{},minDate:{},maxDate:{},dateList:{default:()=>[]},color:{},range:{type:Boolean,default:!1},title:{},subtitle:{}},{modelValue:{default:null},modelModifiers:{},start:{default:null},startModifiers:{},end:{default:null},endModifiers:{}}),emits:w(["on-update","on-update-range","on-close"],["update:modelValue","update:start","update:end"]),setup(t,{emit:$}){const n=c(t,"modelValue"),l=c(t,"start"),o=c(t,"end"),D=y({from:l.value,to:o.value}),g=y(null),m=$,k=t.dateList?.map(a=>a.replaceAll("-","/")),{t:i,locale:S}=j(),V=E(()=>S.value?{days:i("date.days").split("_"),daysShort:i("date.dayShorts").split("_"),months:i("date.months").split("_"),monthsShort:i("date.monthShorts").split("_"),firstDayOfWeek:1}:void 0),h=a=>t.minDate&&t.maxDate?a>=t.minDate.replaceAll("-","/")&&a<=t.maxDate.replaceAll("-","/"):t.minDate?a>=t.minDate.replaceAll("-","/"):t.maxDate?a<=t.maxDate.replaceAll("-","/"):!0,F=a=>{g.value&&t.autoClose&&g.value.hide(),m("on-update",a)},v=a=>{a&&(l.value=a?.from?a.from:null,o.value=a?.to?a.to:null),m("on-update-range",a)},e=()=>{m("on-close")};return(a,d)=>a.range?(s(),f(A,{key:1,modelValue:D.value,"onUpdate:modelValue":[d[1]||(d[1]=R=>D.value=R),v],range:"",title:a.title,subtitle:a.subtitle,mask:"YYYY-MM-DD",color:a.color,"today-btn":"","first-day-of-week":0,locale:V.value,options:a.dateList.length>0?r(k):h},{default:u(()=>[P("div",_,[U(p(T,{label:r(i)("base.close"),color:a.color,flat:"",onClick:e},null,8,["label","color"]),[[N]])])]),_:1},8,["modelValue","title","subtitle","color","locale","options"])):(s(),f(A,{key:0,modelValue:n.value,"onUpdate:modelValue":[d[0]||(d[0]=R=>n.value=R),F],title:a.title,subtitle:a.subtitle,mask:"YYYY-MM-DD",color:a.color,"today-btn":"","first-day-of-week":0,locale:V.value,options:a.dateList.length>0?r(k):h},{default:u(()=>[P("div",x,[U(p(T,{label:r(i)("base.close"),color:a.color,flat:"",onClick:e},null,8,["label","color"]),[[N]])])]),_:1},8,["modelValue","title","subtitle","color","locale","options"]))}}),ee={key:0,class:"text-negative"},ae={class:"self-center full-width no-outline",tabindex:"0"},te={class:"text-negative"},se=W({__name:"BaseDatePicker",props:w({autoClose:{type:Boolean,default:!0},label:{},minDate:{},maxDate:{},dateList:{default:()=>[]},dense:{type:Boolean,default:!0},disable:{type:Boolean,default:!1},required:{type:Boolean,default:!1},color:{},editMode:{type:Boolean,default:!0},range:{type:Boolean,default:!1},showFormatDate:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},formatDateText:{default:()=>Z},title:{},subtitle:{}},{modelValue:{default:null},modelModifiers:{},start:{default:null},startModifiers:{},end:{default:null},endModifiers:{}}),emits:w(["on-update","on-update-range"],["update:modelValue","update:start","update:end"]),setup(t,{emit:$}){const n=c(t,"modelValue"),l=c(t,"start"),o=c(t,"end"),D=y({from:l.value,to:o.value}),{appFormatDate:g}=X(),m=y(null),k=y(null),i=$,{t:S}=j(),V=()=>{n.value="",l.value="",o.value="",D.value=null},h=e=>{m.value&&t.autoClose&&m.value.hide(),i("on-update",e)},F=e=>{i("on-update-range",e)},v=e=>{if(e)return g(e,t.formatDateText)};return(e,a)=>(s(),f(I,z(e.$attrs,{outlined:e.editMode,borderless:!e.editMode,"bottom-slots":"",label:e.label,"stack-label":"",dense:e.dense,disable:e.disable,class:"cursor-pointer"}),G({label:u(()=>[q(e.$slots,"label",{},()=>[Y(M(e.label)+" ",1),e.required?(s(),b("span",ee,"*")):B("",!0)])]),control:u(()=>[P("div",ae,[e.showFormatDate?(s(),b(C,{key:1},[Y(M(e.range?`${l.value?v(l.value):""} - ${o.value?v(o.value):""}`:v(n.value)),1)],64)):(s(),b(C,{key:0},[Y(M(e.range?`${l.value?r(L)(l.value):""}-${o.value?r(L)(o.value):""}`:r(L)(n.value)),1)],64))])]),prepend:u(()=>[p(K,{name:r(J),color:e.color},null,8,["name","color"])]),after:u(()=>[q(e.$slots,"after",{},()=>[e.clearable&&(n.value||l.value&&o.value)&&e.editMode?(s(),f(T,{key:0,flat:"",round:"",icon:r(H),onClick:V},null,8,["icon"])):B("",!0)])]),default:u(()=>[e.range?(s(),b(C,{key:1},[e.editMode?(s(),f(Q,{key:0,ref_key:"dateRangeProxy",ref:k,"transition-show":"scale","transition-hide":"scale"},{default:u(()=>[p(O,{start:l.value,"onUpdate:start":a[1]||(a[1]=d=>l.value=d),end:o.value,"onUpdate:end":a[2]||(a[2]=d=>o.value=d),title:e.title,subtitle:e.subtitle,range:"",color:e.color,onOnUpdateRange:F},null,8,["start","end","title","subtitle","color"])]),_:1},512)):B("",!0)],64)):(s(),b(C,{key:0},[e.editMode?(s(),f(Q,{key:0,ref_key:"dateProxy",ref:m,"transition-show":"scale","transition-hide":"scale"},{default:u(()=>[p(O,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=d=>n.value=d),title:e.title,subtitle:e.subtitle,"min-date":e.minDate,"max-date":e.maxDate,"date-list":e.dateList,color:e.color,onOnUpdate:h},null,8,["modelValue","title","subtitle","min-date","max-date","date-list","color"])]),_:1},512)):B("",!0)],64))]),_:2},[e.required&&!n.value&&e.editMode&&!e.disable?{name:"hint",fn:u(()=>[P("span",te,M(r(S)("error.validateRequireChoose")),1)]),key:"0"}:void 0]),1040,["outlined","borderless","label","dense","disable"]))}});export{se as _,O as a};
