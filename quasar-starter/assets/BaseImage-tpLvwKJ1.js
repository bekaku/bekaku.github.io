import{d as v,k as t,b5 as y,au as B,b6 as C,c as n,o as i,aC as c,L as f,w as d,a as g,e as p,cC as b,r as w,W as I,T as k,cR as z,a8 as L}from"./index-DLAlP7tE.js";import{F as $}from"./FileManagerService-CKlyxv3G.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const H={class:"absolute-full flex flex-center"},N={class:"absolute-full flex flex-center bg-primary text-white"},Q=v({__name:"BaseImage",props:{src:{},fetch:{type:Boolean,default:!1},imageBg:{type:Boolean,default:!1},placHolder:{},spinnerColor:{default:"white"},alt:{default:"img"},ratio:{default:()=>4/3},fit:{default:"cover"}},setup(o){const{fethCdnData:h}=$(),r=t(!0),a=t(),s=t(!1);y(async()=>{await u()}),B(()=>{s.value&&u()});const u=async()=>{if(!o.src){r.value=!1;return}o.fetch?h(o.src).then(e=>{l(),e&&(a.value=e)}).catch(()=>{l()}):(a.value=o.src,l())},l=()=>{r.value=!1,s.value||(s.value=!0)};return C(()=>{a.value=void 0}),(e,m)=>r.value?(i(),n(c,f({key:0,"spinner-color":e.spinnerColor,"placeholder-src":e.placHolder,ratio:e.ratio},e.$attrs,{loading:"lazy"}),{default:d(()=>[g("div",H,[p(b,{showing:"",color:"white",size:"xs"})])]),_:1},16,["spinner-color","placeholder-src","ratio"])):a.value?(i(),n(c,f({key:1,src:a.value,fit:e.fit,"placeholder-src":e.placHolder,"spinner-color":e.spinnerColor,ratio:e.ratio},e.$attrs,{loading:"lazy",class:{"img-bg":e.imageBg},alt:e.alt}),{error:d(()=>[g("div",N,[p(L,{name:k(z),class:"q-mr-sm",size:"md"},null,8,["name"]),m[0]||(m[0]=I(" Cannot load image "))])]),default:d(()=>[w(e.$slots,"default",{},void 0,!0)]),_:3},16,["src","fit","placeholder-src","spinner-color","ratio","class","alt"])):(i(),n(c,f({key:2,ratio:e.ratio},e.$attrs,{loading:"lazy",src:"/images/no_picture_thumb.jpg"}),null,16,["ratio"]))}}),T=F(Q,[["__scopeId","data-v-73fdc940"]]);export{T as B};
