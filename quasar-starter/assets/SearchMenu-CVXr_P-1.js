import{l as M,am as _,bt as k,u as x,an as B,r,o as C,cJ as L,m as I,n as y,w as c,x as f,J as S,a1 as $}from"./index--rRessbS.js";import{_ as A}from"./BaseDialog.vue_vue_type_script_setup_true_lang-Hr3ij2Of.js";import{_ as J}from"./BaseCommandPalette.vue_vue_type_script_setup_true_lang-D5hZZ1z1.js";import{B as P}from"./BaseButton-BdMngQoy.js";import"./QBar-BE9uMyvF.js";import"./BaseEllipsis-Hl1Z34VA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./BaseCard-B88I9Z5e.js";import"./BaseInput.vue_vue_type_script_setup_true_lang-cH5r5hVs.js";import"./BaseAvatar-DBU721Eb.js";import"./FileManagerService-CXiPGXBm.js";import"./useAxios-BBYX69-N.js";import"./BaseSpinner.vue_vue_type_script_setup_true_lang-CypVMFNX.js";import"./BaseScrollArea.vue_vue_type_script_setup_true_lang-DygCZjl9.js";import"./BaseLabelValueItem.vue_vue_type_script_setup_true_lang-CwWrHeVE.js";import"./BaseResult.vue_vue_type_script_setup_true_lang-D7aZpwSp.js";const W=M({__name:"SearchMenu",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:_(["on-click"],["update:modelValue"]),setup(b,{emit:v}){const{drawers:h}=k(),{t:n}=x(),s=B(b,"modelValue"),m=r(),d=r(!0),i=r([]),V=v;C(async()=>{await g(),d.value=!1});const g=()=>{const t=h.concat(L);return new Promise(l=>{for(const a of t)if(a.children!=null&&a.children.length>0)for(const e of a.children)if(e.children!=null&&e.children.length>0){const u={...e,label:e.label&&e.translateLabel!==!1?n(e.label):e.label||"",children:[]},p=[];for(const o of e.children)p.push({...o,label:o.label&&o.translateLabel!==!1?n(o.label):o.label||"",value:o.to});u.children=p,i.value.push(u)}else i.value.push({...e,label:e.label&&e.translateLabel!==!1?n(e.label):e.label||"",value:e.to});l(!0)})},w=t=>{t!=null&&V("on-click",t)};return(t,l)=>(y(),I(A,{modelValue:s.value,"onUpdate:modelValue":l[2]||(l[2]=a=>s.value=a),"show-toolbar":!1,padding:!1,"dialog-style":"width: 756px; max-width: 80vw;"},{default:c(()=>[f(J,{modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=a=>m.value=a),loading:d.value,bordered:!1,class:"q-pt-sm",multiple:!1,items:i.value,onOnClick:w},{inputAppend:c(()=>[f(P,{round:"",flat:"",icon:S($),onClick:l[0]||(l[0]=a=>s.value=!1)},null,8,["icon"])]),_:1},8,["modelValue","loading","items"])]),_:1},8,["modelValue"]))}});export{W as default};
