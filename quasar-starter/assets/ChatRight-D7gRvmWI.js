const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ChatGroupFiles-BhD7T12K.js","assets/BaseScrollArea.vue_vue_type_script_setup_true_lang-dfnFduQu.js","assets/index-CPWGwitb.js","assets/index-BgtrcqL_.css","assets/BaseButton-DENZZgD6.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/BaseButton-XQUT7Fs7.css","assets/BaseResult.vue_vue_type_script_setup_true_lang-B_eDK7NF.js","assets/BaseSpinner.vue_vue_type_script_setup_true_lang-RV4ipJ8D.js","assets/ChatMessageFile.vue_vue_type_script_setup_true_lang-Ckk5dnul.js","assets/BaseFilesPreviewItem.vue_vue_type_script_setup_true_lang-CLGllsp3.js","assets/BaseAvatar-DZIJSCVa.js","assets/FileManagerService-pqu110kJ.js","assets/useAxios-NU667v5x.js","assets/BaseAvatar-DIqnQNII.css","assets/BaseFilesPreviewItemAlt.vue_vue_type_script_setup_true_lang-C0QPSrdG.js"])))=>i.map(i=>d[i]);
import{l as T,u as $,H as P,r as g,m as c,n as u,w as l,x as a,J as t,aG as G,aO as Q,am as F,bT as z,an as R,c as U,T as w,a1 as W,az as x,aF as j,t as O,L as n,M as i,af as f,dY as q,dZ as X,Q as y,d_ as Y,dv as Z,d$ as H,dw as J,dF as K,bg as ee,R as ae,Z as V,Y as p,U as I,d6 as A,W as le,X as te,cK as oe,O as se}from"./index-CPWGwitb.js";import{B as ie}from"./BaseAvatar-DZIJSCVa.js";import{B as L}from"./BaseButton-DENZZgD6.js";import{B as ne}from"./BaseCard-Cq6rApTk.js";import{_ as ue}from"./BaseLink.vue_vue_type_script_setup_true_lang-BwN1kfos.js";import{_ as re}from"./BaseScrollArea.vue_vue_type_script_setup_true_lang-dfnFduQu.js";import{_ as de}from"./chatStore-Dyps14Br.js";import{B as me}from"./BaseTabs-Bx_OFBGw.js";import"./FileManagerService-pqu110kJ.js";import"./useAxios-NU667v5x.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ce=T({__name:"ChatGroupFilesTabs",props:{groupChat:{},canOpenDialog:{type:Boolean,default:!0},showLoadmore:{type:Boolean,default:!1},height:{default:"350px"},showImageSlideAll:{type:Boolean,default:!0}},emits:["on-open-dialog"],setup(h,{emit:C}){const s=G(()=>Q(()=>import("./ChatGroupFiles-BhD7T12K.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))),D=C,{t:r}=$();P();const e=g("MEDIA"),B=g([{label:r("chats.media"),value:"MEDIA"},{label:r("chats.files"),value:"FILE"}]),v=o=>{D("on-open-dialog",o)};return(o,_)=>(u(),c(me,{modelValue:e.value,"onUpdate:modelValue":_[0]||(_[0]=k=>e.value=k),items:B.value,"use-tab-panels":"",animated:!1,class:"q-ml-xs"},{MEDIA:l(()=>[a(t(s),{"file-type":"IMAGE",onOnOpenDialog:v,"can-open-dialog":o.canOpenDialog,"show-loadmore":o.showLoadmore,height:o.height,"show-image-slide-all":o.showImageSlideAll,"group-chat":o.groupChat},null,8,["can-open-dialog","show-loadmore","height","show-image-slide-all","group-chat"])]),FILE:l(()=>[a(t(s),{"file-type":"FILE",onOnOpenDialog:v,"can-open-dialog":o.canOpenDialog,"show-loadmore":o.showLoadmore,height:o.height,"show-image-slide-all":o.showImageSlideAll,"group-chat":o.groupChat},null,8,["can-open-dialog","show-loadmore","height","show-image-slide-all","group-chat"])]),_:1},8,["modelValue","items"]))}}),fe={class:"text-subtitle1 text-weight-bold q-pt-sm long-text-break"},pe={class:"text-caption text-muted"},ge={class:"row justify-center"},De=T({__name:"ChatRight",props:F({showClose:{type:Boolean,default:!1},chatWith:{}},{modelValue:{},modelModifiers:{}}),emits:F(["toggle-mute","toggle-pin","toggle-fav","on-close"],["update:modelValue"]),setup(h,{emit:C}){const{t:s}=$(),{dark:D}=z(),r=C,e=R(h,"modelValue"),B=g(!1),v=g(!1),o=g("IMAGE"),_=U(()=>h.chatWith?`/user/${h.chatWith.id}`:"#"),k=()=>{!e.value||!e.value.id||r("toggle-mute",e.value.id)},E=()=>{!e.value||!e.value.id||r("toggle-pin",e.value.id)},M=()=>{!e.value||!e.value.id||r("toggle-fav",e.value.id)},S=d=>{o.value=d,v.value=!0};return(d,b)=>e.value?(u(),c(ne,se({key:0},d.$attrs,{flat:"",bordered:!1}),{default:l(()=>[d.showClose?(u(),c(L,{key:0,flat:"",round:"",icon:t(W),onClick:b[0]||(b[0]=m=>d.$emit("on-close"))},null,8,["icon"])):w("",!0),a(re,{height:"85vh",style:x(d.showClose?"width: 350px":"")},{default:l(()=>[a(j,{class:"text-center"},{default:l(()=>[a(de,{item:e.value,rounded:"","avatar-size":"75px","show-pin":!1},null,8,["item"]),O("div",fe,[a(ue,{to:_.value},{default:l(()=>[n(i(e.value.groupName),1)]),_:1},8,["to"])]),O("div",pe,i(e.value.chatType=="PERSONAL"?"Software engineer":"Group"),1),O("div",ge,[a(f,{flat:"",round:"",icon:e.value.pin?t(X):t(q),size:"sm",onClick:E,color:e.value.pin?"primary":void 0},{default:l(()=>[a(y,null,{default:l(()=>[n(i(e.value.pin?t(s)("chats.unpin"):t(s)("chats.pin")),1)]),_:1})]),_:1},8,["icon","color"]),a(f,{flat:"",round:"",icon:e.value.favorite?t(Z):t(Y),size:"sm",onClick:M,color:e.value.favorite?"amber-5":void 0},{default:l(()=>[a(y,null,{default:l(()=>[n(i(e.value.favorite?t(s)("chats.unfavorite"):t(s)("chats.favorite")),1)]),_:1})]),_:1},8,["icon","color"]),a(f,{flat:"",round:"",icon:e.value.muteNotify?t(J):t(H),size:"sm",onClick:k,color:e.value.muteNotify?"negative":void 0},{default:l(()=>[a(y,null,{default:l(()=>[n(i(e.value.muteNotify?t(s)("chats.unmuteNotify"):t(s)("chats.muteNotify")),1)]),_:1})]),_:1},8,["icon","color"]),e.value.chatType=="GROUP"?(u(),c(f,{key:0,flat:"",round:"",icon:t(K),size:"sm",onClick:b[1]||(b[1]=m=>B.value=!0)},{default:l(()=>[a(y,null,{default:l(()=>[n(i(t(s)("chats.groupSettings")),1)]),_:1})]),_:1},8,["icon"])):w("",!0)])]),_:1}),e.value.chatType=="GROUP"?(u(),c(ee,{key:0,dense:""},{default:l(()=>[a(V,null,{default:l(()=>[a(p,null,{default:l(()=>[a(I,null,{default:l(()=>[n(i(`${t(s)("chats.members")}(${t(A).length})`),1)]),_:1})]),_:1}),a(p,{side:""},{default:l(()=>[a(L,{flat:"",label:t(s)("base.viewAll")},null,8,["label"])]),_:1})]),_:1}),(u(!0),ae(le,null,te(t(A).slice(0,5),(m,N)=>(u(),c(V,{key:`index-${N}-${m.id}`,clickable:""},{default:l(()=>[a(p,{avatar:""},{default:l(()=>[a(ie,{src:m.avatar?.thumbnail||"/images/ninja.png"},null,8,["src"])]),_:2},1024),a(p,null,{default:l(()=>[a(I,null,{default:l(()=>[n(i(m.username),1)]),_:2},1024),a(I,{caption:""},{default:l(()=>[n(i(m.email),1)]),_:2},1024)]),_:2},1024),a(p,{side:""},{default:l(()=>[a(f,{flat:"",round:"",icon:t(oe)},null,8,["icon"])]),_:1})]),_:2},1024))),128))]),_:1})):w("",!0),a(ce,{"group-chat":e.value,onOnOpenDialog:S},null,8,["group-chat"])]),_:1},8,["style"])]),_:1},16)):w("",!0)}});export{De as default};
