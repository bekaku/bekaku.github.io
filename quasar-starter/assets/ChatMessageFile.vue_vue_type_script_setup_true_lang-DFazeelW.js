const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BaseFileViewDialog-BRceieVA.js","assets/FileManagerService-BV_Dzq56.js","assets/useAxios-QRQbEkIG.js","assets/index-D_pQv8pS.js","assets/index-ZrKcW1Mk.css","assets/BasePdfViewDialog.vue_vue_type_script_setup_true_lang-Ct3W2zY4.js","assets/image-view-D_h22i-f.js","assets/BaseFilesPreviewItem.vue_vue_type_script_setup_true_lang-G2SYBqFp.js","assets/BaseAvatar-BF28hcaK.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/BaseAvatar-Cm73YMod.css","assets/BaseFilesPreviewItemAlt.vue_vue_type_script_setup_true_lang-Dp_R_uDQ.js","assets/BaseScrollArea.vue_vue_type_script_setup_true_lang-BXg_Y2-y.js","assets/useAppMeta-DJRwSYxv.js","assets/use-meta-Dcq-KTPt.js","assets/BasePage.vue_vue_type_script_setup_true_lang-zpTuv89f.js","assets/BaseCard-BjH6c4uf.js","assets/BaseCard-CEwQZy6x.css","assets/ClosePopup-DKr1Zozv.js","assets/BaseSwiperSlides.vue_vue_type_script_setup_true_lang-C7kgcD-e.js","assets/index-DCPFka_x.js","assets/SkeletonItem.vue_vue_type_script_setup_true_lang-BWbMMSax.js","assets/image-view-HuTgdbxB.css","assets/BaseImageViewDialog-wI4VSCyg.js","assets/BaseImageViewDialog-CWA4uJwq.css"])))=>i.map(i=>d[i]);
import{l as A,_ as L,u as D,r as d,c as u,R as r,n as t,t as M,m as y,T as m,W as h,X as I,I as O,x as q,w as k,ay as E,J as p,L as R,M as W,bf as H,p as J,q as Q,aF as U,aN as X}from"./index-D_pQv8pS.js";import{_ as j}from"./BaseFilesPreviewItem.vue_vue_type_script_setup_true_lang-G2SYBqFp.js";import{_ as G}from"./BaseFilesPreviewItemAlt.vue_vue_type_script_setup_true_lang-Dp_R_uDQ.js";const K={key:0,class:"row"},Y={key:1,class:"row"},Z={class:"col-12 q-py-sm",style:{"overflow-x":"auto"}},te=A({__name:"ChatMessageFile",props:{chatId:{},files:{},sent:{type:Boolean},showImageSlideAll:{type:Boolean,default:!0},miniChat:{type:Boolean},fileTextColor:{}},setup(g){const C=U(()=>X(()=>import("./BaseFileViewDialog-BRceieVA.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]))),{isSmallScreen:_}=L(),{t:z}=D(),f=d(),w=d([]),x=d(0),n=d(!1),v=u(()=>g.files.filter(e=>e.fileManager)),o=u(()=>g.files.filter(e=>e.fileManager&&e.fileManager.image)),i=u(()=>g.files.filter(e=>e.fileManager&&!e.fileManager.image)),F=u(()=>{const e=o.value.length;return e==1?"col-12 col-md-12":e==2?"col-6 col-md-6":e==3?"col-4 col-md-4":"col-3 col-md-3"}),S=u(()=>v.value.length==1?"250px":v.value.length==2?"125px":"100px"),B=u(()=>i.value.length==1?"550px":i.value.length==2?"125px":"100px"),V=e=>{if(e!=null&&i.value&&v.value.length>0)return v.value[e]},b=e=>{if(e!=null&&i.value&&i.value.length>0)return i.value[e]},N=e=>new Promise(a=>{const l=o.value.findIndex(s=>s.id==e.id);if(l>=0){const s=o.value;for(const c of s)c&&c.fileManager&&w.value.push(c.fileManager);x.value=l}a(!0)}),P=async e=>{n.value=!1,x.value=0,w.value=[];const a=V(e);a&&a.fileManager&&(g.showImageSlideAll&&a.fileManager.image&&await N(a),f.value=a,n.value=!0)},$=async(e,a)=>{n.value=!1;const l=b(e);l&&l.fileManager&&(f.value=l,n.value=!0)};return(e,a)=>(t(),r(h,null,[M("div",J(Q(e.$attrs)),[o.value&&o.value.length>0?(t(),r("div",K,[(t(!0),r(h,null,I(o.value,(l,s)=>(t(),r("div",{key:`chat-message-f-preview-${s}-${l.id}`,class:O(["q-pa-xs",F.value])},[l.fileManager?(t(),y(j,{key:0,class:"rounded",style:{"border-radius":"10px"},item:l.fileManager,index:s,"show-delete":!1,"show-tooltip":"","text-color":e.fileTextColor?e.fileTextColor:e.sent?"text-black":void 0,"use-thumbnail":o.value.length>1,"image-size":S.value,"image-height":B.value,"show-name":!l.fileManager?.image,"show-size":!1,onOnClick:P},null,8,["item","index","text-color","use-thumbnail","image-size","image-height","show-name"])):m("",!0)],2))),128))])):m("",!0),i.value&&i.value.length>0?(t(),r("div",Y,[M("div",Z,[q(H,null,{default:k(()=>[(t(!0),r(h,null,I(i.value,(l,s)=>(t(),r(h,{key:`chat-message-file-preview-${s}-${l.id}`},[l.fileManager?(t(),y(G,{key:0,style:E({maxWidth:p(_)?"230px":"100%"}),item:l.fileManager,index:s,onOnClick:a[0]||(a[0]=(c,T)=>$(c,T)),"show-delete":!1,"icon-size":"2em","image-size":"2em","text-color":e.sent?"text-black":"",clickable:""},{fileName:k(()=>[R(W(l.fileManager.fileName),1)]),_:2},1032,["style","item","index","text-color"])):m("",!0)],64))),128))]),_:1})])])):m("",!0)],16),n.value&&f.value&&f.value.fileManager?(t(),y(p(C),{key:0,item:f.value.fileManager,"image-list":w.value,"select-index":x.value,title:p(z)("chats.chats"),"show-arrow":e.showImageSlideAll,show:n.value,"onUpdate:show":a[1]||(a[1]=l=>n.value=l)},null,8,["item","image-list","select-index","title","show-arrow","show"])):m("",!0)],64))}});export{te as _};
