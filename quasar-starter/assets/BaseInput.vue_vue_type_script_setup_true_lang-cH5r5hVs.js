import{l as C,r as R,c as z,a5 as K,dM as Y,b8 as Z,R as x,n as h,am as $,an as U,m as b,a4 as _,w as p,x as ee,c7 as W,O as S,v as d,T as V,J as F,W as te,aH as le,a1 as ae,p as H,aA as I,L as ne,M as q,bO as ie,t as oe,cd as se}from"./index--rRessbS.js";import{B as Q}from"./BaseAvatar-DBU721Eb.js";/**
 * Vue Number Format 3.34.1
 * (c) 2021-2025 Dipak Sarkar <hello@dipaksarkar.in> (https://dipaksarkar.in/)
 * @license MIT
 */var P={prefix:"",suffix:"",separator:",",decimal:".",inputmode:"numeric",precision:2,minimumFractionDigits:null,prefill:!0,reverseFill:!1,min:null,max:null,nullValue:""};function re(t){return l=0,e=t,i=20,Math.max(l,Math.min(e,i));var l,e,i}class D{options;input;number;isClean;isCustomDecimal;noPreSuffix;hasPreOrSuffix;prefix;preSufRegExp;prefixRegExp;suffixRegExp;numberRegExp;cleanRegExp;negativeRegExp;constructor(l){this.options=Object.assign(A(P),l);const{prefix:e,suffix:i,decimal:o,reverseFill:s}=this.options;this.input="",this.number="",this.isClean=!s;const a=e,n=i,r=a.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),u=n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&");r&&(this.prefixRegExp=new RegExp(`^${r}`)),u&&(this.suffixRegExp=new RegExp(`${u}$`)),this.prefix=e,this.numberRegExp=new RegExp(`[^0-9\\${o||"."}]+`,"gi"),this.cleanRegExp=new RegExp("[^0-9]+","gi"),this.negativeRegExp=new RegExp("[^0-9\\-]+","gi"),this.isCustomDecimal=o!==".",this.noPreSuffix=!a&&!n,this.hasPreOrSuffix=!this.noPreSuffix}isNull(){return!this.numberOnly(this.isClean?this.cleanRegExp:this.negativeRegExp)}clean(l=!1){return this.isClean=l,this}sign(){if(this.input===null||this.input===void 0)return"";const l=this.input.toString().indexOf(y)>=0;return this.isClean?l&&this.realNumber()>0?y:"":l?y:""}toFixed(){const l=Math.pow(10,this.options.precision);return(parseFloat(this.numberOnly(/\D+/g))/l||0).toFixed(re(this.options.precision))}toNumber(l){return Number(l)}numberOnly(l){let e=this.input?.toString();return this.prefixRegExp&&(e=e.replace(this.prefixRegExp,"")),this.suffixRegExp&&(e=e.replace(this.suffixRegExp,"")),e.replace(l||this.numberRegExp,"")}inputWithPreOrSuffix(){return this.input&&this.prefixRegExp?this.prefixRegExp.test(this.input.toString()):!this.input||!this.suffixRegExp||this.suffixRegExp.test(this.input.toString())}isNegative(){return this.sign()===y}isNumber(l){return!isNaN(this.toNumber(l||this.input))}numbers(){const{reverseFill:l,decimal:e,separator:i}=this.options;if(l)this.number=this.toFixed().replace(".",e);else{const o=this.input?.toString().replace(this.prefixRegExp??"","").replace(this.suffixRegExp??"","").replace(new RegExp(y,"g"),""),s=this.input.toString().indexOf(e)>=0&&this.isCustomDecimal;let a=o;i&&(a=a.replace(new RegExp(`\\${i}`,"g"),"")),a=a.replace(e,"."),typeof this.input=="number"||this.isNumber()&&!s&&!this.inputWithPreOrSuffix()&&this.hasPreOrSuffix?this.number=this.parts(o,".").join(e):this.isNumber(a)&&!s&&this.inputWithPreOrSuffix()&&this.hasPreOrSuffix?this.number=this.parts(a,".").join(e):this.number=this.parts(this.numberOnly()).join(e)}return this.number}unformatNumber(){return this.numbers().toString().replace(this.options.decimal,".")}realNumber(){return parseFloat(this.unformatNumber())}parts(l,e){const{precision:i,minimumFractionDigits:o,decimal:s}=this.options;let a=l.toString().split(e||s);if(a.length>1&&(a[0]=this.toNumber(a[0])||0,a[1]=a.slice(1,a.length).join(""),a=a.slice(0,2)),this.isClean){const n=this.toNumber(a.join(".")).toFixed(i),r=this.toNumber(n),u=r.toFixed(o);a=o>=0&&r.toString().length<u.length?u.toString().split("."):r.toString().split(".")}return a.slice(0,2)}addSeparator(){const{decimal:l,separator:e}=this.options,i=this.numbers().split(l);return i[0]=i[0].toString().replace(/(\d)(?=(?:\d{3})+\b)/gm,`$1${e}`),i.join(l)}format(l){this.input=l;const{reverseFill:e,nullValue:i,prefix:o,suffix:s}=this.options;return this.isNull()&&!e?i:this.sign()+o+this.addSeparator()+s}unformat(l){this.input=l;const{reverseFill:e,nullValue:i}=this.options,o=this.realNumber(),s=this.unformatNumber();return this.isNull()||e&&o===0?i:this.sign()+s}}const y="-";function A(t){return JSON.parse(JSON.stringify(t))}function O(t){return new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:{facade:!0}})}function N(t){const l=t instanceof HTMLInputElement?t:t.querySelector("input");if(!l)throw new Error("number directive requires an input element");return l}function T(t,l){const e=()=>{t.setSelectionRange(l,l)};e(),setTimeout(e,1)}function B(t,l,{emit:e=!0,force:i=!1,clean:o=!1}={}){const{options:s,oldValue:a}=t,{reverseFill:n,max:r,min:u}=s,g=l?.props?.value||t.value;if(i||a!==g){const f=new D(s).clean(o&&!n);let v=f.format(g),c=f.clean(!n).unformat(g);o&&(Number(r)===r&&Number(c)>r?(v=f.format(r),c=r.toString()):Number(u)===u&&Number(c)<u&&(v=f.format(u),c=u.toString())),t.oldValue=v,t.unmasked=c,t.value!==v&&(t.value=v)}return e&&t.dispatchEvent(O("input"))}var ue={beforeMount:(t,{value:l,modifiers:e},i)=>{t=N(t);const o=Object.assign(A(P),l,e),{reverseFill:s,precision:a,decimal:n,inputmode:r}=o;t.options=o,t.setAttribute("inputmode",r),s&&t.value?(t.value=parseFloat(new D({...o,reverseFill:!1}).unformat(t.value)).toFixed(a),i?.props?.value&&(i.props.value=t.value)):t.value&&!isNaN(Number(t.value))&&(t.value=t.value.replace(".",n)),B(t,i,{force:o.prefill,clean:!0,emit:!1})},mounted:t=>{const l=(t=N(t)).parentElement||t,e=s=>{s.target===t&&function(a){const{target:n,detail:r}=a;if(r?.facade)return!1;a.stopPropagation();let u=n.value.length;const{oldValue:g,options:f}=n;n.selectionEnd&&(u=n.value.length-n.selectionEnd),B(n,null,{clean:!f.precision,emit:!1}),f.suffix&&(u=Math.max(u,f.suffix.length)),u=n.value.length-u,f.prefix&&(u=Math.max(u,f.prefix.length)),T(n,u),g!==n.value&&n.dispatchEvent(O("input"))}(s)},i=s=>{s.target===t&&function(a){const{target:n}=a,{oldValue:r}=n;B(n,null,{force:!0,clean:!0,emit:!1}),r!==n.value&&n.dispatchEvent(O("input"))}(s)},o=s=>{s.target===t&&function(a,n){const{options:r}=n,{prefix:u,suffix:g,decimal:f,min:v,separator:c}=r,{key:k}=a,J=new RegExp(`${u}|${g}`,"g"),L=n.value.replace(J,""),X=v===void 0||Number(v)<0||Number(v)!==v;if(k===f)L.includes(f)?a.preventDefault():L||(n.value="0",n.dispatchEvent(new Event("input")));else if(k!==y||X){if(k==="Backspace"){const E=n.selectionEnd||0,j=n.value.slice(E-1,E),G=n.value.slice(E-2,E);let w=n.value.length-E;[u,y,c].includes(j)&&(a.preventDefault(),n.value=j===c?n.value.replace(G,""):n.value.replace(new RegExp(`[${u}${y}]`,"g"),""),w=Math.max(w,g.length),w=n.value.length-w,w=Math.max(w,u.length),T(n,w),n.dispatchEvent(new Event("input")))}}else a.preventDefault()}(s,t)};l.addEventListener("input",e,!0),l.addEventListener("blur",i,!0),l.addEventListener("keydown",o,!0),t.cleanup=()=>{l.removeEventListener("input",e,!0),l.removeEventListener("blur",i,!0),l.removeEventListener("keydown",o,!0)}},updated:(t,{value:l,oldValue:e,modifiers:i},o)=>{if(t=N(t),l!==e){const s=t.options;t.options=Object.assign(s,l,i),B(t,o,{force:!0,clean:!1,emit:!1})}else B(t,o,{emit:!1})},unmounted:t=>{N(t)?.cleanup()}};const m=A(P);var M=C({name:"VueNumber",directives:{number:ue},props:{modelValue:{type:[String,Number],required:!0},nullValue:{type:[Number,String],default:m.nullValue},masked:Boolean,readonly:Boolean,disabled:Boolean,reverseFill:{type:Boolean,default:m.reverseFill},prefill:{type:Boolean,default:m.prefill},precision:{type:Number,default:()=>m.precision},minimumFractionDigits:{type:Number,default:()=>m.minimumFractionDigits},decimal:{type:String,default:()=>m.decimal},min:{type:Number,default:()=>m.min},max:{type:Number,default:()=>m.max},separator:{type:String,default:()=>m.separator},prefix:{type:String,default:()=>m.prefix},suffix:{type:String,default:()=>m.suffix},inputmode:{type:String,default:()=>m.inputmode}},emits:["update:model-value","input:model-value"],setup(t,{emit:l}){const e=R(t.modelValue),i=R(!1),o=R(""),s=z(()=>({...t})),a=new D(s.value),n=z(()=>t.masked?a.format(e.value):o.value),r=()=>{l("update:model-value",n.value)};return K(()=>t.modelValue,u=>{n.value!=u&&(e.value=a.format(u))}),{config:s,maskedValue:e,unmaskedValue:o,input:u=>{const{target:g}=u;e.value=g.value,o.value=g.unmasked,i.value=!0,l("input:model-value",n.value)},blur:()=>{i.value&&n.value!==t.modelValue&&r()},change:r}}});const pe=["value","readonly","disabled"];M.render=function(t,l,e,i,o,s){const a=Y("number");return Z((h(),x("input",{type:"text",autocomplete:"off",value:t.maskedValue,readonly:t.readonly,disabled:t.disabled,class:"v-number vue-number-format",onChange:l[0]||(l[0]=(...n)=>t.change&&t.change(...n)),onInput:l[1]||(l[1]=(...n)=>t.input&&t.input(...n)),onBlur:l[2]||(l[2]=(...n)=>t.blur&&t.blur(...n))},null,40,pe)),[[a,t.config]])},M.__file="src/component.vue";const de=C({__name:"BaseInputMoney",props:$({config:{default:()=>({decimal:".",separator:",",prefix:"",suffix:"",precision:2,nullValue:"",masked:!1,reverseFill:!1})},hint:{},label:{},dense:{type:Boolean,default:!1},textAlign:{default:"left"},readonly:{type:Boolean,default:!1},outlined:{type:Boolean,default:!0}},{modelValue:{default:0},modelModifiers:{}}),emits:$(["change","update"],["update:modelValue"]),setup(t,{emit:l}){const e=l,i=U(t,"modelValue"),o=a=>{i.value=a?.target?.unmasked,e("update",a?.target?.unmasked)},s=a=>{e("change",a?.target?.unmasked)};return(a,n)=>(h(),b(_,null,{default:p(()=>[ee(W,S(a.$attrs,{modelValue:i.value,"onUpdate:modelValue":n[3]||(n[3]=r=>i.value=r),outlined:a.outlined,dense:a.dense,hint:a.hint,label:a.label}),{control:p(()=>[i.value!=null?(h(),b(F(M),S({key:0,modelValue:i.value,"onUpdate:modelValue":n[0]||(n[0]=r=>i.value=r),class:["q-field__input",{"text-right":a.textAlign=="right","text-left":a.textAlign=="left","text-center":a.textAlign=="center"}]},a.config,{disabled:a.readonly||!1,onInput:n[1]||(n[1]=r=>o(r)),onChange:n[2]||(n[2]=r=>s(r))}),null,16,["modelValue","class","disabled"])):V("",!0)]),append:p(()=>[d(a.$slots,"append")]),before:p(()=>[d(a.$slots,"before")]),prepend:p(()=>[d(a.$slots,"prepend")]),hint:p(()=>[d(a.$slots,"hint")]),after:p(()=>[d(a.$slots,"after")]),_:3},16,["modelValue","outlined","dense","hint","label"])]),_:3}))}}),fe={key:0,class:"text-negative"},me={class:"self-center full-width no-outline app-auto-newline",tabindex:"0"},ve=C({__name:"BaseInput",props:$({avatar:{},bottomSlots:{type:Boolean,default:!1},borderless:{type:Boolean,default:!1},autogrow:{type:Boolean,default:!0},counter:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},dense:{type:Boolean,default:!0},debounce:{default:0},disable:{type:Boolean},fetchImage:{type:Boolean,default:!1},filled:{type:Boolean,default:!1},hint:{},icon:{},iconSize:{default:"24px"},label:{},maxlength:{},min:{},max:{},moneyConfig:{},outlined:{type:Boolean,default:!0},placeholder:{},readonly:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},rules:{},rows:{default:1},maxRows:{},required:{type:Boolean,default:!1},stackLabel:{type:Boolean,default:!1},textAlign:{},textareaHeight:{default:"105px"},type:{default:"text"},isMoney:{type:Boolean},editMode:{type:Boolean,default:!0},viewBorderless:{type:Boolean,default:!0},viewOutlined:{type:Boolean,default:!1},viewStackLabel:{type:Boolean,default:!0},viewShowAfter:{type:Boolean,default:!0},viewShowAppend:{type:Boolean,default:!0},viewShowBefore:{type:Boolean,default:!0},viewShowHint:{type:Boolean,default:!0},viewShowPrepend:{type:Boolean,default:!0}},{modelValue:{},modelModifiers:{}}),emits:$(["update:model-value","focus","blur","clear"],["update:modelValue"]),setup(t){const l=U(t,"modelValue");return(e,i)=>e.editMode?(h(),x(te,{key:0},[e.isMoney?(h(),b(de,S({key:1},e.$attrs,{modelValue:l.value,"onUpdate:modelValue":i[1]||(i[1]=o=>l.value=o),outlined:e.outlined,dense:e.dense,readonly:e.readonly,config:e.moneyConfig,label:e.label,"text-align":e.textAlign}),{append:p(()=>[d(e.$slots,"append")]),before:p(()=>[d(e.$slots,"before")]),prepend:p(()=>[d(e.$slots,"prepend")]),hint:p(()=>[d(e.$slots,"hint")]),after:p(()=>[d(e.$slots,"after")]),_:3},16,["modelValue","outlined","dense","readonly","config","label","text-align"])):(h(),b(le,S({key:0},e.$attrs,{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=o=>l.value=o),debounce:e.debounce,outlined:e.outlined&&!e.borderless,filled:e.filled,"bottom-slots":e.bottomSlots,label:e.label,"stack-label":e.stackLabel,placeholder:e.placeholder,readonly:e.readonly,disable:e.disable,rules:e.rules,autogrow:e.type=="textarea"?e.autogrow:void 0,rows:e.type=="textarea"?e.rows:void 0,"max-rows":e.type=="textarea"?e.maxRows:void 0,min:e.min,max:e.max,type:e.type,counter:e.counter,maxlength:e.maxlength,dense:e.type=="textarea"?!1:e.dense,rounded:e.rounded,clearable:e.clearable,"clear-icon":e.clearable?F(ae):void 0,hint:e.hint,borderless:e.borderless,"input-style":{minHeight:e.type=="textarea"&&e.autogrow?e.textareaHeight:""}}),{label:p(()=>[d(e.$slots,"label",{},()=>[ne(q(e.label)+" ",1),e.required?(h(),x("span",fe,"*")):V("",!0)])]),before:p(()=>[d(e.$slots,"before")]),prepend:p(()=>[d(e.$slots,"prepend",{},()=>[e.avatar?(h(),b(Q,H(S({key:0},{...e.avatar})),null,16)):e.icon?(h(),b(I,{key:1,name:e.icon,size:e.iconSize},null,8,["name","size"])):V("",!0)])]),append:p(()=>[d(e.$slots,"append")]),hint:p(()=>[d(e.$slots,"hint")]),after:p(()=>[d(e.$slots,"after")]),error:p(()=>[d(e.$slots,"error")]),loading:p(()=>[d(e.$slots,"loading")]),_:3},16,["modelValue","debounce","outlined","filled","bottom-slots","label","stack-label","placeholder","readonly","disable","rules","autogrow","rows","max-rows","min","max","type","counter","maxlength","dense","rounded","clearable","clear-icon","hint","borderless","input-style"]))],64)):(h(),b(W,S({key:1},e.$attrs,{"model-value":l.value,"bottom-slots":e.bottomSlots,label:e.label,outlined:e.viewOutlined,filled:e.filled,"stack-label":e.viewStackLabel,dense:e.dense,borderless:e.viewBorderless,hint:e.viewShowHint?e.hint:void 0}),ie({control:p(()=>[oe("div",me,q(e.type=="number"||e.isMoney?F(se)(l.value):l.value),1)]),_:2},[e.viewShowBefore?{name:"before",fn:p(()=>[d(e.$slots,"before")]),key:"0"}:void 0,e.viewShowPrepend?{name:"prepend",fn:p(()=>[d(e.$slots,"prepend",{},()=>[e.avatar?(h(),b(Q,H(S({key:0},{...e.avatar})),null,16)):e.icon?(h(),b(I,{key:1,name:e.icon,size:e.iconSize},null,8,["name","size"])):V("",!0)])]),key:"1"}:void 0,e.viewShowAppend?{name:"append",fn:p(()=>[d(e.$slots,"append")]),key:"2"}:void 0,e.viewShowHint?{name:"hint",fn:p(()=>[d(e.$slots,"hint")]),key:"3"}:void 0,e.viewShowAfter?{name:"after",fn:p(()=>[d(e.$slots,"after")]),key:"4"}:void 0]),1040,["model-value","bottom-slots","label","outlined","filled","stack-label","dense","borderless","hint"]))}});export{ve as _};
