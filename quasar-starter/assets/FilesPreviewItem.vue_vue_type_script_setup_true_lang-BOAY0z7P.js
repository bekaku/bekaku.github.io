import{l as P,c as $,V as g,n as s,x as n,m as l,a0 as t,w as a,v as m,a4 as N,a5 as r,J as B,Y as y,as as C,au as p,Z as k,W as f,X as u,at as h,aX as I,ah as Q,a7 as c,av as D}from"./index-B0AWSN6j.js";import{a as V}from"./BaseAvatar-DAj7bJXH.js";import{g as q}from"./FileManagerService-DXhd-zV1.js";const F={key:1,class:"text-center"},J=P({__name:"FilesPreviewItem",props:{showDelete:{type:Boolean,default:!0},col:{default:"col-3 q-pa-md"},item:{},index:{},formatSize:{type:Boolean,default:!1},fetch:{type:Boolean,default:!1},useThumbnail:{type:Boolean,default:!1},showName:{type:Boolean,default:!0},showSize:{type:Boolean,default:!0},imageSize:{default:"125px"},imageHeight:{},iconSize:{default:"4em"},textColor:{},dense:{type:Boolean,default:!0},showTooltip:{type:Boolean,default:!1},ratio:{default:4/3},linesName:{default:1}},emits:["on-remove","on-click"],setup(v,{emit:T}){const d=v,z=T,b=$(()=>d.useThumbnail&&d.item.fileThumbnailPath?d.item.fileThumbnailPath:d.item.filePath),w=(e,o)=>{z("on-remove",o),e&&e.stopImmediatePropagation()},S=(e,o)=>{z("on-click",o),e&&e.stopImmediatePropagation()};return(e,o)=>e.item?.isImage||e.item?.image?(s(),g(Q,{key:0},[n(V,y(e.$attrs,{src:b.value,fetch:e.fetch||!1,ratio:e.ratio||1,class:"cursor-pointer",onClick:o[1]||(o[1]=i=>S(i,e.index))}),{default:a(()=>[e.showDelete?(s(),l(N,{key:0,onClick:o[0]||(o[0]=i=>w(i,e.index)),class:"absolute all-pointer-events",name:"info",style:{top:"8px",left:"8px"},round:"",flat:"",icon:r(B),color:"negative"},null,8,["icon"])):t("",!0),m(e.$slots,"default")]),_:3},16,["src","fetch","ratio"]),e.showName||e.showSize?(s(),l(C,y({key:0,dense:e.dense},e.$attrs,{class:"q-pa-none"}),{default:a(()=>[n(h,null,{default:a(()=>[e.showName?(s(),l(p,{key:0,lines:e.linesName,class:k(e.textColor)},{default:a(()=>[m(e.$slots,"fileName",{},()=>[f(u(e.item.fileName),1)])]),_:3},8,["lines","class"])):t("",!0)]),_:3}),n(h,{side:""},{default:a(()=>[e.showSize?(s(),l(p,{key:0,caption:""},{default:a(()=>[m(e.$slots,"size",{},()=>[f(u(e.formatSize?r(I)(e.item.fileSize):e.item.fileSize),1)])]),_:3})):t("",!0)]),_:3})]),_:3},16,["dense"])):t("",!0)],64)):(s(),g("div",F,[n(D,y(e.$attrs,{class:"cursor-pointer",onClick:o[3]||(o[3]=i=>S(i,e.index)),size:e.iconSize,name:r(q)(e.item.fileMime)}),{default:a(()=>[e.showDelete?(s(),l(N,{key:0,onClick:o[2]||(o[2]=i=>w(i,e.index)),class:"absolute all-pointer-events",name:"info",style:{top:"8px",left:"8px"},round:"",flat:"",icon:r(B),color:"negative"},null,8,["icon"])):t("",!0),e.showTooltip&&e.item.fileName?(s(),l(c,{key:1},{default:a(()=>[f(u(e.item.fileName),1)]),_:1})):t("",!0)]),_:1},16,["size","name"]),e.showName||e.showSize?(s(),l(C,{key:0,dense:e.dense,class:"q-pa-none"},{default:a(()=>[n(h,null,{default:a(()=>[e.showName?(s(),l(p,{key:0,lines:e.linesName,class:k(e.textColor)},{default:a(()=>[m(e.$slots,"fileName",{},()=>[f(u(e.item.fileName),1)])]),_:3},8,["lines","class"])):t("",!0)]),_:3}),n(h,{side:""},{default:a(()=>[e.showSize?(s(),l(p,{key:0,caption:"",class:k(e.textColor)},{default:a(()=>[m(e.$slots,"size",{},()=>[f(u(e.formatSize?r(I)(e.item.fileSize):e.item.fileSize),1)])]),_:3},8,["class"])):t("",!0)]),_:3})]),_:3},8,["dense"])):t("",!0)]))}});export{J as _};
