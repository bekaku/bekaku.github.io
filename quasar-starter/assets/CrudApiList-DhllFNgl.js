const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BaseResult-CuumZR92.js","assets/BaseResult.vue_vue_type_script_setup_true_lang-fjuZMLDc.js","assets/index-D2_s7zbP.js","assets/index-BgtrcqL_.css","assets/BaseDatePicker-BjSPoRVV.js","assets/BaseDatePicker.vue_vue_type_script_setup_true_lang-CEG3ravM.js","assets/ClosePopup-2-dEFwXe.js","assets/BaseToggle-BDVVv5vr.js","assets/BaseToggle.vue_vue_type_script_setup_true_lang-ByRcMaCi.js","assets/CrudApiListHeaderFilter-CoTjwLSG.js","assets/BaseSelect-7sVfb6vx.js","assets/BaseSelect.vue_vue_type_script_setup_true_lang-DLaDKwqy.js","assets/useValidation-Ch6c2l-f.js","assets/SkeletonItem.vue_vue_type_script_setup_true_lang-G2xTrWP4.js","assets/BaseAvatar-Dd0BukBT.js","assets/FileManagerService-CwRtvFJO.js","assets/useAxios-DC4_ZzHn.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/BaseAvatar-DIqnQNII.css"])))=>i.map(i=>d[i]);
import{l as re,f2 as Xe,u as pe,m as d,n as s,af as N,w as u,x as i,bX as Ae,bg as Ee,az as ae,R as m,U as je,L as k,M as y,J as a,bf as ue,W as v,X as U,Q as te,b8 as j,Z as W,Y as S,t as f,T as c,aA as $,ao as ye,f3 as Te,V as T,I as le,v as g,aI as We,aD as fe,f4 as Ge,cB as Ke,bC as $e,e6 as ie,be as Ze,a as Je,by as Ye,r as Y,c as _,aF as ne,bz as _e,bB as He,aN as ke,aH as he,bk as se,d1 as be,aG as H,cI as xe,aU as et,ay as tt,aM as ot,a1 as nt,f5 as st,aL as ge,p as at,q as lt,f6 as it,bl as ut,bm as we,f7 as rt,f8 as dt,O as Be,f9 as mt,aZ as ct,aX as ce,fa as pt,i as vt,fb as yt,fc as ft,fd as kt,fe as ht,aO as x}from"./index-D2_s7zbP.js";import{C as G}from"./ClosePopup-2-dEFwXe.js";import{u as bt}from"./useSort-QAAyit6B.js";import{_ as gt}from"./Paging.vue_vue_type_script_setup_true_lang-Duqh7qCx.js";import{B as wt}from"./BaseCard-DIxBFYod.js";import{B as X}from"./BaseButton-CvbVWVz2.js";import{_ as ee}from"./BaseTooltip.vue_vue_type_script_setup_true_lang-NBn_gdh-.js";import{_ as Bt}from"./_plugin-vue_export-helper-DlAUqK2U.js";var A=(l=>(l[l.TEXT=0]="TEXT",l[l.HTML=1]="HTML",l[l.IMAGE=2]="IMAGE",l[l.AVATAR=3]="AVATAR",l[l.STATUS=4]="STATUS",l[l.DATE=5]="DATE",l[l.DATE_TIME=6]="DATE_TIME",l[l.LINKABLE=7]="LINKABLE",l[l.BASE_TOOL=8]="BASE_TOOL",l[l.NUMBER_FORMAT=9]="NUMBER_FORMAT",l[l.ICON=10]="ICON",l[l.FUNCTION=11]="FUNCTION",l))(A||{}),I=(l=>(l[l.TEXT=0]="TEXT",l[l.NUMBER=1]="NUMBER",l[l.BOOLEAN=2]="BOOLEAN",l[l.DATE=3]="DATE",l[l.DATETIME=4]="DATETIME",l[l.OPTIONS=5]="OPTIONS",l))(I||{});const At=re({__name:"BaseSort",props:{fields:{type:Array,default:()=>[]},sort:{type:Object,default:null},icon:{type:String,default:Xe},label:{type:String,default:void 0},width:{type:Number,default:200},listDense:{type:Boolean,default:!0},btnRound:{type:Boolean,default:!0}},emits:["on-sort-column","on-sort-mode"],setup(l,{emit:V}){const P=l,h=V,{t:z}=pe(),{sortMode:R}=bt(),K=n=>{n&&P.sort.column!==n&&h("on-sort-column",n)},E=n=>{n&&P.sort.mode!==n&&h("on-sort-mode",n)};return(n,B)=>(s(),d(N,{class:"q-mx-sm",flat:"",round:l.btnRound,icon:l.icon,label:l.label},{default:u(()=>[i(Ae,null,{default:u(()=>[i(Ee,{style:ae(`min-width: ${l.width}px`),dense:l.listDense},{default:u(()=>[i(je,{header:""},{default:u(()=>[k(y(a(z)("sort.sort")),1)]),_:1}),i(ue),(s(!0),m(v,null,U(l.fields,(w,Q)=>j((s(),d(W,{clickable:"",key:"sort-fields-"+Q,onClick:q=>K(w.value)},{default:u(()=>[i(S,null,{default:u(()=>[f("span",null,[k(y(w.label),1),l.sort.column===w.value?(s(),d($,{key:0,class:"q-ml-sm",name:a(ye)},null,8,["name"])):c("",!0)])]),_:2},1024)]),_:2},1032,["onClick"])),[[G]])),128)),i(ue),(s(!0),m(v,null,U(a(R),(w,Q)=>j((s(),d(W,{clickable:"",key:"sort-mode-"+Q,onClick:q=>E(w.value)},{default:u(()=>[i(S,null,{default:u(()=>[f("span",null,[k(y(w.label)+" ",1),l.sort.mode===w.value?(s(),d($,{key:0,class:"q-ml-sm",name:a(ye)},null,8,["name"])):c("",!0)])]),_:2},1024)]),_:2},1032,["onClick"])),[[G]])),128))]),_:1},8,["style","dense"])]),_:1}),i(te,null,{default:u(()=>[k(y(a(z)("sort.sort")),1)]),_:1})]),_:1},8,["round","icon","label"]))}}),Et={class:"text-left",style:{width:"150px"}},Tt={class:"text-right"},$t={class:"text-right"},St={class:"text-right"},Pt={class:"text-right"},Vt={class:"text-right"},Mt={class:"text-left"},Ot={class:"text-right"},Nt={class:"text-right"},zt={class:"text-right"},It={class:"text-right"},Ut={class:"text-right"},Rt=re({__name:"SkeletonTable",props:{no:{default:5},flat:{type:Boolean,default:!0}},setup(l){return(V,P)=>(s(),d(Te,{flat:V.flat},{default:u(()=>[f("thead",null,[f("tr",null,[f("th",Et,[i(T,{animation:"blink",type:"text"})]),f("th",Tt,[i(T,{animation:"blink",type:"text"})]),f("th",$t,[i(T,{animation:"blink",type:"text"})]),f("th",St,[i(T,{animation:"blink",type:"text"})]),f("th",Pt,[i(T,{animation:"blink",type:"text"})]),f("th",Vt,[i(T,{animation:"blink",type:"text"})])])]),f("tbody",null,[(s(!0),m(v,null,U(V.no,h=>(s(),m("tr",{key:h},[f("td",Mt,[i(T,{animation:"blink",type:"text",width:"85px"})]),f("td",Ot,[i(T,{animation:"blink",type:"text",width:"50px"})]),f("td",Nt,[i(T,{animation:"blink",type:"text",width:"35px"})]),f("td",zt,[i(T,{animation:"blink",type:"text",width:"65px"})]),f("td",It,[i(T,{animation:"blink",type:"text",width:"25px"})]),f("td",Ut,[i(T,{animation:"blink",type:"text",width:"85px"})])]))),128))])]),_:1},8,["flat"]))}}),Qt=re({__name:"BaseCrudActionButton",props:{isHaveManagePermission:{type:Boolean},isHaveViewPermission:{type:Boolean},viewButton:{type:Boolean,default:!0},editButton:{type:Boolean,default:!0},copyButton:{type:Boolean,default:!0},deleteButton:{type:Boolean,default:!0},size:{default:"12px"},button:{type:Boolean,default:!1},crudAction:{},loading:{type:Boolean,default:!1}},emits:["on-item-click","on-item-copy","on-item-delete"],setup(l,{emit:V}){const P=V,{t:h}=pe(),z=(n,B)=>{ie(n),P("on-item-click",B)},R=(n,B)=>{z(n,B)},K=n=>{ie(n),P("on-item-copy")},E=n=>{ie(n),P("on-item-delete")};return(n,B)=>n.isHaveManagePermission||n.isHaveViewPermission?(s(),m("div",{key:0,class:le({"q-gutter-xs":!n.button,"q-gutter-md":n.button})},[n.viewButton&&n.isHaveViewPermission?(s(),d(X,{key:0,loading:n.loading,icon:a(We),flat:"",dense:"",round:"",size:n.size,onClick:B[0]||(B[0]=w=>z(w,"view"))},{default:u(()=>[n.button?c("",!0):(s(),d(ee,{key:0},{default:u(()=>[k(y(a(h)("base.view")),1)]),_:1}))]),_:1},8,["loading","icon","size"])):c("",!0),n.editButton&&n.isHaveManagePermission?(s(),m(v,{key:1},[n.button?(s(),m(v,{key:1},[n.crudAction==="view"?(s(),d(X,{key:0,loading:n.loading,icon:a(fe),unelevated:n.button,color:"primary",outline:!1,size:n.size,label:a(h)("base.edit"),type:"button",onClick:B[2]||(B[2]=w=>R(w,"edit"))},null,8,["loading","icon","unelevated","size","label"])):(s(),d(X,{key:1,loading:n.loading,icon:a(Ge),unelevated:"",color:"positive",size:n.size,label:n.crudAction=="edit"||n.crudAction=="new"||n.crudAction=="copy"?a(h)("base.save"):"",type:"submit"},{default:u(()=>[n.button?c("",!0):(s(),d(ee,{key:0},{default:u(()=>[k(y(a(h)("base.edit")),1)]),_:1}))]),_:1},8,["loading","icon","size","label"]))],64)):(s(),d(X,{key:0,icon:a(fe),flat:"",dense:"",round:"",size:n.size,type:"button",onClick:B[1]||(B[1]=w=>R(w,"edit"))},{default:u(()=>[i(ee,null,{default:u(()=>[k(y(a(h)("base.edit")),1)]),_:1})]),_:1},8,["icon","size"]))],64)):c("",!0),n.copyButton&&n.isHaveManagePermission?(s(),d(X,{key:2,loading:n.loading,icon:a(Ke),flat:!n.button,dense:!n.button,size:n.size,outline:n.button,label:!n.button||n.crudAction==null?void 0:a(h)("base.copy"),onClick:K},{default:u(()=>[n.button?c("",!0):(s(),d(ee,{key:0},{default:u(()=>[k(y(a(h)("base.copy")),1)]),_:1}))]),_:1},8,["loading","icon","flat","dense","size","outline","label"])):c("",!0),n.deleteButton&&n.isHaveManagePermission&&n.crudAction!=="copy"&&n.crudAction!=="new"?(s(),d(X,{key:3,color:"negative",loading:n.loading,icon:a($e),flat:!n.button,outline:!1,"outline-color":n.button?"negative":void 0,dense:!n.button,round:!n.button,size:n.size,label:!n.button||n.crudAction==null?void 0:a(h)("base.delete"),onClick:E},{default:u(()=>[n.button?c("",!0):(s(),d(ee,{key:0,color:"negative"},{default:u(()=>[k(y(a(h)("base.delete")),1)]),_:1}))]),_:1},8,["loading","icon","flat","outline-color","dense","round","size","label"])):c("",!0),g(n.$slots,"additionalBtn")],2)):c("",!0)}}),qt={class:"col"},Ft={class:"row items-center"},Lt={class:"text-h6"},Dt={class:"row"},Ct={key:0,class:"col-12 col-md-4 q-pa-sm"},Xt={class:"q-gutter-md row items-center justify-start"},jt={key:0},Wt={key:0},Gt={key:1},Kt=["onClick"],Zt={key:0,class:"text-center"},Jt={key:0,class:"text-center"},Yt=["onClick"],_t={key:0},Ht=["alt"],xt=re({__name:"CrudApiList",props:{crudName:{},viewPermission:{},managePermission:{},byPassPermission:{type:Boolean,default:!1},title:{},icon:{default:()=>Ze},list:{},headers:{},sort:{},pages:{},fristLoad:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},showPaging:{type:Boolean,default:!0},showCheckbox:{type:Boolean,default:!0},showNewBtn:{type:Boolean,default:!0},showSearchBtn:{type:Boolean,default:!0},showSearchTextBox:{type:Boolean,default:!1},showThreeDot:{type:Boolean,default:!0},showFilter:{type:Boolean,default:!0},showSort:{type:Boolean,default:!0},fullWidth:{type:Boolean,default:!0},tableSeperator:{default:"horizontal"},rowClickable:{type:Boolean,default:!0}},emits:["on-page-no-change","on-items-perpage-change","update-search","on-sort","on-sort-mode","on-item-copy","on-item-click","on-item-delete","on-new-form","on-reload","on-advance-search","on-keyword-search","on-col-click"],setup(l,{emit:V}){const P=H(()=>x(()=>import("./BaseResult-CuumZR92.js"),__vite__mapDeps([0,1,2,3]))),h=H(()=>x(()=>import("./BaseDatePicker-BjSPoRVV.js"),__vite__mapDeps([4,5,2,3,6]))),z=H(()=>x(()=>import("./BaseToggle-BDVVv5vr.js"),__vite__mapDeps([7,8,2,3]))),R=H(()=>x(()=>import("./CrudApiListHeaderFilter-CoTjwLSG.js"),__vite__mapDeps([9,2,3]))),K=H(()=>x(()=>import("./BaseSelect-7sVfb6vx.js"),__vite__mapDeps([10,11,2,3,12,13,14,15,16,17,18]))),E=V,{t:n,locale:B}=pe(),{searchOperations:w,inputSanitizeHtml:Q}=Je(),q=Ye(),M=Y(l.pages),Z=Y(""),oe=Y(!1),F=Y(!1),L=Y([]),Se=()=>{Pe(oe.value)},Pe=t=>{if(L.value=[],t)for(let r=0;r<l.list.length;r++){const e=l.list[r];e&&L.value.push(e.id)}},Ve=()=>{L.value.length>0&&ve(L.value,!1)},ve=(t,r)=>{E("on-item-delete",t,r)},Me=t=>{const e=l.list[t];if(e)return e},b=(t,r)=>{if(t==null)return null;const e=Me(r);return!t||!e?null:t.split(".").length>1?pt(e,t):vt(e[t])?null:e[t]},Oe=(t,r)=>{if(!t)return!1;const e=b(t,r);return e?e===!0:!1},Ne=_(()=>{const t=l.headers.filter(e=>e.options&&e.options.sortable===!0),r=[];for(const e of t)r.push({value:e.options.sortColunm?e.options.sortColunm:e.column,label:e.translateLabel==null||e.translateLabel?n(e.label):e.label});return r}),de=_(()=>l.headers&&l.headers.length>0?l.headers.filter(t=>t.options&&t.options.fillable===!0):l.headers),D=_(()=>l.headers&&l.headers.length>0?l.headers.filter(t=>t.options&&t.options.searchable===!0):l.headers),ze=()=>{Ie(),E("on-reload")},Ie=()=>{if(D.value.length>0)for(const t of D.value)t.options&&(t.type==A.STATUS?t.options.searchModel=!0:t.options.searchModel=null)},Ue=()=>{Z.value="";let t="";if(D.value.length>0){for(const r of D.value)if(r.options){const e=r.options.searchOperation,p=r.options.searchModel,o=r.options.searchColunm?r.options.searchColunm:r.column;if(e!=null&&p!=null){let C=Q(p);r.type==A.STATUS&&(C=p),t&&(t+=","),t+=`${o}${e}${C}`}}}E("on-advance-search",t)},Re=()=>{Z.value?.trim().length>=it&&E("on-keyword-search",Q(Z.value))},J=_(()=>l.byPassPermission?!0:l.viewPermission?q.isHavePermission(l.viewPermission):l.crudName?q.isHavePermission([`${l.crudName}_view`]):!0),O=_(()=>l.byPassPermission?!0:l.managePermission?q.isHavePermission(l.managePermission):l.crudName?q.isHavePermission([`${l.crudName}_manage`]):!0),Qe=(t,r=void 0)=>t?yt(t,r||ft,B.value):void 0,qe=(t,r=void 0)=>t?kt(t,r||ht,B.value):void 0,Fe=async t=>{t&&M.value&&(M.value.current=t,E("on-page-no-change",t))},Le=async t=>{t&&M.value&&(M.value.itemsPerPage=t,E("on-items-perpage-change",t))},De=(t,r)=>{!l.rowClickable&&J.value||E("on-item-click",r,"view")},Ce=(t,r,e,p)=>{e?.options.clickable&&(ie(t),E("on-col-click",t,r,e,p))};return(t,r)=>(s(),m("div",{class:le(["row",{"content-limit":!t.fullWidth}])},[f("div",qt,[i(wt,null,{default:u(()=>[g(t.$slots,"headerCard",{},void 0,!0),i(ne,null,{default:u(()=>[i(_e,null,{default:u(()=>[i(He,null,{default:u(()=>[g(t.$slots,"title",{},()=>[t.title?(s(),m(v,{key:0},[i($,{name:t.icon},null,8,["name"]),k(" "+y(t.title),1)],64)):c("",!0)],!0)]),_:3}),f("div",Ft,[t.showSearchTextBox&&!F.value?(s(),d(ke,{key:0,onSubmit:Re},{default:u(()=>[i(he,{dense:"",outlined:"",rounded:"",clearable:"",style:{width:"350px"},modelValue:Z.value,"onUpdate:modelValue":r[0]||(r[0]=e=>Z.value=e),placeholder:a(n)("base.searchHelp3")},{prepend:u(()=>[i($,{name:a(se)},null,8,["name"])]),_:1},8,["modelValue","placeholder"])]),_:1})):c("",!0),g(t.$slots,"extraBeforeInnerToolbar",{},void 0,!0),O.value&&t.showNewBtn?(s(),d(N,{key:1,class:"q-ml-xs",flat:"",round:"",icon:a(be),onClick:r[1]||(r[1]=e=>t.$emit("on-new-form"))},{default:u(()=>[i(te,null,{default:u(()=>[k(y(a(n)("base.addNew")),1)]),_:1})]),_:1},8,["icon"])):c("",!0),t.showSearchBtn?(s(),d(N,{key:2,class:"q-ml-xs",flat:"",round:"",icon:a(se),onClick:r[2]||(r[2]=e=>F.value=!F.value)},{default:u(()=>[i(te,null,{default:u(()=>[k(y(a(n)("base.search")),1)]),_:1})]),_:1},8,["icon"])):c("",!0),t.showSort&&t.sort?(s(),d(At,{key:3,sort:t.sort,fields:Ne.value,onOnSortColumn:r[3]||(r[3]=e=>t.$emit("on-sort",e)),onOnSortMode:r[4]||(r[4]=e=>t.$emit("on-sort-mode",e))},null,8,["sort","fields"])):c("",!0),t.showFilter?(s(),d(a(R),{key:4,headers:t.headers},null,8,["headers"])):c("",!0),t.showThreeDot?(s(),d(N,{key:5,flat:"",round:"",dense:"",icon:a(xe)},{default:u(()=>[i(Ae,null,{default:u(()=>[i(Ee,{style:{"min-width":"200px"},dense:""},{default:u(()=>[O.value&&t.showNewBtn?j((s(),d(W,{key:0,clickable:"",onClick:r[5]||(r[5]=e=>t.$emit("on-new-form"))},{default:u(()=>[i(S,{avatar:""},{default:u(()=>[i($,{name:a(be)},null,8,["name"])]),_:1}),i(S,null,{default:u(()=>[k(y(a(n)("base.addNew")),1)]),_:1})]),_:1})),[[G]]):c("",!0),O.value&&t.showCheckbox?j((s(),d(W,{key:1,clickable:"",onClick:Ve},{default:u(()=>[i(S,{avatar:""},{default:u(()=>[i($,{name:a($e)},null,8,["name"])]),_:1}),i(S,null,{default:u(()=>[k(y(a(n)("base.deleteSeleted")),1)]),_:1})]),_:1})),[[G]]):c("",!0),t.showSearchBtn?j((s(),d(W,{key:2,clickable:"",onClick:r[6]||(r[6]=e=>F.value=!0)},{default:u(()=>[i(S,{avatar:""},{default:u(()=>[i($,{name:a(se)},null,8,["name"])]),_:1}),i(S,null,{default:u(()=>[k(y(a(n)("base.searchAdvance")),1)]),_:1})]),_:1})),[[G]]):c("",!0),i(ue),j((s(),d(W,{clickable:"",onClick:r[7]||(r[7]=e=>t.$emit("on-reload"))},{default:u(()=>[i(S,{avatar:""},{default:u(()=>[i($,{name:a(et)},null,8,["name"])]),_:1}),i(S,null,{default:u(()=>[k(y(a(n)("base.reload")),1)]),_:1})]),_:1})),[[G]])]),_:1})]),_:1})]),_:1},8,["icon"])):c("",!0),g(t.$slots,"extraInnerToolbar",{},void 0,!0)])]),_:3}),g(t.$slots,"extraToolbar",{},void 0,!0)]),_:3}),F.value?(s(),d(ne,{key:0,class:"q-mb-lg"},{default:u(()=>[i(tt,{flat:"",bordered:""},{default:u(()=>[i(ne,null,{default:u(()=>[f("div",Lt,y(a(n)("base.search")),1)]),_:1}),i(ke,{onSubmit:Ue,class:"q-pa-md"},{default:u(()=>[g(t.$slots,"topSearchExtra",{},void 0,!0),D.value.length>0?(s(),m(v,{key:0},[f("div",Dt,[g(t.$slots,"topInnerSearchExtra",{},void 0,!0),(s(!0),m(v,null,U(D.value,(e,p)=>(s(),m(v,{key:`advance-search-${p}`},[e.options?(s(),m("div",Ct,[f("div",Xt,[e.options?.searchType==a(I).TEXT||e.options?.searchType==a(I).NUMBER?(s(),d(he,{key:0,outlined:"",dense:"",modelValue:e.options.searchModel,"onUpdate:modelValue":o=>e.options.searchModel=o,type:e.options?.searchType==a(I).TEXT?"text":"number",label:e.translateLabel==null||e.translateLabel?a(n)(e.label):e.label,clearable:"",style:{width:"100%"}},{before:u(()=>[e.options.searchOperationReadonly?c("",!0):(s(),d(ut,{key:0,dense:"",filled:"",label:e.translateLabel==null||e.translateLabel?a(n)(e.label):e.label,class:"q-mx-lg",modelValue:e.options.searchOperation,"onUpdate:modelValue":o=>e.options.searchOperation=o,options:a(w),"option-value":"value","option-label":"text","emit-value":"","map-options":"",readonly:e.options.searchOperationReadonly,style:{"min-width":"150px"},"dropdown-icon":a(we)},null,8,["label","modelValue","onUpdate:modelValue","options","readonly","dropdown-icon"]))]),_:2},1032,["modelValue","onUpdate:modelValue","type","label"])):e.options?.searchType==a(I).BOOLEAN?(s(),d(a(z),{key:1,"use-checkbox":"",useLabelTitle:"",label:e.translateLabel==null||e.translateLabel?a(n)(e.label):e.label,modelValue:e.options.searchModel,"onUpdate:modelValue":o=>e.options.searchModel=o},null,8,["label","modelValue","onUpdate:modelValue"])):e.options?.searchType==a(I).DATE?(s(),m(v,{key:2},[e.options.searchModel!=null?(s(),d(a(h),{key:0,dense:"",modelValue:e.options.searchModel,"onUpdate:modelValue":o=>e.options.searchModel=o,label:e.translateLabel==null||e.translateLabel?a(n)(e.label):e.label},null,8,["modelValue","onUpdate:modelValue","label"])):c("",!0)],64)):e.options?.searchType==a(I).OPTIONS&&e.options?.selectOption?(s(),d(a(K),{key:3,class:"q-pl-lg full-width",modelValue:e.options.searchModel,"onUpdate:modelValue":o=>e.options.searchModel=o,"can-filter":"",clearable:"",items:e.options?.selectOption.items,multiple:e.options?.selectOption.multiple||!1,label:e.translateLabel==null||e.translateLabel?a(n)(e.label):e.label},null,8,["modelValue","onUpdate:modelValue","items","multiple","label"])):c("",!0)])])):c("",!0)],64))),128)),g(t.$slots,"belowInnerSearchExtra",{},void 0,!0)]),g(t.$slots,"belowSearchExtra",{},void 0,!0),i(ue),i(ot,{align:"center"},{default:u(()=>[i(N,{type:"submit",flat:"",icon:a(se),label:a(n)("base.okay")},null,8,["icon","label"]),i(N,{flat:"",icon:a(nt),onClick:r[8]||(r[8]=e=>F.value=!1),label:a(n)("base.close")},null,8,["icon","label"]),i(N,{flat:"",icon:a(st),onClick:ze,label:a(n)("base.clear")},null,8,["icon","label"])]),_:1})],64)):c("",!0)]),_:3})]),_:3})]),_:3})):c("",!0),!t.fristLoad||t.loading?(s(),d(Rt,{key:1})):g(t.$slots,"table",{key:2},()=>[t.list.length>0?(s(),d(Te,{key:0,separator:t.tableSeperator,flat:"",dense:"",bordered:"",class:"crud-table"},{default:u(()=>[f("thead",null,[g(t.$slots,"theader",{},()=>[f("tr",null,[O.value&&t.showCheckbox?(s(),m("th",jt,[i(ge,{modelValue:oe.value,"onUpdate:modelValue":r[9]||(r[9]=e=>oe.value=e),onClick:Se},{default:u(()=>[i(te,null,{default:u(()=>[k(y(oe.value?a(n)("base.deselectAll"):a(n)("base.selectAll")),1)]),_:1})]),_:1},8,["modelValue"])])):c("",!0),(s(!0),m(v,null,U(de.value,(e,p)=>(s(),m(v,{key:`tblHeader-${p}`},[e.type===a(A).BASE_TOOL?(s(),m(v,{key:0},[O.value||J.value?(s(),m("th",Wt,y(e.translateLabel==null||e.translateLabel?a(n)(e.label):e.label),1)):c("",!0)],64)):(s(),m("th",Gt,[e.options&&e.options.sortable?(s(),d(N,{key:0,class:"btn--no-hover",onClick:o=>t.$emit("on-sort",e.options.sortColunm?e.options.sortColunm:e.column),flat:"","no-caps":""},{default:u(()=>[t.sort&&t.sort.column==e.options.sortColunm||t.sort&&t.sort.column==e.column?(s(),d($,{key:0,name:t.sort.mode=="desc"?a(rt):a(dt),class:"q-mr-xs",size:"18px"},null,8,["name"])):c("",!0),k(" "+y(e.translateLabel==null||e.translateLabel?a(n)(e.label):e.label)+" ",1),i($,{class:"q-ml-xs",size:"12px",name:a(we)},null,8,["name"])]),_:2},1032,["onClick"])):(s(),m(v,{key:1},[k(y(e.translateLabel==null||e.translateLabel?a(n)(e.label):e.label),1)],64))]))],64))),128))])],!0)]),f("tbody",null,[g(t.$slots,"tbody",at(lt({list:t.list,fillableHeaders:de.value})),()=>[(s(!0),m(v,null,U(t.list,(e,p)=>(s(),m("tr",{key:`item-tr-${p}`,class:le({"cursor-pointer":t.rowClickable&&J.value}),onClick:o=>De(o,p)},[O.value&&t.showCheckbox?(s(),m("td",Zt,[i(ge,{modelValue:L.value,"onUpdate:modelValue":r[10]||(r[10]=o=>L.value=o),val:e.id},null,8,["modelValue","val"])])):c("",!0),(s(!0),m(v,null,U(de.value,(o,C)=>(s(),m(v,{key:`item-body-${C}`},[o.options?(s(),m(v,{key:0},[o.type===a(A).BASE_TOOL?(s(),m("td",Jt,[g(t.$slots,"baseTool",Be({ref_for:!0},{item:e,index:p}),()=>[O.value||J.value?(s(),d(Qt,{key:0,"is-have-manage-permission":O.value,"is-have-view-permission":J.value,"edit-button":o.options&&o.options.editButton||!1,"copy-button":o.options&&o.options.copyButton||!1,"delete-button":o.options&&o.options.deleteButton||!1,onOnItemClick:me=>t.$emit("on-item-click",p,me),onOnItemCopy:()=>t.$emit("on-item-copy",p),onOnItemDelete:()=>ve(p,!0)},null,8,["is-have-manage-permission","is-have-view-permission","edit-button","copy-button","delete-button","onOnItemClick","onOnItemCopy","onOnItemDelete"])):c("",!0)],!0),g(t.$slots,"additionalBaseTool",Be({ref_for:!0},{item:e,index:p}),void 0,!0)])):(s(),m("td",{key:1,style:ae({maxWidth:o.options&&o.options.maxWidth?o.options.maxWidth:""})},[f("div",{class:le(["row",{"justify-center":o.options&&o.options.align=="center","justify-start":o.options&&o.options.align=="left","justify-end":o.options&&o.options.align=="right","long-text-break":o.options&&o.options.maxWidth}])},[f("div",{style:{width:"fit-content"},onClick:me=>Ce(me,p,o,b(o.column,p))},[o.type===a(A).TEXT?(s(),m(v,{key:0},[o.options&&o.options.toolTip?(s(),m("span",_t,[k(y(o.column?b(o.column,p):"")+" ",1),i(te,null,{default:u(()=>[k(y(o.column?b(o.column,p):""),1)]),_:2},1024)])):(s(),m(v,{key:1},[k(y(o.column?b(o.column,p):""),1)],64))],64)):o.type===a(A).FUNCTION&&o.options&&o.options.func?(s(),m(v,{key:1},[o.column&&b(o.column,p)!=null?(s(),m(v,{key:0},[k(y(o.options.func(b(o.column,p))),1)],64)):c("",!0)],64)):o.type===a(A).NUMBER_FORMAT?(s(),m(v,{key:2},[k(y(o.column?b(o.column,p).toLocaleString():""),1)],64)):o.type===a(A).DATE?(s(),m(v,{key:3},[k(y(o.column?Qe(b(o.column,p)):""),1)],64)):o.type===a(A).DATE_TIME?(s(),m(v,{key:4},[k(y(o.column?qe(b(o.column,p)):""),1)],64)):o.type===a(A).STATUS?(s(),d($,{key:5,size:"sm",color:o.column&&Oe(o.column,p)?"positive":"grey-4",name:a(mt)},null,8,["color","name"])):o.type===a(A).AVATAR?(s(),m(v,{key:6},[o.column&&b(o.column,p)?(s(),d(ct,{key:0,rounded:o.options.rounded,square:o.options.square,size:o.options.size?o.options.size:"36px"},{default:u(()=>[o.column&&b(o.column,p)?(s(),d(ce,{key:0,src:b(o.column,p),alt:"item-img-"+C,ratio:1},null,8,["src","alt"])):(s(),m("img",{key:1,src:"/avatar_default.png",alt:"item-img-"+C},null,8,Ht))]),_:2},1032,["rounded","square","size"])):c("",!0)],64)):o.type===a(A).IMAGE?(s(),m(v,{key:7},[o.column&&b(o.column,p)?(s(),d(ce,{key:0,src:b(o.column,p),"spinner-color":"white",class:"bg-grey-8",ratio:4/3,style:ae(o.options.size?`width: ${o.options.size}; height: ${o.options.size}`:"width:55px;height:55px")},null,8,["src","style"])):(s(),d(ce,{key:1,src:"/images/no_picture_thumb.jpg","spinner-color":"white",class:"bg-grey-8",ratio:4/3,style:ae(o.options.size?`width: ${o.options.size}; height: ${o.options.size}`:"width:55px;height:55px")},null,8,["style"]))],64)):o.type===a(A).ICON?(s(),m(v,{key:8},[o.column?(s(),d($,{key:0,name:b(o.column,p)},null,8,["name"])):c("",!0)],64)):c("",!0)],8,Yt)],2)],4))],64)):c("",!0)],64))),128))],10,Kt))),128))],!0)])]),_:3},8,["separator"])):(s(),d(ne,{key:1,class:"text-center"},{default:u(()=>[i(a(P),{status:"empty",description:a(n)("error.dataNotfound")},null,8,["description"])]),_:1}))],!0),g(t.$slots,"paging",{},()=>[M.value&&t.showPaging&&M.value.totalPages>0?(s(),d(gt,{key:0,modelValue:M.value,"onUpdate:modelValue":r[11]||(r[11]=e=>M.value=e),"boundary-numbers":!1,"onUpdate:current":Fe,"onUpdate:perPage":Le},null,8,["modelValue"])):c("",!0)],!0)]),_:3})])],2))}}),uo=Bt(xt,[["__scopeId","data-v-e0545b86"]]);export{A as C,I,uo as a};
