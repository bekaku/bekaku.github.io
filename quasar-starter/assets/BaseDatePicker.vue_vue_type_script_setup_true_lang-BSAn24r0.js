import{d as j,ab as w,ac as c,k as y,j as E,s as W,c as f,o as s,bt as Y,K as r,w as u,a as P,bd as U,e as p,J as T,u as z,bu as I,E as J,bv as K,O as M,R as v,F as B,bw as N,S as C,r as O,bx as X,by as G,a1 as H,N as A,bz as L,bA as Z}from"./index-DApiqAPi.js";import{C as Q}from"./ClosePopup-8FRB9H3E.js";const x={class:"row items-center justify-end"},_={class:"row items-center justify-end"},q=j({__name:"BaseDate",props:w({autoClose:{type:Boolean,default:!0},label:{},minDate:{},maxDate:{},dateList:{default:()=>[]},color:{},range:{type:Boolean,default:!1},title:{},subtitle:{}},{modelValue:{default:null},modelModifiers:{},start:{default:null},startModifiers:{},end:{default:null},endModifiers:{}}),emits:w(["on-update","on-update-range","on-close"],["update:modelValue","update:start","update:end"]),setup(t,{emit:S}){const n=c(t,"modelValue"),l=c(t,"start"),o=c(t,"end"),D=y({from:l.value,to:o.value}),k=y(null),m=S,g=t.dateList?.map(a=>a.replaceAll("-","/")),{t:i,locale:F}=E(),V=W(()=>F.value?{days:i("date.days").split("_"),daysShort:i("date.dayShorts").split("_"),months:i("date.months").split("_"),monthsShort:i("date.monthShorts").split("_"),firstDayOfWeek:1}:void 0),h=a=>t.minDate&&t.maxDate?a>=t.minDate.replaceAll("-","/")&&a<=t.maxDate.replaceAll("-","/"):t.minDate?a>=t.minDate.replaceAll("-","/"):t.maxDate?a<=t.maxDate.replaceAll("-","/"):!0,R=a=>{k.value&&t.autoClose&&k.value.hide(),m("on-update",a)},b=a=>{a&&(l.value=a?.from?a.from:null,o.value=a?.to?a.to:null),m("on-update-range",a)},e=()=>{m("on-close")};return(a,d)=>a.range?(s(),f(Y,{key:1,modelValue:D.value,"onUpdate:modelValue":[d[1]||(d[1]=$=>D.value=$),b],range:"",title:a.title,subtitle:a.subtitle,mask:"YYYY-MM-DD",color:a.color,"today-btn":"","first-day-of-week":0,locale:V.value,options:a.dateList.length>0?r(g):h},{default:u(()=>[P("div",_,[U(p(T,{label:r(i)("base.close"),color:a.color,flat:"",onClick:e},null,8,["label","color"]),[[Q]])])]),_:1},8,["modelValue","title","subtitle","color","locale","options"])):(s(),f(Y,{key:0,modelValue:n.value,"onUpdate:modelValue":[d[0]||(d[0]=$=>n.value=$),R],title:a.title,subtitle:a.subtitle,mask:"YYYY-MM-DD",color:a.color,"today-btn":"","first-day-of-week":0,locale:V.value,options:a.dateList.length>0?r(g):h},{default:u(()=>[P("div",x,[U(p(T,{label:r(i)("base.close"),color:a.color,flat:"",onClick:e},null,8,["label","color"]),[[Q]])])]),_:1},8,["modelValue","title","subtitle","color","locale","options"]))}}),ee={key:0,class:"text-negative"},ae={class:"self-center full-width no-outline",tabindex:"0"},te={class:"text-negative"},se=j({__name:"BaseDatePicker",props:w({autoClose:{type:Boolean,default:!0},label:{},minDate:{},maxDate:{},dateList:{default:()=>[]},dense:{type:Boolean,default:!0},disable:{type:Boolean,default:!1},required:{type:Boolean,default:!1},color:{},editMode:{type:Boolean,default:!0},range:{type:Boolean,default:!1},showFormatDate:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},formatDateText:{default:()=>Z},title:{},subtitle:{}},{modelValue:{default:null},modelModifiers:{},start:{default:null},startModifiers:{},end:{default:null},endModifiers:{}}),emits:w(["on-update","on-update-range"],["update:modelValue","update:start","update:end"]),setup(t,{emit:S}){const n=c(t,"modelValue"),l=c(t,"start"),o=c(t,"end"),D=y({from:l.value,to:o.value}),{appFormatDate:k}=z(),m=y(null),g=y(null),i=S,{t:F}=E(),V=()=>{n.value="",l.value="",o.value="",D.value=null},h=e=>{m.value&&t.autoClose&&m.value.hide(),i("on-update",e)},R=e=>{i("on-update-range",e)},b=e=>{if(e)return k(e,t.formatDateText)};return(e,a)=>(s(),f(I,J(e.$attrs,{outlined:e.editMode,borderless:!e.editMode,"bottom-slots":"",label:e.label,"stack-label":"",dense:e.dense,disable:e.disable,class:"cursor-pointer"}),K({label:u(()=>[O(e.$slots,"label",{},()=>[A(M(e.label)+" ",1),e.required?(s(),v("span",ee,"*")):B("",!0)])]),control:u(()=>[P("div",ae,[e.showFormatDate?(s(),v(C,{key:1},[A(M(e.range?`${l.value?b(l.value):""} - ${o.value?b(o.value):""}`:b(n.value)),1)],64)):(s(),v(C,{key:0},[A(M(e.range?`${l.value?r(L)(l.value):""}-${o.value?r(L)(o.value):""}`:r(L)(n.value)),1)],64))])]),prepend:u(()=>[p(H,{name:r(G),color:e.color},null,8,["name","color"])]),after:u(()=>[O(e.$slots,"after",{},()=>[e.clearable&&(n.value||l.value&&o.value)&&e.editMode?(s(),f(T,{key:0,flat:"",round:"",icon:r(X),onClick:V},null,8,["icon"])):B("",!0)])]),default:u(()=>[e.range?(s(),v(C,{key:1},[e.editMode?(s(),f(N,{key:0,ref_key:"dateRangeProxy",ref:g,"transition-show":"scale","transition-hide":"scale"},{default:u(()=>[p(q,{start:l.value,"onUpdate:start":a[1]||(a[1]=d=>l.value=d),end:o.value,"onUpdate:end":a[2]||(a[2]=d=>o.value=d),title:e.title,subtitle:e.subtitle,range:"",color:e.color,onOnUpdateRange:R},null,8,["start","end","title","subtitle","color"])]),_:1},512)):B("",!0)],64)):(s(),v(C,{key:0},[e.editMode?(s(),f(N,{key:0,ref_key:"dateProxy",ref:m,"transition-show":"scale","transition-hide":"scale"},{default:u(()=>[p(q,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=d=>n.value=d),title:e.title,subtitle:e.subtitle,"min-date":e.minDate,"max-date":e.maxDate,"date-list":e.dateList,color:e.color,onOnUpdate:h},null,8,["modelValue","title","subtitle","min-date","max-date","date-list","color"])]),_:1},512)):B("",!0)],64))]),_:2},[e.required&&!n.value&&e.editMode&&!e.disable?{name:"hint",fn:u(()=>[P("span",te,M(r(F)("error.validateRequireChoose")),1)]),key:"0"}:void 0]),1040,["outlined","borderless","label","dense","disable"]))}});export{se as _,q as a};
