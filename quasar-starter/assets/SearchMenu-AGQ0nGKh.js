import{d as M,ai as k,cz as _,j as B,aj as x,k as r,b5 as C,cA as L,c as I,o as y,w as p,e as f,T as A,z as S}from"./index-DLAlP7tE.js";import{_ as $}from"./BaseDialog.vue_vue_type_script_setup_true_lang-C0-5gNPB.js";import{_ as j}from"./BaseCommandPalette.vue_vue_type_script_setup_true_lang-BeAa0g3t.js";import{B as z}from"./BaseButton-C-l2QF7T.js";import"./Ellipsis-643mrh6r.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./BaseCard-ClBFMLe-.js";import"./BaseInput.vue_vue_type_script_setup_true_lang-JQKWZZ7I.js";import"./BaseAvatar-ByMUVXc6.js";import"./BaseImage-tpLvwKJ1.js";import"./FileManagerService-CKlyxv3G.js";import"./useAxios-DN4MWJg7.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./BaseSpinner-CQNyfW0y.js";import"./BaseScrollArea.vue_vue_type_script_setup_true_lang-CDNUrqg-.js";import"./BaseLabelValueItem.vue_vue_type_script_setup_true_lang-PHu09pBb.js";import"./BaseResult.vue_vue_type_script_setup_true_lang-BfUlOw5B.js";const Y=M({__name:"SearchMenu",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:k(["on-click"],["update:modelValue"]),setup(b,{emit:v}){const{drawers:h}=_(),{t:n}=B(),i=x(b,"modelValue"),d=r(),m=r(!0),s=r([]),V=v;C(async()=>{await g(),m.value=!1});const g=()=>{const t=h.concat(L);return new Promise(l=>{for(const o of t)if(o.children!=null&&o.children.length>0)for(const e of o.children)if(e.children!=null&&e.children.length>0){const c={label:e.label&&e.translateLabel!==!1?n(e.label):e.label||"",description:e.description,icon:e.icon,children:[]},u=[];for(const a of e.children)u.push({label:a.label&&a.translateLabel!==!1?n(a.label):a.label||"",description:a.description,icon:a.icon,value:a.to});c.children=u,s.value.push(c)}else s.value.push({label:e.label&&e.translateLabel!==!1?n(e.label):e.label||"",description:e.description,icon:e.icon,value:e.to});l(!0)})},w=t=>{t!=null&&V("on-click",t)};return(t,l)=>(y(),I($,{modelValue:i.value,"onUpdate:modelValue":l[2]||(l[2]=o=>i.value=o),"show-toolbar":!1,padding:!1,"dialog-style":"width: 756px; max-width: 80vw;"},{default:p(()=>[f(j,{modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=o=>d.value=o),loading:m.value,bordered:!1,class:"q-pt-sm",multiple:!1,items:s.value,onOnClick:w},{inputAppend:p(()=>[f(z,{round:"",flat:"",icon:A(S),onClick:l[0]||(l[0]=o=>i.value=!1)},null,8,["icon"])]),_:1},8,["modelValue","loading","items"])]),_:1},8,["modelValue"]))}});export{Y as default};
