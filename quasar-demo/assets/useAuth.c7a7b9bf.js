import{C as f,aC as p,A as k,aD as c,aE as g,aF as v,aG as y,aH as Z,P as O}from"./index.d1ef8089.js";import{u as N}from"./useBase.379f5ea1.js";import{u as S}from"./useLang.15945f01.js";import{u as Y}from"./useAxios.aa46c4fc.js";var z=()=>(Y(),{singin:async o=>(console.log("singin",o),new Promise(t=>{setTimeout(()=>{t({authenticationToken:"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhNWFhNDEzZS05Mzc0LTRmZTktOTM0Yi1mYmRiYTQ5OWVlNWUiLCJpYXQiOjE2NTM0NDY3MzksImV4cCI6MTY4NDk4MjczOX0.mGosG2ZZrlj7qZQaZAAQ788r11WbVYZvZ4sI7L0G4wA",expiresAt:"2023-05-25T02:45:39.725+00:00",refreshToken:"a5aa413e-9374-4fe9-934b-fbdba499ee5e"})},1500)})),singoutToServer:async o=>(console.log("singoutToServer",o),new Promise(t=>{setTimeout(()=>{t({status:"OK",message:"Logout successful",timestamp:"2022-05-25 10:30:45"})},1500)})),refreshToken:async o=>(console.log("refreshToken",o),new Promise(t=>{setTimeout(()=>{t({authenticationToken:"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhNWFhNDEzZS05Mzc0LTRmZTktOTM0Yi1mYmRiYTQ5OWVlNWUiLCJpYXQiOjE2NTM0NDY3MzksImV4cCI6MTY4NDk4MjczOX0.mGosG2ZZrlj7qZQaZAAQ788r11WbVYZvZ4sI7L0G4wA",expiresAt:"2023-05-25T02:45:39.725+00:00",refreshToken:"a5aa413e-9374-4fe9-934b-fbdba499ee5e"})},1500)})),removeAccessTokenSession:async o=>(console.log("removeAccessTokenSession",o),new Promise(t=>{setTimeout(()=>{t({status:"OK",message:"removeAccessTokenSession successful",timestamp:"2022-05-25 10:30:45"})},1500)}))}),W=()=>{const s=O,n=f(),{WeeConfirm:i,WeeLoader:r}=N(),{t:o}=S(),{singoutToServer:t}=z(),m=()=>{},T=e=>s&&s.get(e)||null,A=e=>{e!=null&&n.setAuthen(e)},h=async()=>{if(!s)return;await i(o("app.monogram"),o("helper.logoutConfirm"))&&(r(),await a(),r(!1),u())},l=e=>{p(s,e)},a=async()=>{var e;await t({refreshToken:{refreshToken:T(c),email:(e=n.auth)==null?void 0:e.email}})},u=(e=!0)=>{s.remove(k),s.remove(c),s.remove(g),s.remove(v),y.remove(Z),n.logout(),e&&window.location.replace("/auth/login")};return{initAppAuthen:m,signOut:h,setAuthen:A,destroyAuthDataAndRedirect:u,setAuthenticationCookies:l,logoutToServer:a}};export{z as A,W as u};
