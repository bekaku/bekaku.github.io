import{C as k,aC as p,A as g,aD as c,aE as v,aF as y,aG as Z,aH as O,P as N}from"./index.1d4abc77.js";import{u as S}from"./useBase.463f6af4.js";import{u as Y}from"./useLang.abf81c8c.js";import{u as W}from"./useAxios.8cb5c3d9.js";var z=()=>(W(),{singin:async t=>(console.log("singin",t),new Promise(s=>{setTimeout(()=>{s({authenticationToken:"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhNWFhNDEzZS05Mzc0LTRmZTktOTM0Yi1mYmRiYTQ5OWVlNWUiLCJpYXQiOjE2NTM0NDY3MzksImV4cCI6MTY4NDk4MjczOX0.mGosG2ZZrlj7qZQaZAAQ788r11WbVYZvZ4sI7L0G4wA",expiresAt:"2023-05-25T02:45:39.725+00:00",refreshToken:"a5aa413e-9374-4fe9-934b-fbdba499ee5e"})},1500)})),singoutToServer:async t=>(console.log("singoutToServer",t),new Promise(s=>{setTimeout(()=>{s({status:"OK",message:"Logout successful",timestamp:"2022-05-25 10:30:45"})},1500)})),refreshToken:async t=>(console.log("refreshToken",t),new Promise(s=>{setTimeout(()=>{s({authenticationToken:"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhNWFhNDEzZS05Mzc0LTRmZTktOTM0Yi1mYmRiYTQ5OWVlNWUiLCJpYXQiOjE2NTM0NDY3MzksImV4cCI6MTY4NDk4MjczOX0.mGosG2ZZrlj7qZQaZAAQ788r11WbVYZvZ4sI7L0G4wA",expiresAt:"2023-05-25T02:45:39.725+00:00",refreshToken:"a5aa413e-9374-4fe9-934b-fbdba499ee5e"})},1500)})),removeAccessTokenSession:async t=>(console.log("removeAccessTokenSession",t),new Promise(s=>{setTimeout(()=>{s({status:"OK",message:"removeAccessTokenSession successful",timestamp:"2022-05-25 10:30:45"})},1500)}))}),b=()=>{const o=N,n=k(),{WeeConfirm:i,WeeLoader:r,WeeGoTo:t}=S(),{t:s}=Y(),{singoutToServer:m}=z(),T=()=>{},A=e=>o&&o.get(e)||null,h=e=>{e!=null&&n.setAuthen(e)},l=async()=>{if(!o)return;await i(s("app.monogram"),s("helper.logoutConfirm"))&&(r(),await a(),r(!1),u())},f=e=>{p(o,e)},a=async()=>{var e;await m({refreshToken:{refreshToken:A(c),email:(e=n.auth)==null?void 0:e.email}})},u=(e=!0)=>{o.remove(g),o.remove(c),o.remove(v),o.remove(y),Z.remove(O),n.logout(),e&&t("/auth/login",!0)};return{initAppAuthen:T,signOut:l,setAuthen:h,destroyAuthDataAndRedirect:u,setAuthenticationCookies:f,logoutToServer:a}};export{z as A,b as u};
