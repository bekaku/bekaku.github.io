import{C as f,aC as p,A as k,aD as c,aE as g,aF as v,aG as y,aH as Z,aI as O,P as N}from"./index.0ba8118b.js";import{u as S}from"./useBase.869579d1.js";import{u as Y}from"./useLang.6b94b428.js";import{u as I}from"./useAxios.35698bf5.js";var z=()=>(I(),{singin:async s=>(console.log("singin",s),new Promise(t=>{setTimeout(()=>{t({authenticationToken:"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhNWFhNDEzZS05Mzc0LTRmZTktOTM0Yi1mYmRiYTQ5OWVlNWUiLCJpYXQiOjE2NTM0NDY3MzksImV4cCI6MTY4NDk4MjczOX0.mGosG2ZZrlj7qZQaZAAQ788r11WbVYZvZ4sI7L0G4wA",expiresAt:"2023-05-25T02:45:39.725+00:00",refreshToken:"a5aa413e-9374-4fe9-934b-fbdba499ee5e"})},1500)})),singoutToServer:async s=>(console.log("singoutToServer",s),new Promise(t=>{setTimeout(()=>{t({status:"OK",message:"Logout successful",timestamp:"2022-05-25 10:30:45"})},1500)})),refreshToken:async s=>(console.log("refreshToken",s),new Promise(t=>{setTimeout(()=>{t({authenticationToken:"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhNWFhNDEzZS05Mzc0LTRmZTktOTM0Yi1mYmRiYTQ5OWVlNWUiLCJpYXQiOjE2NTM0NDY3MzksImV4cCI6MTY4NDk4MjczOX0.mGosG2ZZrlj7qZQaZAAQ788r11WbVYZvZ4sI7L0G4wA",expiresAt:"2023-05-25T02:45:39.725+00:00",refreshToken:"a5aa413e-9374-4fe9-934b-fbdba499ee5e"})},1500)})),removeAccessTokenSession:async s=>(console.log("removeAccessTokenSession",s),new Promise(t=>{setTimeout(()=>{t({status:"OK",message:"removeAccessTokenSession successful",timestamp:"2022-05-25 10:30:45"})},1500)}))}),w=()=>{const o=N,n=f(),{WeeConfirm:i,WeeLoader:r}=S(),{t:s}=Y(),{singoutToServer:t}=z(),m=()=>{},T=e=>o&&o.get(e)||null,A=e=>{e!=null&&n.setAuthen(e)},h=async()=>{if(!o)return;await i(s("app.monogram"),s("helper.logoutConfirm"))&&(r(),await a(),r(!1),u())},l=e=>{p(o,e)},a=async()=>{var e;await t({refreshToken:{refreshToken:T(c),email:(e=n.auth)==null?void 0:e.email}})},u=(e=!0)=>{o.remove(k),o.remove(c),o.remove(g),o.remove(v),y.remove(Z),n.logout(),e&&window.location.replace(`${O}/auth/login`)};return{initAppAuthen:m,signOut:h,setAuthen:A,destroyAuthDataAndRedirect:u,setAuthenticationCookies:l,logoutToServer:a}};export{z as A,w as u};
