import{d as S,a as g,au as h,r as _,T as y,f,v as E,X as x,_ as V,B as Q,C as q,E as o,I as r,R as w,F as t,bf as B,$ as C,bg as P,af as I,by as U,M as k}from"./index-Bhd6CteR.js";import{U as A}from"./UserService-ByAO6oC_.js";import{u as F}from"./useValidation-Cpf-UC-e.js";import"./useAxios-wGJYVDjS.js";const L=S({__name:"SettingEmail",setup(p,{expose:l}){l();const{t:u}=g(),e=h(),{updateEmail:i}=A(),{required:m,requireEmail:n}=F(),a=_({email:""}),s=_(!1);y(()=>{e.auth&&e.auth.email&&(a.value.email=e.auth.email)});const v=f(()=>a.value.email&&c.value),c=f(()=>a.value.email?E(a.value.email):!1),d={t:u,authenStore:e,updateEmail:i,required:m,requireEmail:n,entity:a,loading:s,canSubmit:v,emailValid:c,onSubmit:async()=>{s.value=!0;const b=await i(a.value);s.value=!1,b&&b.status=="OK"&&e.auth&&(e.auth.email=a.value.email)},get biPencil(){return x}};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),M={class:"text-h6"},N={class:"row"},O={class:"col-12 col-md-6 q-pa-md"};function j(p,l,u,e,i,m){return Q(),q(k,null,{default:o(()=>[r("div",M,w(e.t("base.emailEdit")),1),t(B,{onSubmit:e.onSubmit},{default:o(()=>[r("div",N,[r("div",O,[t(C,{outlined:"",modelValue:e.entity.email,"onUpdate:modelValue":l[0]||(l[0]=n=>e.entity.email=n),label:e.t("base.emailEdit"),rules:[e.required,e.requireEmail],type:"email"},null,8,["modelValue","label","rules"])])]),t(P,{align:"right"},{default:o(()=>[t(I,{disable:!e.canSubmit,unelevated:"",color:"primary",icon:e.biPencil,label:e.t("base.edit"),type:"submit"},null,8,["disable","icon","label"])]),_:1})]),_:1}),t(U,{showing:e.loading,label:e.t("base.pleaseWait"),"label-class":"text-primary"},null,8,["showing","label"])]),_:1})}const X=V(L,[["render",j],["__file","SettingEmail.vue"]]);export{X as default};
