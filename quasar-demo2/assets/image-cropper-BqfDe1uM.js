import{d as y,a as w,r as m,a5 as U,a6 as A,_ as Q,B as t,C as n,E as o,L as F,F as a,M as C,a7 as k,a8 as T,O as g,a9 as S,aa as B,I as l,ab as O,ac as P,ad as q,ae as u,af as v,ag as b,R as x,ah as f,H as D,ai as N,S as V}from"./index-CyhFmzYZ.js";import{I as j}from"./ImageCropper-B1z487Vu.js";import{A as z}from"./AppImage-CzsCU70G.js";import{u as E}from"./useAppMeta-BmZoUeNp.js";import{g as L}from"./FileManagerService-CUXv8rAz.js";import"./QBar-C-nLH9c0.js";import"./use-meta-DW2FrCPJ.js";import"./useAxios-C7u6lCW9.js";import"./_commonjsHelpers-Cpj98o6Y.js";const M=y({__name:"image-cropper",setup(h,{expose:r}){r();const{t:c}=w(),{setTitle:e}=E();e(`Image Cropper | ${c("app.name")}`);const p=m(!1),s=m(),i=m(),_={t:c,setTitle:e,showImageCroper:p,cropedUrl:s,cropedFile:i,onCloseImageCropper:()=>{p.value=!1},onDeleteFile:()=>{s.value=void 0,i.value=void 0},onCropImage:async d=>{console.log("onCropImage",d);const I=await L(d);I&&(s.value=I),i.value=d},ImageCropper:j,AppImage:z,get biPencilFill(){return U},get biTrash(){return A}};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),H={class:"row"},R={class:"col-12 col-md-4"},G={class:"col-12 col-md-8 q-pa-md"},J={class:"q-gutter-sm"};function K(h,r,c,e,p,s){return t(),n(F,{padding:""},{default:o(()=>[a(V,{flat:"",bordered:"",class:"content-limit"},{default:o(()=>[a(C,null,{default:o(()=>[a(k,null,{default:o(()=>[a(T,null,{default:o(()=>r[1]||(r[1]=[g(" Image Cropper ")])),_:1}),a(S)]),_:1}),a(B)]),_:1}),a(C,null,{default:o(()=>[l("div",H,[l("div",R,[a(O,null,{default:o(()=>[a(P,{avatar:"",top:""},{default:o(()=>[a(q,{size:"75px",rounded:""},{default:o(()=>[e.cropedUrl?(t(),n(u,{key:0,"spinner-color":"white",src:e.cropedUrl},null,8,["src"])):(t(),n(u,{key:1,"spinner-color":"white",src:"/quasar-starter-template/images/no_picture_thumb.jpg"})),a(v,{color:"primary",onClick:r[0]||(r[0]=i=>e.showImageCroper=!0),round:"",size:"sm",unelevated:"",style:{left:"50px"},class:"absolute-top",icon:e.biPencilFill},{default:o(()=>[a(b,null,{default:o(()=>[g(x(e.t("base.changeAvatar")),1)]),_:1})]),_:1},8,["icon"]),e.cropedFile!=null?(t(),n(v,{key:2,color:"negative",onClick:e.onDeleteFile,round:"",size:"sm",unelevated:"",style:{left:"100px"},class:"absolute-top",icon:e.biTrash},{default:o(()=>[a(b,null,{default:o(()=>[g(x(e.t("base.delete")),1)]),_:1})]),_:1},8,["icon"])):f("",!0)]),_:1})]),_:1})]),_:1})]),l("div",G,[l("div",J,[e.cropedUrl==null?(t(),n(u,{key:0,"spinner-color":"white",src:"/quasar-starter-template/images/no_picture.jpg"})):f("",!0),e.cropedUrl?(t(),D(N,{key:1},[a(e.AppImage,{src:e.cropedUrl,ratio:1,alt:"1",style:{height:"250px","max-width":"250px"}},null,8,["src"]),a(e.AppImage,{src:e.cropedUrl,ratio:3/4,alt:"3/4",style:{height:"250px","max-width":"250px"}},null,8,["src"]),a(e.AppImage,{src:e.cropedUrl,ratio:16/9,alt:"16/9",style:{height:"250px","max-width":"250px"}},null,8,["src"]),r[2]||(r[2]=l("p",null,"cover",-1)),a(e.AppImage,{src:e.cropedUrl,fit:"cover",alt:"contain"},null,8,["src"]),r[3]||(r[3]=l("p",null,"contain",-1)),a(e.AppImage,{src:e.cropedUrl,fit:"contain",alt:"contain"},null,8,["src"]),r[4]||(r[4]=l("p",null,"fill",-1)),a(e.AppImage,{src:e.cropedUrl,fit:"fill",alt:"fill"},null,8,["src"]),r[5]||(r[5]=l("p",null,"scale-down",-1)),a(e.AppImage,{src:e.cropedUrl,fit:"scale-down","image-bg":""},null,8,["src"])],64)):f("",!0)])])])]),_:1})]),_:1}),a(e.ImageCropper,{title:e.t("cropAvatar"),dialog:e.showImageCroper,onOnClose:e.onCloseImageCropper,onOnOkay:e.onCropImage},null,8,["title","dialog"])]),_:1})}const se=Q(M,[["render",K],["__file","image-cropper.vue"]]);export{se as default};
