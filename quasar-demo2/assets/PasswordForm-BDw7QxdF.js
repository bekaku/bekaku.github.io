const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AppAlert-BpNfSFzF.js","assets/index-Cd3HZUlj.js","assets/index-HNifYG8Q.css"])))=>i.map(i=>d[i]);
import{d as M,aF as v,a as q,r as _,aG as c,l as S,aK as D,be as Q,bz as N,bf as I,bg as U,Y as T,Z as O,_ as j,B as i,C as u,E as n,F as a,bh as z,M as k,I as m,H as G,$ as P,N as t,ah as w,aM as H,bi as K,af as R,S as Y}from"./index-Cd3HZUlj.js";import{u as Z}from"./useValidation-BBErmw9F.js";const J=M({__name:"PasswordForm",props:v({submitLabel:{},actionAlign:{default:"center"},showCurrentPassword:{type:Boolean,default:!1},showLogout:{type:Boolean,default:!1}},{currentPassword:{},currentPasswordModifiers:{},newPassword:{},newPasswordModifiers:{},logoutAllDevice:{type:Boolean},logoutAllDeviceModifiers:{},loading:{type:Boolean},loadingModifiers:{}}),emits:v(["onSubmit"],["update:currentPassword","update:newPassword","update:logoutAllDevice","update:loading"]),setup(s,{expose:l,emit:d}){l();const e=T(()=>O(()=>import("./AppAlert-BpNfSFzF.js"),__vite__mapDeps([0,1,2]))),f=s,{t:g}=q(),{validatePasswordStrongV2:o,requireField:V}=Z(),A=_(!1),C=c(s,"currentPassword"),r=c(s,"newPassword"),p=c(s,"logoutAllDevice"),L=c(s,"loading"),b=_(""),h=d,B=x=>x===r.value,E=S(()=>r.value?o(r.value):!1),F=S(()=>b.value&&r.value&&r.value===b.value),y={AppAlert:e,props:f,t:g,validatePasswordStrongV2:o,requireField:V,showPassword:A,currentPassword:C,newPassword:r,logoutAllDevice:p,loading:L,confirmPassword:b,emit:h,validateTheSamePwd:B,isValidPwd:E,isSamePwd:F,onSubmit:()=>{r.value&&h("onSubmit")},get biCheck(){return D},get biLock(){return Q},get biShieldLock(){return N},get biEye(){return I},get biEyeSlash(){return U}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),W={class:"row"},X={key:0,class:"col-12 col-md-12"},$={class:"col-12 col-md-12 q-py-sm"},ee={class:"col-12 col-md-12"};function oe(s,l,d,e,f,g){return i(),u(Y,{flat:""},{default:n(()=>[a(z,{onSubmit:e.onSubmit,ref:"formPwd"},{default:n(()=>[a(k,null,{default:n(()=>[a(e.AppAlert,{dense:"",type:"is-warning",icon:e.biShieldLock,message:e.t("authen.helper2"),radius:"",class:"q-mb-md"},null,8,["icon","message"]),m("div",W,[d.showCurrentPassword?(i(),G("div",X,[a(P,{readonly:e.loading,outlined:"",dense:"",autocomplete:"off",modelValue:e.currentPassword,"onUpdate:modelValue":l[1]||(l[1]=o=>e.currentPassword=o),type:e.showPassword?"text":"password",label:e.t("authen.currentPassword"),rules:[o=>e.requireField(o,e.t("authen.currentPassword"))]},{prepend:n(()=>[a(t,{name:e.biShieldLock},null,8,["name"])]),append:n(()=>[a(t,{name:e.showPassword?e.biEye:e.biEyeSlash,onClick:l[0]||(l[0]=o=>e.showPassword=!e.showPassword)},null,8,["name"])]),_:1},8,["readonly","modelValue","type","label","rules"])])):w("",!0),m("div",$,[a(P,{class:"q-pt-md",readonly:e.loading,outlined:"",dense:"",autocomplete:"off",modelValue:e.newPassword,"onUpdate:modelValue":l[2]||(l[2]=o=>e.newPassword=o),type:e.showPassword?"text":"password",label:e.t("authen.newPassword"),rules:[o=>e.requireField(o,e.t("authen.newPassword")),o=>e.validatePasswordStrongV2(o)||e.t("authen.helper2")]},{prepend:n(()=>[a(t,{name:e.biLock,color:"grey-9"},null,8,["name"])]),append:n(()=>[e.isValidPwd?(i(),u(t,{key:0,name:e.biCheck,color:"positive"},null,8,["name"])):w("",!0)]),_:1},8,["readonly","modelValue","type","label","rules"])]),m("div",ee,[a(P,{class:"q-pt-md",readonly:e.loading,outlined:"",dense:"",autocomplete:"off",modelValue:e.confirmPassword,"onUpdate:modelValue":l[3]||(l[3]=o=>e.confirmPassword=o),type:e.showPassword?"text":"password",label:e.t("authen.confirmPassword"),rules:[o=>e.requireField(o,e.t("authen.confirmPassword")),o=>e.validateTheSamePwd(o)||e.t("error.passwordNotMatchNew")]},{prepend:n(()=>[a(t,{name:e.biLock,color:"grey-9"},null,8,["name"])]),append:n(()=>[e.isSamePwd?(i(),u(t,{key:0,name:e.biCheck,color:"positive"},null,8,["name"])):w("",!0)]),_:1},8,["readonly","modelValue","type","label","rules"])])])]),_:1}),d.showLogout?(i(),u(k,{key:0},{default:n(()=>[m("div",null,[a(H,{modelValue:e.logoutAllDevice,"onUpdate:modelValue":l[4]||(l[4]=o=>e.logoutAllDevice=o),label:e.t("authen.logoutAll")},null,8,["modelValue","label"])])]),_:1})):w("",!0),a(K,{align:d.actionAlign},{default:n(()=>[a(R,{unelevated:"",type:"submit",color:"primary",label:d.submitLabel},null,8,["label"])]),_:1},8,["align"])]),_:1},512)]),_:1})}const re=j(J,[["render",oe],["__file","PasswordForm.vue"]]);export{re as default};
