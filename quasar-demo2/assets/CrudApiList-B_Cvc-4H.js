const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AppResult-D0oG2dtb.js","assets/index-Cd3HZUlj.js","assets/index-HNifYG8Q.css","assets/DatePicker-DxB8u78t.js","assets/ClosePopup-B614tKRB.js","assets/Togle-aWlMofW0.js","assets/CrudApiListHeaderFilter-CXPuv40V.js"])))=>i.map(i=>d[i]);
import{a as Ce,u as Qe,r as P,l as I,T as tt,bL as Ie,dU as at,bQ as qe,bM as Oe,bN as ot,bR as nt,bS as rt,b4 as lt,dV as Pe,dW as st,d4 as it,bK as Te,d as Be,dX as ut,aK as ct,_ as Me,B as o,C as f,E as u,F as i,bq as ze,bb as Xe,al as ye,aY as dt,O as S,R as k,aa as _e,H as m,ai as g,aZ as W,aq as ae,ab as oe,ac as F,I as b,N as D,ah as v,ag as q,af as O,aX as x,dY as Ke,aC as mt,bm as ht,c0 as ft,dZ as vt,aH as yt,d_ as gt,d$ as _t,bf as kt,X as bt,cq as pt,bF as St,e0 as wt,e1 as At,co as Pt,a6 as Tt,aD as Et,Y as he,e2 as Ct,e3 as Bt,e4 as Mt,e5 as Vt,e6 as Nt,Z as fe,ak as T,M as ve,a7 as xt,a8 as It,$ as De,bh as Ue,S as Le,aI as Ot,bi as Dt,aM as Fe,dI as Ut,dJ as Lt,ap as He,aN as Re,ad as Ft,ae as Ee}from"./index-Cd3HZUlj.js";import{u as We}from"./useSort-CpdtF-gv.js";import{u as Ht}from"./useAxios-DnD0xNDn.js";import{C as ne}from"./ClosePopup-B614tKRB.js";import Rt from"./Paging-C3NtqeBH.js";const Ca=(t,h)=>{const{pages:l,sort:e,resetSort:M}=We(t?t.defaultSort:void 0,t?t.itemsPerPage:10),{t:V}=Ce(),{appGoto:n,getCurrentPath:s,getQuery:a,appConfirm:E,appLoading:w,inputSanitizeHtml:j}=Qe(),{callAxios:H}=Ht(),_=P([]),U=P(!1),R=P(!1),re=P(),L=P(""),N=P(""),G=P(""),Z=P(t.additionalUri),z=P(t.actionList),Y=P(t.actionDelete),X=P(h!=null?h.value:[]),le=I(()=>{const r=[];return X.value&&X.value.length>0?X.value.filter(d=>d.options&&d.options.searchable===!0):r}),ce=r=>le.value.find(d=>d.column===r)!=null,ke=()=>{const r=a(Pe),d=r==null?void 0:r.split(","),A=st;if(d&&d.length>0)for(const B of d)for(const te in A)be(B,A[te])},be=(r,d)=>{const A=r.split(d);A.length==2&&ce(A[0])&&(L.value?L.value+=","+r.trim():L.value=`${Pe}=${r.trim()}`)};ke(),tt(async()=>{t.fetchListOnload&&await ee(),t.mockData&&(t.mockData.totalPages!=null&&(l.value.totalPages=t.mockData.totalPages),t.mockData.totalElements!=null&&(l.value.totalElements=t.mockData.totalElements),t.mockData.last!=null&&(l.value.last=t.mockData.last),_.value=t.mockData.dataList,U.value=!0)});const pe=I(()=>z.value?z.value:t.apiEndpoint&&t.crudName?t.apiEndpoint+"/"+Ie(t.crudName):""),K=I(()=>Y.value?Y.value:t.apiEndpoint&&t.crudName?t.apiEndpoint+"/"+Ie(t.crudName):""),J=I(()=>{let r=!1,d="";return(t.pageAble==null||t.pageAble)&&(d+=`page=${t.pageStartZero==null||t.pageStartZero?l.value.current>0?l.value.current-1:0:l.value.current}`,d+=`&size=${l.value.itemsPerPage}`,r=!0),(t.sortAble==null||t.sortAble)&&(r&&(d+="&"),d+=`${e.value.column&&e.value.mode?"sort="+e.value.column+","+e.value.mode:""}`,r=!0),L.value&&(r&&(d+="&"),d+=`${L.value}`,r=!0),N.value&&(r&&(d+="&"),d+=`${at}=${N.value}`,r=!0),Z.value&&(r&&(d+="&"),d+=`${Z.value}`,r=!0),qe(d)?void 0:d}),se=I(()=>`${pe.value}${J.value?"?"+J.value:""}`),$=I(()=>{if(t)return`${s(!1)}${J.value?"?"+J.value:""}`}),ee=async()=>{if(!se.value)return new Promise(d=>{d(!1)});R.value=!0;const r=await H({API:se.value,method:"GET"});return new Promise(d=>{!Oe(r)&&!ot(r)&&(nt(r)?(_.value=r.dataList,r.totalPages!=null&&(l.value.totalPages=r.totalPages),r.totalElements!=null&&(l.value.totalElements=r.totalElements),r.last!=null&&(l.value.last=r.last)):rt(r)&&r!=null&&(_.value=r)),U.value||(U.value=!0),R.value=!1,d(!0)})},ie=I(()=>{const r=_.value,d=G.value?G.value.toLowerCase().trim():null;if(!d)return r;let A=[];const B=le.value;if(B.length==0)return r;for(const te of B){const me=te.column;if(me&&r&&r.length>0){const $e=r.filter(Ae=>Ae[me]&&Ae[me].toString().toLowerCase().includes(d)&&!A.find(et=>et.id===Ae.id));A=A.concat($e)}}return A}),Se=async r=>{l.value.current=r,$.value&&Q()},Ve=async r=>{l.value.itemsPerPage=r,$.value&&Q()},Ne=async r=>{e.value.column===r?e.value.mode=e.value.mode==="asc"?"desc":"asc":e.value.column=r,Q()},xe=async r=>{e.value.mode=r,Q()},Q=async()=>{$.value&&(n($.value),await ee())},de=r=>{N.value="",L.value=`${Pe}=${r}`,Q()},c=r=>{N.value=j(r),Q()},y=()=>{L.value="",l.value.current=1,_.value=[],M(),Q()},p=r=>new Promise(d=>{const A=ie.value.length>0?ie.value[r]:null;d(A)}),C=r=>new Promise(d=>{d(_.value.findIndex(A=>A.id===r))}),we=async(r,d)=>{if(await E(V("app.monogram"),V("base.deleteConfirm")))if(d){const B=await p(r);if(B){const te=await C(B.id);w(),await ue(B.id)&&te!=-1&&_.value.splice(te,1),w(!1)}}else{w();for(const B of r)await ue(B);await ee(),w(!1)}},ue=async r=>{const d=`${K.value}/${r}`,A=await H({API:d,method:"DELETE"});return Oe(A)||it(A)?new Promise(B=>{B(!1)}):new Promise(B=>{B(!!(A&&A.status=="OK"))})},Ge=()=>{t.apiEndpoint&&t.crudName&&n(`${t.crudName.replaceAll("_","-")}/${Te.NEW}/0`)},Ze=async r=>{const d=await p(r);d&&t.apiEndpoint&&t.crudName&&n(`${t.crudName.replaceAll("_","-")}/${Te.VIEW}/${d.id}`)},Ye=async r=>{const d=await p(r);d&&t.apiEndpoint&&t.crudName&&n(`${t.crudName.replaceAll("_","-")}/${Te.COPY}/${d.id}`)};lt(()=>{_.value=[],L.value="",N.value="",G.value="",re.value=void 0,Z.value=void 0,z.value=void 0,Y.value=void 0});const Je={onPageNoChange:Se,onItemPerPageChange:Ve,fetchList:ee,onSort:Ne,onSortMode:xe,onReload:y,filteredList:ie,onAdvanceSearch:de,onKeywordSearch:c,onItemDelete:we,onNewForm:Ge,onItemClick:Ze,onItemCopy:Ye,getItemByIndex:p};return{pages:l,sort:e,resetSort:M,loading:R,fristLoad:U,dataList:_,filterText:G,keywordSearchText:N,crudName:t.crudName,manualActionList:re,additionalUri:Z,actionList:z,actionDelete:Y,listHeader:X,...Je}};var ge=(t=>(t[t.TEXT=0]="TEXT",t[t.HTML=1]="HTML",t[t.IMAGE=2]="IMAGE",t[t.AVATAR=3]="AVATAR",t[t.STATUS=4]="STATUS",t[t.DATE=5]="DATE",t[t.DATE_TIME=6]="DATE_TIME",t[t.LINKABLE=7]="LINKABLE",t[t.BASE_TOOL=8]="BASE_TOOL",t[t.NUMBER_FORMAT=9]="NUMBER_FORMAT",t[t.ICON=10]="ICON",t[t.FUNCTION=11]="FUNCTION",t))(ge||{}),je=(t=>(t[t.TEXT=0]="TEXT",t[t.NUMBER=1]="NUMBER",t[t.BOOLEAN=2]="BOOLEAN",t[t.DATE=3]="DATE",t[t.DATETIME=4]="DATETIME",t))(je||{});const Qt=Be({__name:"AppSort",props:{fields:{type:Array,default:()=>[]},sort:{type:Object,default:null},icon:{type:String,default:ut},label:{type:String,default:void 0},width:{type:Number,default:200},listDense:{type:Boolean,default:!0},btnRound:{type:Boolean,default:!0}},emits:["on-sort-column","on-sort-mode"],setup(t,{expose:h,emit:l}){h();const e=t,M=l,{t:V}=Ce(),{sortMode:n}=We(),E={props:e,emit:M,t:V,sortMode:n,onSortColumn:w=>{w&&e.sort.column!==w&&M("on-sort-column",w)},onSortMode:w=>{w&&e.sort.mode!==w&&M("on-sort-mode",w)},get biCheck(){return ct}};return Object.defineProperty(E,"__isScriptSetup",{enumerable:!1,value:!0}),E}});function qt(t,h,l,e,M,V){return o(),f(O,{class:"q-mx-sm",flat:"",round:l.btnRound,icon:l.icon,label:l.label},{default:u(()=>[i(ze,null,{default:u(()=>[i(Xe,{style:ye(`min-width: ${l.width}px`),dense:l.listDense},{default:u(()=>[i(dt,{header:""},{default:u(()=>[S(k(e.t("sort.sort")),1)]),_:1}),i(_e),(o(!0),m(g,null,W(l.fields,(n,s)=>ae((o(),f(oe,{clickable:"",key:"sort-fields-"+s,onClick:a=>e.onSortColumn(n.value)},{default:u(()=>[i(F,null,{default:u(()=>[b("span",null,[S(k(n.label),1),l.sort.column===n.value?(o(),f(D,{key:0,class:"q-ml-sm",name:e.biCheck},null,8,["name"])):v("",!0)])]),_:2},1024)]),_:2},1032,["onClick"])),[[ne]])),128)),i(_e),(o(!0),m(g,null,W(e.sortMode,(n,s)=>ae((o(),f(oe,{clickable:"",key:"sort-mode-"+s,onClick:a=>e.onSortMode(n.value)},{default:u(()=>[i(F,null,{default:u(()=>[b("span",null,[S(k(n.label)+" ",1),l.sort.mode===n.value?(o(),f(D,{key:0,class:"q-ml-sm",name:e.biCheck},null,8,["name"])):v("",!0)])]),_:2},1024)]),_:2},1032,["onClick"])),[[ne]])),128))]),_:1},8,["style","dense"])]),_:1}),i(q,null,{default:u(()=>[S(k(e.t("sort.sort")),1)]),_:1})]),_:1},8,["round","icon","label"])}const zt=Me(Qt,[["render",qt],["__file","AppSort.vue"]]),Xt=Be({__name:"SkeletonTable",props:{rows:{type:Number,default:5},flat:{type:Boolean,default:!0}},setup(t,{expose:h}){h();const l={};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),Kt={class:"text-left",style:{width:"150px"}},Wt={class:"text-right"},jt={class:"text-right"},Gt={class:"text-right"},Zt={class:"text-right"},Yt={class:"text-right"},Jt={class:"text-left"},$t={class:"text-right"},ea={class:"text-right"},ta={class:"text-right"},aa={class:"text-right"},oa={class:"text-right"};function na(t,h,l,e,M,V){return o(),f(Ke,{flat:l.flat},{default:u(()=>[b("thead",null,[b("tr",null,[b("th",Kt,[i(x,{animation:"blink",type:"text"})]),b("th",Wt,[i(x,{animation:"blink",type:"text"})]),b("th",jt,[i(x,{animation:"blink",type:"text"})]),b("th",Gt,[i(x,{animation:"blink",type:"text"})]),b("th",Zt,[i(x,{animation:"blink",type:"text"})]),b("th",Yt,[i(x,{animation:"blink",type:"text"})])])]),b("tbody",null,[(o(!0),m(g,null,W(l.rows,n=>(o(),m("tr",{key:n},[b("td",Jt,[i(x,{animation:"blink",type:"text",width:"85px"})]),b("td",$t,[i(x,{animation:"blink",type:"text",width:"50px"})]),b("td",ea,[i(x,{animation:"blink",type:"text",width:"35px"})]),b("td",ta,[i(x,{animation:"blink",type:"text",width:"65px"})]),b("td",aa,[i(x,{animation:"blink",type:"text",width:"25px"})]),b("td",oa,[i(x,{animation:"blink",type:"text",width:"85px"})])]))),128))])]),_:1},8,["flat"])}const ra=Me(Xt,[["render",na],["__file","SkeletonTable.vue"]]),la=t=>typeof t=="number"?!1:typeof t=="string"?t.trim().length===0:Array.isArray(t)?t.length===0:typeof t=="object"?t==null||Object.keys(t).length===0:typeof t=="boolean"?!1:!t,sa=(t,h)=>{const l=h.split(".");if(Array.isArray(l)){const e=l.pop(),M=l.length;let V=1,n=l[0];for(;(t=t[n])&&V<M;)n=l[V],V++;if(!la(t))return t[e]}},ia=Be({__name:"CrudApiList",props:{crudName:{type:String,default:""},viewPermission:{type:String,default:""},managePermission:{type:String,default:""},title:{type:String,default:""},icon:{type:String,default:mt},list:{type:Array,default:()=>[]},headers:{type:Array,default:()=>[]},sort:{type:Object,default:null},pages:{type:Object},fristLoad:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},showPaging:{type:Boolean,default:!0},isFrontend:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!0},showNewBtn:{type:Boolean,default:!0},showSearchBtn:{type:Boolean,default:!0},showSearchTextBox:{type:Boolean,default:!1},showThreeDot:{type:Boolean,default:!0},showFilter:{type:Boolean,default:!0},showSort:{type:Boolean,default:!0},fullWidth:{type:Boolean,default:!1}},emits:["on-page-no-change","on-items-perpage-change","update-search","on-sort","on-sort-mode","on-item-copy","on-item-click","on-item-delete","on-new-form","on-reload","on-advance-search","on-keyword-search"],setup(t,{expose:h,emit:l}){h();const e=he(()=>fe(()=>import("./AppResult-D0oG2dtb.js"),__vite__mapDeps([0,1,2]))),M=he(()=>fe(()=>import("./DatePicker-DxB8u78t.js"),__vite__mapDeps([3,1,2,4]))),V=he(()=>fe(()=>import("./Togle-aWlMofW0.js"),__vite__mapDeps([5,1,2]))),n=he(()=>fe(()=>import("./CrudApiListHeaderFilter-CXPuv40V.js"),__vite__mapDeps([6,1,2]))),s=t,a=l,{t:E,locale:w}=Ce(),{searchOperations:j,inputSanitizeHtml:H}=Qe(),_=ht(),U=P(s.pages),R=P(""),re=P(!1),L=P(!1),N=P([]),G=c=>{a("update-search",c)},Z=()=>{z(re.value)},z=c=>{if(N.value=[],c)for(let y=0;y<s.list.length;y++){const p=s.list[y];p&&N.value.push(p.id)}},Y=()=>{N.value.length>0&&X(N.value,!1)},X=(c,y)=>{a("on-item-delete",c,y)},le=c=>{const p=s.list[c];if(p)return p},ce=(c,y)=>{const p=le(y);return!c||!p?null:c.split(".").length>1?sa(p,c):qe(p[c])?null:p[c]},ke=(c,y)=>{if(!c)return!1;const p=ce(c,y);return p?p===!0:!1},be=I(()=>{const y=s.headers.filter(C=>C.options&&C.options.sortable===!0),p=[];for(const C of y)p.push({value:C.options.sortColunm?C.options.sortColunm:C.column,label:E(C.label)});return p}),pe=I(()=>{const c=s.headers;return s.headers&&s.headers.length>0?s.headers.filter(y=>y.options&&y.options.fillable===!0):c}),K=I(()=>{const c=s.headers;return s.headers&&s.headers.length>0?s.headers.filter(y=>y.options&&y.options.searchable===!0):c}),J=()=>{se(),a("on-reload")},se=()=>{if(K.value.length>0)for(const c of K.value)c.options&&(c.type==ge.STATUS?c.options.searchModel=!0:c.options.searchModel=null)},$=()=>{R.value="";let c="";if(K.value.length>0){for(const y of K.value)if(y.options){const p=y.options.searchOperation,C=y.options.searchModel,we=y.options.searchColunm?y.options.searchColunm:y.column;if(p!=null&&C!=null){let ue=H(C);y.type==ge.STATUS&&(ue=C),c&&(c+=","),c+=`${we}${p}${ue}`}}}a("on-advance-search",c)},ee=()=>{var c;((c=R.value)==null?void 0:c.trim().length)>=Ct&&a("on-keyword-search",H(R.value))},ie=I(()=>s.isFrontend?s.viewPermission?_.isHaveFrontendPermission(s.viewPermission):s.crudName?_.isHaveFrontendPermission(`${s.crudName}_view`):!0:s.viewPermission?_.isHavePermission(s.viewPermission):s.crudName?_.isHavePermission(`${s.crudName}_view`):!0),Se=I(()=>s.isFrontend?s.managePermission?_.isHaveFrontendPermission(s.managePermission):s.crudName?_.isHaveFrontendPermission(`${s.crudName}_manage`):!0:s.managePermission?_.isHavePermission(s.managePermission):s.crudName?_.isHavePermission(`${s.crudName}_manage`):!0),de={AppResult:e,DatePicker:M,FormTogle:V,CrudApiListHeaderFilter:n,props:s,emit:a,t:E,locale:w,searchOperations:j,inputSanitizeHtml:H,permissionStore:_,crudPages:U,filterText:R,selectedAll:re,showSearch:L,selected:N,updateSearchText:G,onCheckedAll:Z,updateSelectedAll:z,onDeleteItemSelected:Y,onItemDelete:X,getItemByIndex:le,getValueByColunm:ce,getValueBoolean:ke,sortableHeaders:be,fillableHeaders:pe,searchableHeaders:K,onClearSearch:J,onClearSearchModel:se,onAdvanceSearch:$,onKeywordSearch:ee,isHaveViewPermission:ie,isHaveManagePermission:Se,dateForMat:(c,y=void 0)=>c?Bt(c,y||Mt,w.value):void 0,datetimeForMat:(c,y=void 0)=>c?Vt(c,y||Nt,w.value):void 0,onPageChange:async c=>{c&&U.value&&(U.value.current=c,a("on-page-no-change",c))},onPerPageChange:async c=>{c&&U.value&&(U.value.itemsPerPage=c,a("on-items-perpage-change",c))},AppSort:zt,AppPaging:Rt,SkeletonTable:ra,get CrudListDataType(){return ge},get ICrudListHeaderOptionSearchType(){return je},get biArrowClockwise(){return ft},get biCheckCircle(){return vt},get biChevronExpand(){return yt},get biClipboard(){return gt},get biEraser(){return _t},get biEye(){return kt},get biPencil(){return bt},get biPlus(){return pt},get biSearch(){return St},get biSortAlphaDown(){return wt},get biSortAlphaUpAlt(){return At},get biThreeDotsVertical(){return Pt},get biTrash(){return Tt},get biX(){return Et}};return Object.defineProperty(de,"__isScriptSetup",{enumerable:!1,value:!0}),de}}),ua={class:"col"},ca={class:"row items-center"},da={class:"text-h6"},ma={class:"row"},ha={key:0,class:"col-12 col-md-4 q-pa-sm"},fa={class:"q-gutter-md row items-center"},va={key:0},ya={key:0},ga={key:1},_a={key:0,class:"text-center"},ka={key:0,class:"text-center"},ba={key:0},pa=["alt"];function Sa(t,h,l,e,M,V){return o(),m("div",{class:Re(["row",{"wee-container-responsive-center":!l.fullWidth}])},[b("div",ua,[i(Le,{flat:"",bordered:""},{default:u(()=>[T(t.$slots,"headerCard"),i(ve,null,{default:u(()=>[i(xt,null,{default:u(()=>[i(It,null,{default:u(()=>[T(t.$slots,"title",{},()=>[l.title?(o(),m(g,{key:0},[i(D,{name:l.icon},null,8,["name"]),S(" "+k(l.title),1)],64)):v("",!0)])]),_:3}),b("div",ca,[l.showSearchTextBox&&!e.showSearch?(o(),f(Ue,{key:0,onSubmit:e.onKeywordSearch},{default:u(()=>[i(De,{dense:"",outlined:"",rounded:"",clearable:"",style:{width:"350px"},modelValue:e.filterText,"onUpdate:modelValue":h[0]||(h[0]=n=>e.filterText=n),placeholder:e.t("base.searchHelp3")},{prepend:u(()=>[i(D,{name:e.biSearch},null,8,["name"])]),_:1},8,["modelValue","placeholder"])]),_:1})):v("",!0),T(t.$slots,"extraBeforeInnerToolbar"),e.isHaveManagePermission&&l.showNewBtn?(o(),f(O,{key:1,class:"q-ml-xs",flat:"",round:"",icon:e.biPlus,onClick:h[1]||(h[1]=n=>t.$emit("on-new-form"))},{default:u(()=>[i(q,null,{default:u(()=>[S(k(e.t("base.addNew")),1)]),_:1})]),_:1},8,["icon"])):v("",!0),l.showSearchBtn?(o(),f(O,{key:2,class:"q-ml-xs",flat:"",round:"",icon:e.biSearch,onClick:h[2]||(h[2]=n=>e.showSearch=!e.showSearch)},{default:u(()=>[i(q,null,{default:u(()=>[S(k(e.t("base.search")),1)]),_:1})]),_:1},8,["icon"])):v("",!0),l.showSort?(o(),f(e.AppSort,{key:3,sort:l.sort,fields:e.sortableHeaders,onOnSortColumn:h[3]||(h[3]=n=>t.$emit("on-sort",n)),onOnSortMode:h[4]||(h[4]=n=>t.$emit("on-sort-mode",n))},null,8,["sort","fields"])):v("",!0),l.showFilter?(o(),f(e.CrudApiListHeaderFilter,{key:4,headers:l.headers},null,8,["headers"])):v("",!0),l.showThreeDot?(o(),f(O,{key:5,flat:"",round:"",dense:"",icon:e.biThreeDotsVertical},{default:u(()=>[i(ze,null,{default:u(()=>[i(Xe,{style:{"min-width":"200px"},dense:""},{default:u(()=>[e.isHaveManagePermission&&l.showNewBtn?ae((o(),f(oe,{key:0,clickable:"",onClick:h[5]||(h[5]=n=>t.$emit("on-new-form"))},{default:u(()=>[i(F,{avatar:""},{default:u(()=>[i(D,{name:e.biPlus},null,8,["name"])]),_:1}),i(F,null,{default:u(()=>[S(k(e.t("base.addNew")),1)]),_:1})]),_:1})),[[ne]]):v("",!0),e.isHaveManagePermission&&l.showCheckbox?ae((o(),f(oe,{key:1,clickable:"",onClick:e.onDeleteItemSelected},{default:u(()=>[i(F,{avatar:""},{default:u(()=>[i(D,{name:e.biTrash},null,8,["name"])]),_:1}),i(F,null,{default:u(()=>[S(k(e.t("base.deleteSeleted")),1)]),_:1})]),_:1})),[[ne]]):v("",!0),l.showSearchBtn?ae((o(),f(oe,{key:2,clickable:"",onClick:h[6]||(h[6]=n=>e.showSearch=!0)},{default:u(()=>[i(F,{avatar:""},{default:u(()=>[i(D,{name:e.biSearch},null,8,["name"])]),_:1}),i(F,null,{default:u(()=>[S(k(e.t("base.searchAdvance")),1)]),_:1})]),_:1})),[[ne]]):v("",!0),i(_e),ae((o(),f(oe,{clickable:"",onClick:h[7]||(h[7]=n=>t.$emit("on-reload"))},{default:u(()=>[i(F,{avatar:""},{default:u(()=>[i(D,{name:e.biArrowClockwise},null,8,["name"])]),_:1}),i(F,null,{default:u(()=>[S(k(e.t("base.reload")),1)]),_:1})]),_:1})),[[ne]])]),_:1})]),_:1})]),_:1},8,["icon"])):v("",!0),T(t.$slots,"extraInnerToolbar")])]),_:3}),T(t.$slots,"extraToolbar")]),_:3}),e.showSearch?(o(),f(ve,{key:0,class:"q-mb-lg"},{default:u(()=>[i(Le,{flat:"",bordered:""},{default:u(()=>[i(ve,null,{default:u(()=>[b("div",da,k(e.t("base.search")),1)]),_:1}),i(Ue,{onSubmit:e.onAdvanceSearch,class:"q-pa-md"},{default:u(()=>[T(t.$slots,"topSearchExtra"),e.searchableHeaders.length>0?(o(),m(g,{key:0},[b("div",ma,[T(t.$slots,"topInnerSearchExtra"),(o(!0),m(g,null,W(e.searchableHeaders,(n,s)=>{var a,E,w,j,H;return o(),m(g,{key:`advance-search-${s}`},[n.options?(o(),m("div",ha,[b("div",fa,[((a=n.options)==null?void 0:a.searchType)==e.ICrudListHeaderOptionSearchType.TEXT||((E=n.options)==null?void 0:E.searchType)==e.ICrudListHeaderOptionSearchType.NUMBER?(o(),f(De,{key:0,outlined:"",dense:"",modelValue:n.options.searchModel,"onUpdate:modelValue":_=>n.options.searchModel=_,type:((w=n.options)==null?void 0:w.searchType)==e.ICrudListHeaderOptionSearchType.TEXT?"text":"number",label:e.t(n.label),clearable:"",style:{width:"100%"}},{before:u(()=>[n.options.searchOperationReadonly?v("",!0):(o(),f(Ot,{key:0,dense:"",filled:"",label:e.t(n.label),class:"q-mx-lg",modelValue:n.options.searchOperation,"onUpdate:modelValue":_=>n.options.searchOperation=_,options:e.searchOperations,"option-value":"value","option-label":"text","emit-value":"","map-options":"",readonly:n.options.searchOperationReadonly,style:{"min-width":"150px"},"dropdown-icon":e.biChevronExpand},null,8,["label","modelValue","onUpdate:modelValue","options","readonly","dropdown-icon"]))]),_:2},1032,["modelValue","onUpdate:modelValue","type","label"])):((j=n.options)==null?void 0:j.searchType)==e.ICrudListHeaderOptionSearchType.BOOLEAN?(o(),f(e.FormTogle,{key:1,"use-checkbox":"",useLabelTitle:"",label:e.t(n.label),modelValue:n.options.searchModel,"onUpdate:modelValue":_=>n.options.searchModel=_},null,8,["label","modelValue","onUpdate:modelValue"])):((H=n.options)==null?void 0:H.searchType)==e.ICrudListHeaderOptionSearchType.DATE?(o(),m(g,{key:2},[n.options.searchModel!=null?(o(),f(e.DatePicker,{key:0,dense:"",modelValue:n.options.searchModel,"onUpdate:modelValue":_=>n.options.searchModel=_,title:e.t(n.label)},null,8,["modelValue","onUpdate:modelValue","title"])):v("",!0)],64)):v("",!0)])])):v("",!0)],64)}),128)),T(t.$slots,"belowInnerSearchExtra")]),T(t.$slots,"belowSearchExtra"),i(_e),i(Dt,{align:"center"},{default:u(()=>[i(O,{type:"submit",flat:"",icon:e.biSearch,label:e.t("base.okay")},null,8,["icon","label"]),i(O,{flat:"",icon:e.biX,onClick:h[8]||(h[8]=n=>e.showSearch=!1),label:e.t("base.close")},null,8,["icon","label"]),i(O,{flat:"",icon:e.biEraser,onClick:e.onClearSearch,label:e.t("base.clear")},null,8,["icon","label"])]),_:1})],64)):v("",!0)]),_:3})]),_:3})]),_:3})):v("",!0),!l.fristLoad||l.loading?(o(),f(e.SkeletonTable,{key:1})):T(t.$slots,"table",{key:2},()=>[l.list.length>0?(o(),f(Ke,{key:0,separator:"cell",flat:"",bordered:""},{default:u(()=>[b("thead",null,[T(t.$slots,"theader",{},()=>[b("tr",null,[e.isHaveManagePermission&&l.showCheckbox?(o(),m("th",va,[i(Fe,{modelValue:e.selectedAll,"onUpdate:modelValue":h[9]||(h[9]=n=>e.selectedAll=n),onClick:e.onCheckedAll},{default:u(()=>[i(q,null,{default:u(()=>[S(k(e.selectedAll?e.t("base.deselectAll"):e.t("base.selectAll")),1)]),_:1})]),_:1},8,["modelValue"])])):v("",!0),(o(!0),m(g,null,W(e.fillableHeaders,(n,s)=>(o(),m(g,{key:`tblHeader-${s}`},[n.type===e.CrudListDataType.BASE_TOOL?(o(),m(g,{key:0},[e.isHaveManagePermission||e.isHaveViewPermission?(o(),m("th",ya,k(e.t(n.label)),1)):v("",!0)],64)):(o(),m("th",ga,[n.options&&n.options.sortable?(o(),f(O,{key:0,onClick:a=>t.$emit("on-sort",n.options.sortColunm?n.options.sortColunm:n.column),flat:""},{default:u(()=>[l.sort.column==n.options.sortColunm||l.sort.column==n.column?(o(),f(D,{key:0,name:l.sort.mode=="desc"?e.biSortAlphaUpAlt:e.biSortAlphaDown},null,8,["name"])):v("",!0),S(" "+k(e.t(n.label)),1)]),_:2},1032,["onClick"])):(o(),m(g,{key:1},[S(k(e.t(n.label)),1)],64))]))],64))),128))])])]),b("tbody",null,[T(t.$slots,"tbody",Ut(Lt({list:l.list,fillableHeaders:e.fillableHeaders})),()=>[(o(!0),m(g,null,W(l.list,(n,s)=>(o(),m("tr",{key:`item-tr-${s}`},[e.isHaveManagePermission&&l.showCheckbox?(o(),m("td",_a,[i(Fe,{modelValue:e.selected,"onUpdate:modelValue":h[10]||(h[10]=a=>e.selected=a),val:n.id},null,8,["modelValue","val"])])):v("",!0),(o(!0),m(g,null,W(e.fillableHeaders,(a,E)=>(o(),m(g,{key:`item-body-${E}`},[a.options?(o(),m(g,{key:0},[a.type===e.CrudListDataType.BASE_TOOL?(o(),m("td",ka,[T(t.$slots,"baseTool",He({ref_for:!0},{item:n,index:s}),()=>[e.isHaveManagePermission||e.isHaveViewPermission?(o(),m(g,{key:0},[a.options&&a.options.editButton?(o(),m(g,{key:0},[e.isHaveManagePermission||e.isHaveViewPermission?(o(),f(O,{key:0,onClick:w=>t.$emit("on-item-click",s),color:"primary",icon:e.isHaveManagePermission?e.biPencil:e.biEye,flat:"",round:""},{default:u(()=>[i(q,null,{default:u(()=>[S(k(e.isHaveManagePermission?e.t("base.edit"):e.t("base.view")),1)]),_:1})]),_:2},1032,["onClick","icon"])):v("",!0)],64)):v("",!0),a.options&&a.options.copyButton?(o(),m(g,{key:1},[e.isHaveManagePermission?(o(),f(O,{key:0,onClick:w=>t.$emit("on-item-copy",s),color:"primary",class:"q-ml-sm",icon:e.biClipboard,flat:"",round:""},{default:u(()=>[i(q,null,{default:u(()=>[S(k(e.t("base.copy")),1)]),_:1})]),_:2},1032,["onClick","icon"])):v("",!0)],64)):v("",!0),a.options&&a.options.deleteButton?(o(),m(g,{key:2},[e.isHaveManagePermission?(o(),f(O,{key:0,onClick:w=>e.onItemDelete(s,!0),color:"negative",class:"q-ml-sm",icon:e.biTrash,flat:"",round:""},{default:u(()=>[i(q,{class:"bg-negative"},{default:u(()=>[S(k(e.t("base.delete")),1)]),_:1})]),_:2},1032,["onClick","icon"])):v("",!0)],64)):v("",!0)],64)):v("",!0)]),T(t.$slots,"additionalBaseTool",He({ref_for:!0},{item:n,index:s}))])):(o(),m("td",{key:1,class:Re({"text-center":a.options&&a.options.align=="center","text-left":a.options&&a.options.align=="left","text-right":a.options&&a.options.align=="right","long-text-break":a.options&&a.options.maxWidth}),style:ye({maxWidth:a.options&&a.options.maxWidth?a.options.maxWidth:""})},[a.type===e.CrudListDataType.TEXT?(o(),m(g,{key:0},[a.options&&a.options.toolTip?(o(),m("span",ba,[S(k(a.column?e.getValueByColunm(a.column,s):"")+" ",1),i(q,null,{default:u(()=>[S(k(a.column?e.getValueByColunm(a.column,s):""),1)]),_:2},1024)])):(o(),m(g,{key:1},[S(k(a.column?e.getValueByColunm(a.column,s):""),1)],64))],64)):a.type===e.CrudListDataType.FUNCTION&&a.options&&a.options.func?(o(),m(g,{key:1},[a.column&&e.getValueByColunm(a.column,s)!=null?(o(),m(g,{key:0},[S(k(a.options.func(e.getValueByColunm(a.column,s))),1)],64)):v("",!0)],64)):a.type===e.CrudListDataType.NUMBER_FORMAT?(o(),m(g,{key:2},[S(k(a.column?e.getValueByColunm(a.column,s).toLocaleString():""),1)],64)):a.type===e.CrudListDataType.DATE?(o(),m(g,{key:3},[S(k(a.column?e.dateForMat(e.getValueByColunm(a.column,s)):""),1)],64)):a.type===e.CrudListDataType.DATE_TIME?(o(),m(g,{key:4},[S(k(a.column?e.datetimeForMat(e.getValueByColunm(a.column,s)):""),1)],64)):a.type===e.CrudListDataType.STATUS?(o(),f(D,{key:5,size:"sm",color:a.column&&e.getValueBoolean(a.column,s)?"positive":"grey-4",name:e.biCheckCircle},null,8,["color","name"])):a.type===e.CrudListDataType.AVATAR?(o(),m(g,{key:6},[a.column&&e.getValueByColunm(a.column,s)?(o(),f(Ft,{key:0,rounded:a.options.rounded,square:a.options.square,size:a.options.size?a.options.size:"36px"},{default:u(()=>[a.column&&e.getValueByColunm(a.column,s)?(o(),f(Ee,{key:0,src:e.getValueByColunm(a.column,s),alt:"item-img-"+E,ratio:1},null,8,["src","alt"])):(o(),m("img",{key:1,src:"/avatar_default.png",alt:"item-img-"+E},null,8,pa))]),_:2},1032,["rounded","square","size"])):v("",!0)],64)):a.type===e.CrudListDataType.IMAGE?(o(),m(g,{key:7},[a.column&&e.getValueByColunm(a.column,s)?(o(),f(Ee,{key:0,src:e.getValueByColunm(a.column,s),"spinner-color":"white",class:"bg-grey-8",ratio:4/3,style:ye(a.options.size?`width: ${a.options.size}; height: ${a.options.size}`:"width:55px;height:55px")},null,8,["src","style"])):(o(),f(Ee,{key:1,src:"/quasar-starter-template/images/no_picture_thumb.jpg","spinner-color":"white",class:"bg-grey-8",ratio:4/3,style:ye(a.options.size?`width: ${a.options.size}; height: ${a.options.size}`:"width:55px;height:55px")},null,8,["style"]))],64)):a.type===e.CrudListDataType.ICON?(o(),m(g,{key:8},[a.column?(o(),f(D,{key:0,name:e.getValueByColunm(a.column,s)},null,8,["name"])):v("",!0)],64)):v("",!0)],6))],64)):v("",!0)],64))),128))]))),128))])])]),_:3})):(o(),f(ve,{key:1,class:"text-center"},{default:u(()=>[i(e.AppResult,{status:"empty",description:e.t("error.dataNotfound")},null,8,["description"])]),_:1}))]),T(t.$slots,"paging",{},()=>[e.crudPages&&l.showPaging&&e.crudPages.totalPages>0?(o(),f(e.AppPaging,{key:0,modelValue:e.crudPages,"onUpdate:modelValue":h[11]||(h[11]=n=>e.crudPages=n),"boundary-numbers":!1,"onUpdate:current":e.onPageChange,"onUpdate:perPage":e.onPerPageChange},null,8,["modelValue"])):v("",!0)])]),_:3})])],2)}const Ba=Me(ia,[["render",Sa],["__file","CrudApiList.vue"]]);export{ge as C,je as I,Ba as a,Ca as u};
