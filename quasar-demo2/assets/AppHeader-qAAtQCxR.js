const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NotificationItem-DmmnfjRn.js","assets/index-Bhd6CteR.js","assets/index-HNifYG8Q.css","assets/ClosePopup-CA_H_152.js","assets/BaseAvatar-DkX-D0Xl.js","assets/AppImage-CzkPfClj.js","assets/FileManagerService-B4ot9pJ5.js","assets/useAxios-wGJYVDjS.js","assets/_commonjsHelpers-Cpj98o6Y.js","assets/AppImage-DWpen-BO.css","assets/BaseAvatar-CgUjO2Sl.css","assets/useAuth-DCHNFfdB.js","assets/NotificationItem-DlV33eYF.css","assets/SkeletonItem-DOy8R1Rr.js","assets/AppResult-DW23M7rZ.js"])))=>i.map(i=>d[i]);
import{d as O,bv as z,a as M,au as Y,ce as G,f as W,cf as U,ek as X,el as Z,cj as J,aE as $,em as ee,c7 as te,en as ae,eo as oe,cb as ne,ep as le,ci as re,_ as D,B as o,C as r,E as a,F as t,ac as s,ah as g,aW as T,I as w,R as f,O as h,N as m,bo as B,b9 as P,aq as A,ab as v,aa as V,H as I,ai as R,aX as E,ap as ie,eq as se,r as C,er as ce,T as H,Y as q,Z as Q,M as F,af as S,S as de,dK as ue,es as fe,et as _e,eu as me,ev as he,bF as ge,ew as be,ad as ye,a9 as ve,ag as x,cA as Se,a7 as pe,aL as ke,ex as Ae}from"./index-Bhd6CteR.js";import{C as N}from"./ClosePopup-CA_H_152.js";import{B as Ne}from"./BaseAvatar-DkX-D0Xl.js";import{u as we}from"./useAuth-DCHNFfdB.js";import{a as j,u as Ce}from"./useAxios-wGJYVDjS.js";const Te=O({__name:"UserNavSetting",props:{hambergerMenu:{type:Boolean,default:!0},showLogo:{type:Boolean,default:!0},frontend:{type:Boolean,default:!0},showTogleDrawer:{type:Boolean,default:!1},reveal:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1}},setup(u,{expose:l}){l();const c=z(),{t:e}=M(),d=Y(),b=G(),{signOut:_}=we(),n=W(()=>U.find(y=>y.iso==b.locale)),i={$q:c,t:e,authenStore:d,langugeAndThemeStore:b,signOut:_,currenLocale:n,BaseAvatar:Ne,get availableLocales(){return U},get availableThemes(){return X},get biBoxArrowRight(){return Z},get biCheck2(){return J},get biChevronExpand(){return $},get biChevronRight(){return ee},get biGear(){return te},get biMoon(){return ae},get biPersonSquare(){return oe},get biQuestionCircle(){return ne},get biSun(){return le},get biTranslate(){return re}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),xe={class:"cursor-pointer text-weight-bold"};function Be(u,l,c,e,d,b){return o(),r(v,ie(u.$attrs,{clickable:""}),{default:a(()=>[t(s,{avatar:"",top:""},{default:a(()=>[e.authenStore.loginedAvatar?(o(),r(e.BaseAvatar,{key:0,class:"shadow-5",src:e.authenStore.loginedAvatar,size:"36px"},null,8,["src"])):g("",!0)]),_:1}),e.$q.screen.gt.xs?(o(),r(s,{key:0},{default:a(()=>[t(T,{lines:"1"},{default:a(()=>[w("span",xe,f(e.authenStore.loginedDisplay),1)]),_:1}),t(T,{caption:"",lines:1},{default:a(()=>l[0]||(l[0]=[h(" Sofware Engineer ")])),_:1})]),_:1})):g("",!0),t(s,{side:""},{default:a(()=>[t(m,{name:e.biChevronExpand,size:"16px"},null,8,["name"])]),_:1}),t(B,null,{default:a(()=>[t(P,{style:{"min-width":"260px"}},{default:a(()=>{var _;return[A((o(),r(v,{clickable:"",to:`/user/${(_=e.authenStore.auth)==null?void 0:_.id}`},{default:a(()=>[t(s,{avatar:""},{default:a(()=>[e.authenStore.loginedAvatar?(o(),r(e.BaseAvatar,{key:0,src:e.authenStore.loginedAvatar,size:"36px",rounded:""},null,8,["src"])):(o(),r(m,{key:1,name:e.biPersonSquare},null,8,["name"]))]),_:1}),t(s,null,{default:a(()=>[h(f(e.t("base.yourProfile")),1)]),_:1})]),_:1},8,["to"])),[[N]]),t(V),t(v,{clickable:""},{default:a(()=>[t(s,{avatar:""},{default:a(()=>[t(m,{name:e.langugeAndThemeStore.theme=="dark"?e.biMoon:e.biSun},null,8,["name"])]),_:1}),t(s,null,{default:a(()=>[t(T,{lines:"1"},{default:a(()=>[h(f(e.t("base.appearance"))+" : "+f(e.t(`theme.${e.langugeAndThemeStore.theme}`)),1)]),_:1})]),_:1}),t(s,{side:""},{default:a(()=>[t(m,{name:e.biChevronRight},null,8,["name"])]),_:1}),t(B,{anchor:e.$q.screen.gt.xs?"top end":"bottom left",self:"top start"},{default:a(()=>[t(P,{style:{"min-width":"150px"}},{default:a(()=>[(o(!0),I(R,null,E(e.availableThemes,n=>(o(),r(v,{clickable:"",key:n.key,onClick:i=>e.langugeAndThemeStore.setThemeSetting(n.key)},{default:a(()=>[t(s,{avatar:""},{default:a(()=>[t(m,{name:n.icon},null,8,["name"])]),_:2},1024),t(s,null,{default:a(()=>[h(f(e.t(n.text)),1)]),_:2},1024),n.key==e.langugeAndThemeStore.themeSetting?(o(),r(s,{key:0,side:""},{default:a(()=>[t(m,{name:e.biCheck2},null,8,["name"])]),_:1})):g("",!0)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["anchor"])]),_:1}),t(v,{clickable:""},{default:a(()=>[t(s,{avatar:""},{default:a(()=>[t(m,{name:e.biTranslate},null,8,["name"])]),_:1}),t(s,null,{default:a(()=>[t(T,{lines:"1"},{default:a(()=>[h(f(e.t("base.language"))+" : "+f(e.currenLocale?e.currenLocale.name:""),1)]),_:1})]),_:1}),t(s,{side:""},{default:a(()=>[t(m,{name:e.biChevronRight},null,8,["name"])]),_:1}),t(B,{anchor:e.$q.screen.gt.xs?"top end":"bottom left",self:"top start"},{default:a(()=>[t(P,{style:{"min-width":"150px"}},{default:a(()=>[(o(!0),I(R,null,E(e.availableLocales,n=>(o(),r(v,{clickable:"",key:n.iso,onClick:i=>e.langugeAndThemeStore.setLocale(n.iso)},{default:a(()=>[t(s,null,{default:a(()=>[h(f(n.name),1)]),_:2},1024),n.iso==e.langugeAndThemeStore.locale?(o(),r(s,{key:0,side:""},{default:a(()=>[t(m,{name:e.biCheck2},null,8,["name"])]),_:1})):g("",!0)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},8,["anchor"])]),_:1}),t(V),A((o(),r(v,{clickable:""},{default:a(()=>[t(s,{avatar:""},{default:a(()=>[t(m,{name:e.biQuestionCircle},null,8,["name"])]),_:1}),t(s,null,{default:a(()=>[h(f(e.t("base.help")),1)]),_:1})]),_:1})),[[N]]),A((o(),r(v,{clickable:"",to:"/settings"},{default:a(()=>[t(s,{avatar:""},{default:a(()=>[t(m,{name:e.biGear},null,8,["name"])]),_:1}),t(s,null,{default:a(()=>[h(f(e.t("base.setting")),1)]),_:1})]),_:1})),[[N]]),A((o(),r(v,{clickable:"",onClick:e.signOut},{default:a(()=>[t(s,{avatar:""},{default:a(()=>[t(m,{name:e.biBoxArrowRight},null,8,["name"])]),_:1}),t(s,null,{default:a(()=>[h(f(e.t("base.logout")),1)]),_:1})]),_:1},8,["onClick"])),[[N]])]}),_:1})]),_:1})]),_:1},16)}const Ie=D(Te,[["render",Be],["__file","UserNavSetting.vue"]]),Re=se("notificationStore",()=>{const{cacheNotifyCount:u}=j(),l=C({lastestId:0,totalNotify:0});return{notify:l,setNotify:d=>{l.value.totalNotify=d.totalNotify,l.value.lastestId=d.lastestId},setLastNotify:d=>{u.value.lastestId=d}}}),K=()=>{const{callAxios:u}=Ce();return{updateFcmSetting:async n=>{await u({API:"/api/userNotify/updateFcmSetting",method:"PUT",body:n})},refreshFcmToken:async n=>{await u({API:"/api/userNotify/refreshFcmToken",method:"PUT",body:n})},findAllByUser:async(n,i)=>new Promise(y=>{setTimeout(()=>{y([])},1500)}),findCountAllNotRead:async n=>await u({API:`/api/userNotify/findCountAllNotRead?lastestNotifyId=${n}`,method:"GET"}),updateReadNotify:async n=>await u({API:`/api/userNotify/updateReadNotify/${n}`,method:"PUT"}),updateReadNotifyAll:async()=>await u({API:"/api/userNotify/updateReadNotifyAll",method:"PUT"})}},Le=()=>{const{findCountAllNotRead:u}=K(),{cacheNotifyCount:l}=j(),c=Re(),{notify:e}=ce(c),{setNotify:d}=c;return H(()=>{e.value.totalNotify=999}),{notify:e,setNotify:d,resetBadgeCount:()=>{e.value.totalNotify=0},notificationLink:(i,y)=>{if(i&&y){if(i=="LIKE_POST"||i=="SHARE"||i=="COMMENT_POST")return`/post/view/${y}`;if(i=="LIKE_COMMENT")return`/comment/view/${y}`;if(i=="COMMENT_REPLY")return`/comment/view/${y}?isReply=1`}},fetchNotReadNotify:async()=>{const i=await u(l.value&&l.value.lastestId?l.value.lastestId:0);i&&i.lastestId&&i.totalNotify&&d(i)}}},Pe=O({__name:"NotificationBarMenu",setup(u,{expose:l}){l();const c=q(()=>Q(()=>import("./NotificationItem-DmmnfjRn.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]))),e=q(()=>Q(()=>import("./SkeletonItem-DOy8R1Rr.js"),__vite__mapDeps([13,1,2]))),d=q(()=>Q(()=>import("./AppResult-DW23M7rZ.js"),__vite__mapDeps([14,1,2]))),{findAllByUser:b}=K(),{t:_}=M(),n=C(!1),i=C([]);H(async()=>{n.value=!0,await y(),n.value=!1});const y=async()=>{const p=await b(1,10);return p&&p.length>0&&i.value.push(...p),new Promise(k=>{k(!0)})},L={NotificationItem:c,SkeletonItem:e,AppResult:d,findAllByUser:b,t:_,loading:n,items:i,fetchDataData:y};return Object.defineProperty(L,"__isScriptSetup",{enumerable:!1,value:!0}),L}}),qe={class:"text-h6"};function Qe(u,l,c,e,d,b){return o(),r(de,{flat:""},{default:a(()=>[t(F,null,{default:a(()=>[w("div",qe,f(e.t("base.notification")),1)]),_:1}),e.loading?(o(),r(e.SkeletonItem,{key:0,items:5,show:""})):e.items.length>0?(o(),I(R,{key:1},[(o(!0),I(R,null,E(e.items,(_,n)=>(o(),r(e.NotificationItem,{key:`notification-${_.id}`,item:_,index:n},null,8,["item","index"]))),128)),t(F,null,{default:a(()=>[A(t(S,{unelevated:"",rounded:"",color:"primary",class:"full-width",label:e.t("base.readAllNotifications"),to:"/notifications"},null,8,["label"]),[[N]])]),_:1})],64)):(o(),r(e.AppResult,{key:2,status:"empty",description:e.t("error.dataNotfound")},null,8,["description"]))]),_:1})}const Ee=D(Pe,[["render",Qe],["__file","NotificationBarMenu.vue"]]),Oe=O({__name:"AppHeader",props:{bordered:{type:Boolean,default:!1},reveal:{type:Boolean,default:!1},showTogleDrawer:{type:Boolean,default:!1},frontend:{type:Boolean},showLogo:{type:Boolean,default:!0},hambergerMenu:{type:Boolean},hambergerIcon:{default:()=>ue},hambergerIconOff:{},showUserSetting:{type:Boolean,default:!0}},setup(u,{expose:l}){l();const c=z(),e=C(!1),{notify:d,resetBadgeCount:b}=Le(),{t:_}=M(),n=G(),i=C(!1),p={$q:c,showGotTopBtn:e,notify:d,resetBadgeCount:b,t:_,langugeAndThemeStore:n,showSearch:i,onOpenSearch:()=>{i.value=!0},onScroll:k=>{k&&k.position&&k.position.top>100?e.value=!0:e.value=!1},UserNavSetting:Ie,get biAppIndicator(){return fe},get biBell(){return _e},get biCameraVideo(){return me},get biChatDots(){return he},get biSearch(){return ge},NotificationBarMenu:Ee};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),Me=["src"],De={class:"q-mr-sm text-muted"},Ue={class:"q-gutter-md row items-center no-wrap"};function Ve(u,l,c,e,d,b){return o(),r(Ae,{reveal:c.reveal,"height-hint":"58",bordered:c.bordered,elevated:e.showGotTopBtn,class:ke({"wee-second-bg-color-theme-dark text-white":e.$q.dark.isActive,"bg-white text-black":!e.$q.dark.isActive})},{default:a(()=>[t(be,{onScroll:e.onScroll}),t(pe,{class:"q-py-xs"},{default:a(()=>[c.showTogleDrawer?(o(),r(S,{key:0,dense:"",flat:"",round:"",icon:c.hambergerIcon,onClick:l[0]||(l[0]=_=>e.langugeAndThemeStore.setLeftDrawer(!e.langugeAndThemeStore.leftDrawerOpen))},null,8,["icon"])):g("",!0),c.showLogo?(o(),r(S,{key:1,flat:"","no-caps":"","no-wrap":"",class:"q-mr-xs",ripple:!1,to:"/"},{default:a(()=>[t(ye,{style:{height:"auto",width:"42px"},square:""},{default:a(()=>[w("img",{src:e.$q.dark.isActive?"/quasar-starter-template/logo/logo-white.png":"/quasar-starter-template/logo/logo-black.png"},null,8,Me)]),_:1})]),_:1})):g("",!0),e.$q.screen.gt.xs?(o(),r(S,{key:2,flat:"",onClick:e.onOpenSearch,class:"text-capitalize"},{default:a(()=>[w("span",De,f(e.t("base.search")+" Vue Quasar"),1),t(m,{name:e.biSearch},null,8,["name"])]),_:1})):g("",!0),t(ve),w("div",Ue,[e.$q.screen.gt.sm?(o(),r(S,{key:0,round:"",dense:"",flat:"",icon:e.biCameraVideo},{default:a(()=>[t(x,null,{default:a(()=>l[1]||(l[1]=[h("Create a video or post")])),_:1})]),_:1},8,["icon"])):g("",!0),e.$q.screen.gt.sm?(o(),r(S,{key:1,round:"",dense:"",flat:"",icon:e.biAppIndicator},{default:a(()=>[t(x,null,{default:a(()=>l[2]||(l[2]=[h("Apps")])),_:1})]),_:1},8,["icon"])):g("",!0),e.$q.screen.gt.sm?(o(),r(S,{key:2,round:"",dense:"",flat:"",icon:e.biChatDots,to:"/chats"},{default:a(()=>[t(x,null,{default:a(()=>l[3]||(l[3]=[h("Messages")])),_:1})]),_:1},8,["icon"])):g("",!0),e.$q.screen.gt.xs?g("",!0):(o(),r(S,{key:3,round:"",dense:"",flat:"",onClick:e.onOpenSearch},{default:a(()=>[t(m,{name:e.biSearch},null,8,["name"])]),_:1})),t(S,{round:"",dense:"",flat:"",onClick:e.resetBadgeCount,icon:e.biBell},{default:a(()=>[e.notify&&e.notify.totalNotify?(o(),r(Se,{key:0,color:"negative",rounded:"","text-color":"white",floating:""},{default:a(()=>[h(f(e.notify.totalNotify>99?"99+":e.notify.totalNotify),1)]),_:1})):g("",!0),t(x,null,{default:a(()=>[h(f(e.t("nav.notifications")),1)]),_:1}),t(B,{anchor:"bottom left",self:"top left",style:{width:"360px"}},{default:a(()=>[t(e.NotificationBarMenu)]),_:1})]),_:1},8,["onClick","icon"]),c.showUserSetting?(o(),r(e.UserNavSetting,{key:4,style:{"max-width":"225px"}})):g("",!0)])]),_:1})]),_:1},8,["reveal","bordered","elevated","class"])}const Ke=D(Oe,[["render",Ve],["__file","AppHeader.vue"]]);export{Ke as A,K as U,Ie as a,Le as u};
